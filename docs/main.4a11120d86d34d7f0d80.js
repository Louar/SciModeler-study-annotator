(self.webpackChunkstudy_annotator=self.webpackChunkstudy_annotator||[]).push([[179],{255:ve=>{function f(V){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+V+"'");throw h.code="MODULE_NOT_FOUND",h})}f.keys=()=>[],f.resolve=f,f.id=255,ve.exports=f},552:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(52).default,V;V=function(){return(()=>{"use strict";var __webpack_modules__=[(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"addLinkAttributes",{enumerable:!0,get:function(){return h.addLinkAttributes}}),Object.defineProperty(f,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(f,"LinkTarget",{enumerable:!0,get:function(){return h.LinkTarget}}),Object.defineProperty(f,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(f,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(f,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(f,"build",{enumerable:!0,get:function(){return F.build}}),Object.defineProperty(f,"getDocument",{enumerable:!0,get:function(){return F.getDocument}}),Object.defineProperty(f,"LoopbackPort",{enumerable:!0,get:function(){return F.LoopbackPort}}),Object.defineProperty(f,"PDFDataRangeTransport",{enumerable:!0,get:function(){return F.PDFDataRangeTransport}}),Object.defineProperty(f,"PDFWorker",{enumerable:!0,get:function(){return F.PDFWorker}}),Object.defineProperty(f,"version",{enumerable:!0,get:function(){return F.version}}),Object.defineProperty(f,"CMapCompressionType",{enumerable:!0,get:function(){return G.CMapCompressionType}}),Object.defineProperty(f,"createObjectURL",{enumerable:!0,get:function(){return G.createObjectURL}}),Object.defineProperty(f,"createPromiseCapability",{enumerable:!0,get:function(){return G.createPromiseCapability}}),Object.defineProperty(f,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return G.createValidAbsoluteUrl}}),Object.defineProperty(f,"InvalidPDFException",{enumerable:!0,get:function(){return G.InvalidPDFException}}),Object.defineProperty(f,"MissingPDFException",{enumerable:!0,get:function(){return G.MissingPDFException}}),Object.defineProperty(f,"OPS",{enumerable:!0,get:function(){return G.OPS}}),Object.defineProperty(f,"PasswordResponses",{enumerable:!0,get:function(){return G.PasswordResponses}}),Object.defineProperty(f,"PermissionFlag",{enumerable:!0,get:function(){return G.PermissionFlag}}),Object.defineProperty(f,"removeNullCharacters",{enumerable:!0,get:function(){return G.removeNullCharacters}}),Object.defineProperty(f,"shadow",{enumerable:!0,get:function(){return G.shadow}}),Object.defineProperty(f,"UnexpectedResponseException",{enumerable:!0,get:function(){return G.UnexpectedResponseException}}),Object.defineProperty(f,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return G.UNSUPPORTED_FEATURES}}),Object.defineProperty(f,"Util",{enumerable:!0,get:function(){return G.Util}}),Object.defineProperty(f,"VerbosityLevel",{enumerable:!0,get:function(){return G.VerbosityLevel}}),Object.defineProperty(f,"AnnotationLayer",{enumerable:!0,get:function(){return ne.AnnotationLayer}}),Object.defineProperty(f,"apiCompatibilityParams",{enumerable:!0,get:function(){return Y.apiCompatibilityParams}}),Object.defineProperty(f,"GlobalWorkerOptions",{enumerable:!0,get:function(){return I.GlobalWorkerOptions}}),Object.defineProperty(f,"renderTextLayer",{enumerable:!0,get:function(){return B.renderTextLayer}}),Object.defineProperty(f,"SVGGraphics",{enumerable:!0,get:function(){return N.SVGGraphics}});var h=V(1),F=V(5),G=V(2),ne=V(19),Y=V(9),I=V(12),B=V(21),N=V(22);{const{isNodeJS:C}=V(4);if(C){const M=V(23).PDFNodeStream;(0,F.setPDFNetworkStreamFactory)(O=>new M(O))}else{const M=V(26).PDFNetworkStream;let O;(0,h.isFetchSupported)()&&(O=V(27).PDFFetchStream),(0,F.setPDFNetworkStreamFactory)(L=>O&&(0,h.isValidFetchUrl)(L.url)?new O(L):new M(L))}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addLinkAttributes=function(R,{url:v,target:b,rel:z,enabled:U=!0}={}){(0,h.assert)(v&&"string"==typeof v,'addLinkAttributes: A valid "url" parameter must provided.');const ie=(0,h.removeNullCharacters)(v);U?R.href=R.title=ie:(R.href="",R.title=`Disabled: ${ie}`,R.onclick=()=>!1);let J="";switch(b){case C.NONE:break;case C.SELF:J="_self";break;case C.BLANK:J="_blank";break;case C.PARENT:J="_parent";break;case C.TOP:J="_top"}R.target=J,R.rel="string"==typeof z?z:F},f.deprecated=function(R){console.log("Deprecated API usage: "+R)},f.getFilenameFromUrl=function(R){const v=R.indexOf("#"),b=R.indexOf("?"),z=Math.min(v>0?v:R.length,b>0?b:R.length);return R.substring(R.lastIndexOf("/",z)+1,z)},f.isFetchSupported=H,f.isValidFetchUrl=W,f.loadScript=function(R,v=!1){return new Promise((b,z)=>{const U=document.createElement("script");U.src=R,U.onload=function(ie){v&&U.remove(),b(ie)},U.onerror=function(){z(new Error(`Cannot load script at: ${U.src}`))},(document.head||document.documentElement).appendChild(U)})},f.StatTimer=f.RenderingCancelledException=f.PDFDateString=f.PageViewport=f.LinkTarget=f.DOMSVGFactory=f.DOMCMapReaderFactory=f.DOMCanvasFactory=f.DEFAULT_LINK_REL=f.BaseCMapReaderFactory=f.BaseCanvasFactory=void 0;var h=V(2);const F="noopener noreferrer nofollow";f.DEFAULT_LINK_REL=F;const G="http://www.w3.org/2000/svg";class ne{constructor(){this.constructor===ne&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(v,b){(0,h.unreachable)("Abstract method `create` called.")}reset(v,b,z){if(!v.canvas)throw new Error("Canvas is not specified");if(b<=0||z<=0)throw new Error("Invalid canvas size");v.canvas.width=b,v.canvas.height=z}destroy(v){if(!v.canvas)throw new Error("Canvas is not specified");v.canvas.width=0,v.canvas.height=0,v.canvas=null,v.context=null}}f.BaseCanvasFactory=ne,f.DOMCanvasFactory=class extends ne{constructor({ownerDocument:v=globalThis.document}={}){super(),this._document=v}create(v,b){if(v<=0||b<=0)throw new Error("Invalid canvas size");const z=this._document.createElement("canvas"),U=z.getContext("2d");return z.width=v,z.height=b,{canvas:z,context:U}}};class I{constructor({baseUrl:v=null,isCompressed:b=!1}){this.constructor===I&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=v,this.isCompressed=b}fetch({name:v}){var b=this;return _asyncToGenerator(function*(){if(!b.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!v)throw new Error("CMap name must be specified.");const z=b.baseUrl+v+(b.isCompressed?".bcmap":"");return b._fetchData(z,b.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE).catch(ie=>{throw new Error(`Unable to load ${b.isCompressed?"binary ":""}CMap at: ${z}`)})})()}_fetchData(v,b){(0,h.unreachable)("Abstract method `_fetchData` called.")}}f.BaseCMapReaderFactory=I,f.DOMCMapReaderFactory=class extends I{_fetchData(v,b){var z=this;return H()&&W(v,document.baseURI)?fetch(v).then(function(){var U=_asyncToGenerator(function*(ie){if(!ie.ok)throw new Error(ie.statusText);let J;return J=z.isCompressed?new Uint8Array(yield ie.arrayBuffer()):(0,h.stringToBytes)(yield ie.text()),{cMapData:J,compressionType:b}});return function(ie){return U.apply(this,arguments)}}()):new Promise((U,ie)=>{const J=new XMLHttpRequest;J.open("GET",v,!0),this.isCompressed&&(J.responseType="arraybuffer"),J.onreadystatechange=()=>{if(J.readyState===XMLHttpRequest.DONE){if(200===J.status||0===J.status){let q;if(this.isCompressed&&J.response?q=new Uint8Array(J.response):!this.isCompressed&&J.responseText&&(q=(0,h.stringToBytes)(J.responseText)),q)return void U({cMapData:q,compressionType:b})}ie(new Error(J.statusText))}},J.send(null)})}},f.DOMSVGFactory=class{create(v,b){(0,h.assert)(v>0&&b>0,"Invalid SVG dimensions");const z=document.createElementNS(G,"svg:svg");return z.setAttribute("version","1.1"),z.setAttribute("width",v+"px"),z.setAttribute("height",b+"px"),z.setAttribute("preserveAspectRatio","none"),z.setAttribute("viewBox","0 0 "+v+" "+b),z}createElement(v){return(0,h.assert)("string"==typeof v,"Invalid SVG element type"),document.createElementNS(G,v)}};class x{constructor({viewBox:v,scale:b,rotation:z,offsetX:U=0,offsetY:ie=0,dontFlip:J=!1}){this.viewBox=v,this.scale=b,this.rotation=z,this.offsetX=U,this.offsetY=ie;const q=(v[2]+v[0])/2,oe=(v[3]+v[1])/2;let re,A,m,u,y,w,P,T;switch(z=(z%=360)<0?z+360:z){case 180:re=-1,A=0,m=0,u=1;break;case 90:re=0,A=1,m=1,u=0;break;case 270:re=0,A=-1,m=-1,u=0;break;case 0:re=1,A=0,m=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}J&&(m=-m,u=-u),0===re?(y=Math.abs(oe-v[1])*b+U,w=Math.abs(q-v[0])*b+ie,P=Math.abs(v[3]-v[1])*b,T=Math.abs(v[2]-v[0])*b):(y=Math.abs(q-v[0])*b+U,w=Math.abs(oe-v[1])*b+ie,P=Math.abs(v[2]-v[0])*b,T=Math.abs(v[3]-v[1])*b),this.transform=[re*b,A*b,m*b,u*b,y-re*b*q-m*b*oe,w-A*b*q-u*b*oe],this.width=P,this.height=T}clone({scale:v=this.scale,rotation:b=this.rotation,offsetX:z=this.offsetX,offsetY:U=this.offsetY,dontFlip:ie=!1}={}){return new x({viewBox:this.viewBox.slice(),scale:v,rotation:b,offsetX:z,offsetY:U,dontFlip:ie})}convertToViewportPoint(v,b){return h.Util.applyTransform([v,b],this.transform)}convertToViewportRectangle(v){const b=h.Util.applyTransform([v[0],v[1]],this.transform),z=h.Util.applyTransform([v[2],v[3]],this.transform);return[b[0],b[1],z[0],z[1]]}convertToPdfPoint(v,b){return h.Util.applyInverseTransform([v,b],this.transform)}}f.PageViewport=x,f.RenderingCancelledException=class extends h.BaseException{constructor(v,b){super(v),this.type=b}};const C={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function H(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function W(R,v){try{const{protocol:b}=v?new URL(R,v):new URL(R);return"http:"===b||"https:"===b}catch(b){return!1}}let g;f.LinkTarget=C,f.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(v){v in this.started&&(0,h.warn)(`Timer is already running for ${v}`),this.started[v]=Date.now()}timeEnd(v){v in this.started||(0,h.warn)(`Timer has not been started for ${v}`),this.times.push({name:v,start:this.started[v],end:Date.now()}),delete this.started[v]}toString(){const v=[];let b=0;for(const z of this.times){const U=z.name;U.length>b&&(b=U.length)}for(const z of this.times){const U=z.end-z.start;v.push(`${z.name.padEnd(b)} ${U}ms\n`)}return v.join("")}},f.PDFDateString=class{static toDateObject(v){if(!v||!(0,h.isString)(v))return null;g||(g=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const b=g.exec(v);if(!b)return null;const z=parseInt(b[1],10);let U=parseInt(b[2],10);U=U>=1&&U<=12?U-1:0;let ie=parseInt(b[3],10);ie=ie>=1&&ie<=31?ie:1;let J=parseInt(b[4],10);J=J>=0&&J<=23?J:0;let q=parseInt(b[5],10);q=q>=0&&q<=59?q:0;let oe=parseInt(b[6],10);oe=oe>=0&&oe<=59?oe:0;const re=b[7]||"Z";let A=parseInt(b[8],10);A=A>=0&&A<=23?A:0;let m=parseInt(b[9],10)||0;return m=m>=0&&m<=59?m:0,"-"===re?(J+=A,q+=m):"+"===re&&(J-=A,q-=m),new Date(Date.UTC(z,U,ie,J,q,oe))}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.arrayByteLength=Fe,f.arraysToBytes=function(ce){const Z=ce.length;if(1===Z&&ce[0]instanceof Uint8Array)return ce[0];let se=0;for(let st=0;st<Z;st++)se+=Fe(ce[st]);let pe=0;const qe=new Uint8Array(se);for(let st=0;st<Z;st++){let xe=ce[st];xe instanceof Uint8Array||(xe="string"==typeof xe?Pe(xe):new Uint8Array(xe));const we=xe.byteLength;qe.set(xe,pe),pe+=we}return qe},f.assert=re,f.bytesToString=function(ce){re(null!==ce&&"object"==typeof ce&&void 0!==ce.length,"Invalid argument for bytesToString");const Z=ce.length;if(Z<8192)return String.fromCharCode.apply(null,ce);const pe=[];for(let qe=0;qe<Z;qe+=8192){const st=Math.min(qe+8192,Z),xe=ce.subarray(qe,st);pe.push(String.fromCharCode.apply(null,xe))}return pe.join("")},f.createPromiseCapability=function(){const ce=Object.create(null);let Z=!1;return Object.defineProperty(ce,"settled",{get:()=>Z}),ce.promise=new Promise(function(se,pe){ce.resolve=function(qe){Z=!0,se(qe)},ce.reject=function(qe){Z=!0,pe(qe)}}),ce},f.createValidAbsoluteUrl=function(ce,Z){if(!ce)return null;try{const se=Z?new URL(ce,Z):new URL(ce);if(function(ce){if(!ce)return!1;switch(ce.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(se))return se}catch(se){}return null},f.encodeToXmlString=function(ce){const Z=[];let se=0;for(let pe=0,qe=ce.length;pe<qe;pe++){const st=ce.codePointAt(pe);if(32<=st&&st<=126){const xe=ju[st];xe&&(se<pe&&Z.push(ce.substring(se,pe)),Z.push(xe),se=pe+1)}else se<pe&&Z.push(ce.substring(se,pe)),Z.push(`&#x${st.toString(16).toUpperCase()};`),st>55295&&(st<57344||st>65533)&&pe++,se=pe+1}return 0===Z.length?ce:(se<ce.length&&Z.push(ce.substring(se,ce.length)),Z.join(""))},f.escapeString=function(ce){return ce.replace(/([()\\\n\r])/g,Z=>"\n"===Z?"\\n":"\r"===Z?"\\r":`\\${Z}`)},f.getModificationDate=function(ce=new Date){return[ce.getUTCFullYear().toString(),(ce.getUTCMonth()+1).toString().padStart(2,"0"),ce.getUTCDate().toString().padStart(2,"0"),ce.getUTCHours().toString().padStart(2,"0"),ce.getUTCMinutes().toString().padStart(2,"0"),ce.getUTCSeconds().toString().padStart(2,"0")].join("")},f.getVerbosityLevel=function(){return z},f.info=function(ce){z>=g.INFOS&&console.log(`Info: ${ce}`)},f.isArrayBuffer=function(ce){return"object"==typeof ce&&null!==ce&&void 0!==ce.byteLength},f.isArrayEqual=function(ce,Z){return ce.length===Z.length&&ce.every(function(se,pe){return se===Z[pe]})},f.isAscii=function(ce){return/^[\x00-\x7F]*$/.test(ce)},f.isBool=function(ce){return"boolean"==typeof ce},f.isNum=function(ce){return"number"==typeof ce},f.isSameOrigin=function(ce,Z){let se;try{if(se=new URL(ce),!se.origin||"null"===se.origin)return!1}catch(qe){return!1}const pe=new URL(Z,se);return se.origin===pe.origin},f.isString=function(ce){return"string"==typeof ce},f.objectFromEntries=function(ce){return Object.assign(Object.create(null),Object.fromEntries(ce))},f.objectSize=function(ce){return Object.keys(ce).length},f.removeNullCharacters=function(ce){return"string"!=typeof ce?(q("The argument for removeNullCharacters must be a string."),ce):ce.replace(fe,"")},f.setVerbosityLevel=function(ce){Number.isInteger(ce)&&(z=ce)},f.shadow=y,f.string32=function(ce){return String.fromCharCode(ce>>24&255,ce>>16&255,ce>>8&255,255&ce)},f.stringToBytes=Pe,f.stringToPDFString=function(ce){const Z=ce.length,se=[];if("\xfe"===ce[0]&&"\xff"===ce[1])for(let pe=2;pe<Z;pe+=2)se.push(String.fromCharCode(ce.charCodeAt(pe)<<8|ce.charCodeAt(pe+1)));else if("\xff"===ce[0]&&"\xfe"===ce[1])for(let pe=2;pe<Z;pe+=2)se.push(String.fromCharCode(ce.charCodeAt(pe+1)<<8|ce.charCodeAt(pe)));else for(let pe=0;pe<Z;++pe){const qe=Un[ce.charCodeAt(pe)];se.push(qe?String.fromCharCode(qe):ce.charAt(pe))}return se.join("")},f.stringToUTF16BEString=function(ce){const Z=["\xfe\xff"];for(let se=0,pe=ce.length;se<pe;se++){const qe=ce.charCodeAt(se);Z.push(String.fromCharCode(qe>>8&255)),Z.push(String.fromCharCode(255&qe))}return Z.join("")},f.stringToUTF8String=function(ce){return decodeURIComponent(escape(ce))},f.unreachable=oe,f.utf8StringToString=function(ce){return unescape(encodeURIComponent(ce))},f.warn=q,f.VerbosityLevel=f.Util=f.UNSUPPORTED_FEATURES=f.UnknownErrorException=f.UnexpectedResponseException=f.TextRenderingMode=f.StreamType=f.PermissionFlag=f.PasswordResponses=f.PasswordException=f.PageActionEventType=f.OPS=f.MissingPDFException=f.IsLittleEndianCached=f.IsEvalSupportedCached=f.InvalidPDFException=f.ImageKind=f.IDENTITY_MATRIX=f.FormatError=f.FontType=f.FONT_IDENTITY_MATRIX=f.DocumentActionEventType=f.createObjectURL=f.CMapCompressionType=f.BaseException=f.AnnotationType=f.AnnotationStateModelType=f.AnnotationReviewState=f.AnnotationReplyType=f.AnnotationMarkedState=f.AnnotationFlag=f.AnnotationFieldFlag=f.AnnotationBorderStyleType=f.AnnotationActionEventType=f.AbortException=void 0,V(3),f.IDENTITY_MATRIX=[1,0,0,1,0,0],f.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],f.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},f.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},f.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},f.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},f.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},f.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},f.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},f.AnnotationReplyType={GROUP:"Group",REPLY:"R"},f.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},f.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},f.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},f.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},f.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},f.PageActionEventType={O:"PageOpen",C:"PageClose"},f.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},f.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const g={ERRORS:0,WARNINGS:1,INFOS:5};f.VerbosityLevel=g,f.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},f.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},f.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},f.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let z=g.WARNINGS;function q(ce){z>=g.WARNINGS&&console.log(`Warning: ${ce}`)}function oe(ce){throw new Error(ce)}function re(ce,Z){ce||oe(Z)}function y(ce,Z,se){return Object.defineProperty(ce,Z,{value:se,enumerable:!0,configurable:!0,writable:!1}),se}const w=function(){function Z(se){this.constructor===Z&&oe("Cannot initialize BaseException."),this.message=se,this.name=this.constructor.name}return Z.prototype=new Error,Z.constructor=Z,Z}();f.BaseException=w,f.PasswordException=class extends w{constructor(Z,se){super(Z),this.code=se}},f.UnknownErrorException=class extends w{constructor(Z,se){super(Z),this.details=se}},f.InvalidPDFException=class extends w{},f.MissingPDFException=class extends w{},f.UnexpectedResponseException=class extends w{constructor(Z,se){super(Z),this.status=se}},f.FormatError=class extends w{},f.AbortException=class extends w{};const fe=/\x00/g;function Pe(ce){re("string"==typeof ce,"Invalid argument for stringToBytes");const Z=ce.length,se=new Uint8Array(Z);for(let pe=0;pe<Z;++pe)se[pe]=255&ce.charCodeAt(pe);return se}function Fe(ce){return void 0!==ce.length?ce.length:(re(void 0!==ce.byteLength,"arrayByteLength - invalid argument."),ce.byteLength)}f.IsLittleEndianCached={get value(){return y(this,"value",function(){const ce=new Uint8Array(4);return ce[0]=1,1===new Uint32Array(ce.buffer,0,1)[0]}())}},f.IsEvalSupportedCached={get value(){return y(this,"value",function(){try{return new Function(""),!0}catch(ce){return!1}}())}};const Tt=[...Array(256).keys()].map(ce=>ce.toString(16).padStart(2,"0"));class Xe{static makeHexColor(Z,se,pe){return`#${Tt[Z]}${Tt[se]}${Tt[pe]}`}static transform(Z,se){return[Z[0]*se[0]+Z[2]*se[1],Z[1]*se[0]+Z[3]*se[1],Z[0]*se[2]+Z[2]*se[3],Z[1]*se[2]+Z[3]*se[3],Z[0]*se[4]+Z[2]*se[5]+Z[4],Z[1]*se[4]+Z[3]*se[5]+Z[5]]}static applyTransform(Z,se){return[Z[0]*se[0]+Z[1]*se[2]+se[4],Z[0]*se[1]+Z[1]*se[3]+se[5]]}static applyInverseTransform(Z,se){const pe=se[0]*se[3]-se[1]*se[2];return[(Z[0]*se[3]-Z[1]*se[2]+se[2]*se[5]-se[4]*se[3])/pe,(-Z[0]*se[1]+Z[1]*se[0]+se[4]*se[1]-se[5]*se[0])/pe]}static getAxialAlignedBoundingBox(Z,se){const pe=Xe.applyTransform(Z,se),qe=Xe.applyTransform(Z.slice(2,4),se),st=Xe.applyTransform([Z[0],Z[3]],se),xe=Xe.applyTransform([Z[2],Z[1]],se);return[Math.min(pe[0],qe[0],st[0],xe[0]),Math.min(pe[1],qe[1],st[1],xe[1]),Math.max(pe[0],qe[0],st[0],xe[0]),Math.max(pe[1],qe[1],st[1],xe[1])]}static inverseTransform(Z){const se=Z[0]*Z[3]-Z[1]*Z[2];return[Z[3]/se,-Z[1]/se,-Z[2]/se,Z[0]/se,(Z[2]*Z[5]-Z[4]*Z[3])/se,(Z[4]*Z[1]-Z[5]*Z[0])/se]}static apply3dTransform(Z,se){return[Z[0]*se[0]+Z[1]*se[1]+Z[2]*se[2],Z[3]*se[0]+Z[4]*se[1]+Z[5]*se[2],Z[6]*se[0]+Z[7]*se[1]+Z[8]*se[2]]}static singularValueDecompose2dScale(Z){const se=[Z[0],Z[2],Z[1],Z[3]],pe=Z[0]*se[0]+Z[1]*se[2],xe=Z[2]*se[1]+Z[3]*se[3],we=(pe+xe)/2,ur=Math.sqrt((pe+xe)*(pe+xe)-4*(pe*xe-(Z[2]*se[0]+Z[3]*se[2])*(Z[0]*se[1]+Z[1]*se[3])))/2,$n=we-ur||1;return[Math.sqrt(we+ur||1),Math.sqrt($n)]}static normalizeRect(Z){const se=Z.slice(0);return Z[0]>Z[2]&&(se[0]=Z[2],se[2]=Z[0]),Z[1]>Z[3]&&(se[1]=Z[3],se[3]=Z[1]),se}static intersect(Z,se){function pe(we,ur){return we-ur}const qe=[Z[0],Z[2],se[0],se[2]].sort(pe),st=[Z[1],Z[3],se[1],se[3]].sort(pe),xe=[];return Z=Xe.normalizeRect(Z),se=Xe.normalizeRect(se),qe[0]===Z[0]&&qe[1]===se[0]||qe[0]===se[0]&&qe[1]===Z[0]?(xe[0]=qe[1],xe[2]=qe[2],st[0]===Z[1]&&st[1]===se[1]||st[0]===se[1]&&st[1]===Z[1]?(xe[1]=st[1],xe[3]=st[2],xe):null):null}}f.Util=Xe;const Un=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],Po=function(){const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(pe,qe,st=!1){if(!st&&URL.createObjectURL){const we=new Blob([pe],{type:qe});return URL.createObjectURL(we)}let xe=`data:${qe};base64,`;for(let we=0,ur=pe.length;we<ur;we+=3){const Fo=255&pe[we],$n=255&pe[we+1],Hu=255&pe[we+2];xe+=Z[Fo>>2]+Z[(3&Fo)<<4|$n>>4]+Z[we+1<ur?(15&$n)<<2|Hu>>6:64]+Z[we+2<ur?63&Hu:64]}return xe}}();f.createObjectURL=Po;const ju={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(ve,f,V)=>{V(4)},(ve,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isNodeJS=void 0;const V=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);f.isNodeJS=V},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_webgl=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(ve){createPDFNetworkStream=ve}function getDocument(ve){const f=new PDFDocumentLoadingTask;let V;if("string"==typeof ve)V={url:ve};else if((0,_util.isArrayBuffer)(ve))V={data:ve};else if(ve instanceof PDFDataRangeTransport)V={range:ve};else{if("object"!=typeof ve)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!ve.url&&!ve.data&&!ve.range)throw new Error("Invalid parameter object: need either .data, .range or .url");V=ve}const h=Object.create(null);let F=null,G=null;for(const Y in V)if("url"!==Y||"undefined"==typeof window)if("range"!==Y)if("worker"!==Y)if("data"!==Y||V[Y]instanceof Uint8Array)h[Y]=V[Y];else{const I=V[Y];if("string"==typeof I)h[Y]=(0,_util.stringToBytes)(I);else if("object"!=typeof I||null===I||isNaN(I.length)){if(!(0,_util.isArrayBuffer)(I))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");h[Y]=new Uint8Array(I)}else h[Y]=new Uint8Array(I)}else G=V[Y];else F=V[Y];else h[Y]=new URL(V[Y],window.location).href;if(h.rangeChunkSize=h.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,h.CMapReaderFactory=h.CMapReaderFactory||DefaultCMapReaderFactory,h.ignoreErrors=!0!==h.stopAtErrors,h.fontExtraProperties=!0===h.fontExtraProperties,h.pdfBug=!0===h.pdfBug,Number.isInteger(h.maxImageSize)||(h.maxImageSize=-1),"boolean"!=typeof h.isEvalSupported&&(h.isEvalSupported=!0),"boolean"!=typeof h.disableFontFace&&(h.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===h.ownerDocument&&(h.ownerDocument=globalThis.document),"boolean"!=typeof h.disableRange&&(h.disableRange=!1),"boolean"!=typeof h.disableStream&&(h.disableStream=!1),"boolean"!=typeof h.disableAutoFetch&&(h.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(h.verbosity),!G){const Y={verbosity:h.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};G=Y.port?PDFWorker.fromPort(Y):new PDFWorker(Y),f._worker=G}const ne=f.docId;return G.promise.then(function(){if(f.destroyed)throw new Error("Loading aborted");const Y=_fetchDocument(G,h,F,ne),I=new Promise(function(B){let N;F?N=new _transport_stream.PDFDataTransportStream({length:h.length,initialData:h.initialData,progressiveDone:h.progressiveDone,disableRange:h.disableRange,disableStream:h.disableStream},F):h.data||(N=createPDFNetworkStream({url:h.url,length:h.length,httpHeaders:h.httpHeaders,withCredentials:h.withCredentials,rangeChunkSize:h.rangeChunkSize,disableRange:h.disableRange,disableStream:h.disableStream})),B(N)});return Promise.all([Y,I]).then(function([B,N]){if(f.destroyed)throw new Error("Loading aborted");const x=new _message_handler.MessageHandler(ne,B,G.port);x.postMessageTransfers=G.postMessageTransfers;const j=new WorkerTransport(x,f,N,h);f._transport=j,x.send("Ready",null)})}).catch(f._capability.reject),f}function _fetchDocument(ve,f,V,h){return ve.destroyed?Promise.reject(new Error("Worker was destroyed")):(V&&(f.length=V.length,f.initialData=V.initialData,f.progressiveDone=V.progressiveDone),ve.messageHandler.sendWithPromise("GetDocRequest",{docId:h,apiVersion:"2.7.570",source:{data:f.data,url:f.url,password:f.password,disableAutoFetch:f.disableAutoFetch,rangeChunkSize:f.rangeChunkSize,length:f.length},maxImageSize:f.maxImageSize,disableFontFace:f.disableFontFace,postMessageTransfers:ve.postMessageTransfers,docBaseUrl:f.docBaseUrl,ignoreErrors:f.ignoreErrors,isEvalSupported:f.isEvalSupported,fontExtraProperties:f.fontExtraProperties}).then(function(F){if(ve.destroyed)throw new Error("Worker was destroyed");return F}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const PDFDocumentLoadingTask=function(){let f=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+f++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}}();class PDFDataRangeTransport{constructor(f,V,h=!1){this.length=f,this.initialData=V,this.progressiveDone=h,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(f){this._rangeListeners.push(f)}addProgressListener(f){this._progressListeners.push(f)}addProgressiveReadListener(f){this._progressiveReadListeners.push(f)}addProgressiveDoneListener(f){this._progressiveDoneListeners.push(f)}onDataRange(f,V){for(const h of this._rangeListeners)h(f,V)}onDataProgress(f,V){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(f,V)})}onDataProgressiveRead(f){this._readyCapability.promise.then(()=>{for(const V of this._progressiveReadListeners)V(f)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const f of this._progressiveDoneListeners)f()})}transportReady(){this._readyCapability.resolve()}requestDataRange(f,V){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(f,V){this._pdfInfo=f,this._transport=V}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(f){return this._transport.getPage(f)}getPageIndex(f){return this._transport.getPageIndex(f)}getDestinations(){return this._transport.getDestinations()}getDestination(f){return this._transport.getDestination(f)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(f){return this._transport.saveDocument(f)}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(f,V,h,F,G=!1){this._pageIndex=f,this._pageInfo=V,this._ownerDocument=F,this._transport=h,this._stats=G?new _display_utils.StatTimer:null,this._pdfBug=G,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:f,rotation:V=this.rotate,offsetX:h=0,offsetY:F=0,dontFlip:G=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:f,rotation:V,offsetX:h,offsetY:F,dontFlip:G})}getAnnotations({intent:f=null}={}){return(!this.annotationsPromise||this.annotationsIntent!==f)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,f),this.annotationsIntent=f),this.annotationsPromise}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}render({canvasContext:f,viewport:V,intent:h="display",enableWebGL:F=!1,renderInteractiveForms:G=!1,transform:ne=null,imageLayer:Y=null,canvasFactory:I=null,background:B=null,annotationStorage:N=null,optionalContentConfigPromise:x=null}){this._stats&&this._stats.time("Overall");const j="print"===h?"print":"display";this.pendingCleanup=!1,x||(x=this._transport.getOptionalContentConfig());let C=this._intentStates.get(j);C||(C=Object.create(null),this._intentStates.set(j,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const M=I||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),O=new _webgl.WebGLContext({enable:F});C.displayReadyCapability||(C.displayReadyCapability=(0,_util.createPromiseCapability)(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:j,renderInteractiveForms:!0===G,annotationStorage:(null==N?void 0:N.getAll())||null}));const L=Q=>{const S=C.renderTasks.indexOf(H);S>=0&&C.renderTasks.splice(S,1),(this.cleanupAfterRender||"print"===j)&&(this.pendingCleanup=!0),this._tryCleanup(),Q?(H.capability.reject(Q),this._abortOperatorList({intentState:C,reason:Q})):H.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},H=new InternalRenderTask({callback:L,params:{canvasContext:f,viewport:V,transform:ne,imageLayer:Y,background:B},objs:this.objs,commonObjs:this.commonObjs,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:M,webGLContext:O,useRequestAnimationFrame:"print"!==j,pdfBug:this._pdfBug});C.renderTasks||(C.renderTasks=[]),C.renderTasks.push(H);const W=H.task;return Promise.all([C.displayReadyCapability.promise,x]).then(([Q,S])=>{this.pendingCleanup?L():(this._stats&&this._stats.time("Rendering"),H.initializeGraphics({transparency:Q,optionalContentConfig:S}),H.operatorListChanged())}).catch(L),W}getOperatorList(){const V="oplist";let F,h=this._intentStates.get(V);return h||(h=Object.create(null),this._intentStates.set(V,h)),h.opListReadCapability||(F=Object.create(null),F.operatorListChanged=function(){if(h.operatorList.lastChunk){h.opListReadCapability.resolve(h.operatorList);const G=h.renderTasks.indexOf(F);G>=0&&h.renderTasks.splice(G,1)}},h.opListReadCapability=(0,_util.createPromiseCapability)(),h.renderTasks=[],h.renderTasks.push(F),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:V})),h.opListReadCapability.promise}streamTextContent({normalizeWhitespace:f=!1,disableCombineTextItems:V=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===f,combineTextItems:!0!==V},{highWaterMark:100,size:F=>F.items.length})}getTextContent(f={}){const V=this.streamTextContent(f);return new Promise(function(h,F){const ne=V.getReader(),Y={items:[],styles:Object.create(null)};!function G(){ne.read().then(function({value:I,done:B}){B?h(Y):(Object.assign(Y.styles,I.styles),Y.items.push(...I.items),G())},F)}()})}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const f=[];for(const[V,h]of this._intentStates)if(this._abortOperatorList({intentState:h,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==V)for(const F of h.renderTasks)f.push(F.completed),F.cancel();return this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,this.pendingCleanup=!1,Promise.all(f)}cleanup(f=!1){return this.pendingCleanup=!0,this._tryCleanup(f)}_tryCleanup(f=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:V,operatorList:h}of this._intentStates.values())if(0!==V.length||!h.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,f&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(f,V){const h=this._intentStates.get(V);!h||(this._stats&&this._stats.timeEnd("Page Request"),h.displayReadyCapability&&h.displayReadyCapability.resolve(f))}_renderPageChunk(f,V){for(let h=0,F=f.length;h<F;h++)V.operatorList.fnArray.push(f.fnArray[h]),V.operatorList.argsArray.push(f.argsArray[h]);V.operatorList.lastChunk=f.lastChunk;for(let h=0;h<V.renderTasks.length;h++)V.renderTasks[h].operatorListChanged();f.lastChunk&&this._tryCleanup()}_pumpOperatorList(f){(0,_util.assert)(f.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const h=this._transport.messageHandler.sendWithStream("GetOperatorList",f).getReader(),F=this._intentStates.get(f.intent);F.streamReader=h;const G=()=>{h.read().then(({value:ne,done:Y})=>{Y?F.streamReader=null:this._transport.destroyed||(this._renderPageChunk(ne,F),G())},ne=>{if(F.streamReader=null,!this._transport.destroyed){if(F.operatorList){F.operatorList.lastChunk=!0;for(let Y=0;Y<F.renderTasks.length;Y++)F.renderTasks[Y].operatorListChanged();this._tryCleanup()}if(F.displayReadyCapability)F.displayReadyCapability.reject(ne);else{if(!F.opListReadCapability)throw ne;F.opListReadCapability.reject(ne)}}})};G()}_abortOperatorList({intentState:f,reason:V,force:h=!1}){if((0,_util.assert)(V instanceof Error||"object"==typeof V&&null!==V,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),f.streamReader){if(!h){if(0!==f.renderTasks.length)return;if(V instanceof _display_utils.RenderingCancelledException)return void(f.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:f,reason:V,force:!0}),f.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(f.streamReader.cancel(new _util.AbortException(null==V?void 0:V.message)),f.streamReader=null,!this._transport.destroyed){for(const[F,G]of this._intentStates)if(G===f){this._intentStates.delete(F);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(f=!0){this._listeners=[],this._defer=f,this._deferred=Promise.resolve(void 0)}postMessage(f,V){if(!this._defer)return void this._listeners.forEach(ne=>{ne.call(this,{data:f})});const F=new WeakMap,G={data:function h(ne){if("object"!=typeof ne||null===ne)return ne;if(F.has(ne))return F.get(ne);let Y,I;if((Y=ne.buffer)&&(0,_util.isArrayBuffer)(Y))return I=(null==V?void 0:V.includes(Y))?new ne.constructor(Y,ne.byteOffset,ne.byteLength):new ne.constructor(ne),F.set(ne,I),I;I=Array.isArray(ne)?[]:{},F.set(ne,I);for(const B in ne){let N,x=ne;for(;!(N=Object.getOwnPropertyDescriptor(x,B));)x=Object.getPrototypeOf(x);if(void 0!==N.value){if("function"==typeof N.value){if(ne.hasOwnProperty&&ne.hasOwnProperty(B))throw new Error(`LoopbackPort.postMessage - cannot clone: ${ne[B]}`);continue}I[B]=h(N.value)}}return I}(f)};this._deferred.then(()=>{this._listeners.forEach(ne=>{ne.call(this,G)})})}addEventListener(f,V){this._listeners.push(V)}removeEventListener(f,V){const h=this._listeners.indexOf(V);this._listeners.splice(h,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function(){var ve;const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const f=null==(ve=document.currentScript)?void 0:ve.src;f&&(fallbackWorkerSrc=f.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var V;let f;try{f=null==(V=globalThis.pdfjsWorker)?void 0:V.WorkerMessageHandler}catch(h){}return f||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler});return function(){return _ref2.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(f){return URL.createObjectURL(new Blob(["importScripts('"+f+"');"]))}class PDFWorker{constructor({name:V=null,port:h=null,verbosity:F=(0,_util.getVerbosityLevel)()}={}){if(h&&pdfWorkerPorts.has(h))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=V,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=F,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,h)return pdfWorkerPorts.set(h,this),void this._initializeFromPort(h);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(V){this._port=V,this._messageHandler=new _message_handler.MessageHandler("main","worker",V),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let V=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,V)||(V=createCDNWrapper(new URL(V,window.location).href));const h=new Worker(V),F=new _message_handler.MessageHandler("main","worker",h),G=()=>{h.removeEventListener("error",ne),F.destroy(),h.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ne=()=>{this._webWorker||G()};h.addEventListener("error",ne),F.on("test",I=>{h.removeEventListener("error",ne),this.destroyed?G():I?(this._messageHandler=F,this._port=h,this._webWorker=h,I.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),F.destroy(),h.terminate())}),F.on("ready",I=>{if(h.removeEventListener("error",ne),this.destroyed)G();else try{Y()}catch(B){this._setupFakeWorker()}});const Y=()=>{const I=new Uint8Array([this.postMessageTransfers?255:0]);try{F.send("test",I,[I.buffer])}catch(B){(0,_util.warn)("Cannot use postMessage transfers."),I[0]=0,F.send("test",I)}};return void Y()}catch(h){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(V=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const h=new LoopbackPort;this._port=h;const F="fake"+nextFakeWorkerId++,G=new _message_handler.MessageHandler(F+"_worker",F,h);V.setup(G,h);const ne=new _message_handler.MessageHandler(F,F+"_worker",h);this._messageHandler=ne,this._readyCapability.resolve(),ne.send("configure",{verbosity:this.verbosity})}).catch(V=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${V.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(V){if(!V||!V.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(V.port)?pdfWorkerPorts.get(V.port):new PDFWorker(V)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(f,V,h,F){this.messageHandler=f,this.loadingTask=V,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:V.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:F.ownerDocument}),this._params=F,this.CMapReaderFactory=new F.CMapReaderFactory({baseUrl:F.cMapUrl,isCompressed:F.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get loadingTaskSettled(){return this.loadingTask._capability.settled}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const f=[];this.pageCache.forEach(function(h){h&&f.push(h._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;const V=this.messageHandler.sendWithPromise("Terminate",null);if(f.push(V),this.loadingTaskSettled){const h=this.loadingTask.promise.then(F=>{F.hasOwnProperty("annotationStorage")&&F.annotationStorage.resetModified()}).catch(()=>{});f.push(h)}return Promise.all(f).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:f,loadingTask:V}=this;f.on("GetReader",(h,F)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=G=>{this._lastProgress={loaded:G.loaded,total:G.total}},F.onPull=()=>{this._fullReader.read().then(function({value:G,done:ne}){ne?F.close():((0,_util.assert)((0,_util.isArrayBuffer)(G),"GetReader - expected an ArrayBuffer."),F.enqueue(new Uint8Array(G),1,[G]))}).catch(G=>{F.error(G)})},F.onCancel=G=>{this._fullReader.cancel(G),F.ready.catch(ne=>{if(!this.destroyed)throw ne})}}),f.on("ReaderHeadersReady",h=>{const F=(0,_util.createPromiseCapability)(),G=this._fullReader;return G.headersReady.then(()=>{(!G.isStreamingSupported||!G.isRangeSupported)&&(this._lastProgress&&V.onProgress&&V.onProgress(this._lastProgress),G.onProgress=ne=>{V.onProgress&&V.onProgress({loaded:ne.loaded,total:ne.total})}),F.resolve({isStreamingSupported:G.isStreamingSupported,isRangeSupported:G.isRangeSupported,contentLength:G.contentLength})},F.reject),F.promise}),f.on("GetRangeReader",(h,F)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const G=this._networkStream.getRangeReader(h.begin,h.end);G?(F.onPull=()=>{G.read().then(function({value:ne,done:Y}){Y?F.close():((0,_util.assert)((0,_util.isArrayBuffer)(ne),"GetRangeReader - expected an ArrayBuffer."),F.enqueue(new Uint8Array(ne),1,[ne]))}).catch(ne=>{F.error(ne)})},F.onCancel=ne=>{G.cancel(ne),F.ready.catch(Y=>{if(!this.destroyed)throw Y})}):F.close()}),f.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,V._capability.resolve(new PDFDocumentProxy(h,this))}),f.on("DocException",function(h){let F;switch(h.name){case"PasswordException":F=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":F=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":F=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":F=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":F=new _util.UnknownErrorException(h.message,h.details)}F instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),V._capability.reject(F)}),f.on("PasswordRequest",h=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),V.onPassword){const F=G=>{this._passwordCapability.resolve({password:G})};try{V.onPassword(F,h.code)}catch(G){this._passwordCapability.reject(G)}}else this._passwordCapability.reject(new _util.PasswordException(h.message,h.code));return this._passwordCapability.promise}),f.on("DataLoaded",h=>{V.onProgress&&V.onProgress({loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),f.on("StartRenderPage",h=>{this.destroyed||this.pageCache[h.pageIndex]._startRenderPage(h.transparency,h.intent)}),f.on("commonobj",h=>{var Y;if(this.destroyed)return;const[F,G,ne]=h;if(!this.commonObjs.has(F))switch(G){case"Font":const I=this._params;if("error"in ne){const x=ne.error;(0,_util.warn)(`Error during font loading: ${x}`),this.commonObjs.resolve(F,x);break}let B=null;I.pdfBug&&(null==(Y=globalThis.FontInspector)?void 0:Y.enabled)&&(B={registerFont(x,j){globalThis.FontInspector.fontAdded(x,j)}});const N=new _font_loader.FontFaceObject(ne,{isEvalSupported:I.isEvalSupported,disableFontFace:I.disableFontFace,ignoreErrors:I.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:B});this.fontLoader.bind(N).catch(x=>f.sendWithPromise("FontFallback",{id:F})).finally(()=>{!I.fontExtraProperties&&N.data&&(N.data=null),this.commonObjs.resolve(F,N)});break;case"FontPath":case"Image":this.commonObjs.resolve(F,ne);break;default:throw new Error(`Got unknown common object type ${G}`)}}),f.on("obj",h=>{var B;if(this.destroyed)return;const[F,G,ne,Y]=h,I=this.pageCache[G];if(!I.objs.has(F))switch(ne){case"Image":I.objs.resolve(F,Y),(null==(B=null==Y?void 0:Y.data)?void 0:B.length)>8e6&&(I.cleanupAfterRender=!0);break;default:throw new Error(`Got unknown object type ${ne}`)}}),f.on("DocProgress",h=>{this.destroyed||V.onProgress&&V.onProgress({loaded:h.loaded,total:h.total})}),f.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),f.on("FetchBuiltInCMap",(h,F)=>{if(this.destroyed)return void F.error(new Error("Worker was destroyed"));let G=!1;F.onPull=()=>{G?F.close():(G=!0,this.CMapReaderFactory.fetch(h).then(function(ne){F.enqueue(ne,1,[ne.cMapData.buffer])}).catch(function(ne){F.error(ne)}))}})}_onUnsupportedFeature({featureId:f}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(f)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(f){if(!Number.isInteger(f)||f<=0||f>this._numPages)return Promise.reject(new Error("Invalid page request"));const V=f-1;if(V in this.pagePromises)return this.pagePromises[V];const h=this.messageHandler.sendWithPromise("GetPage",{pageIndex:V}).then(F=>{if(this.destroyed)throw new Error("Transport destroyed");const G=new PDFPageProxy(V,F,this,this._params.ownerDocument,this._params.pdfBug);return this.pageCache[V]=G,G});return this.pagePromises[V]=h,h}getPageIndex(f){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:f}).catch(function(V){return Promise.reject(new Error(V))})}getAnnotations(f,V){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:f,intent:V})}saveDocument(f){var V,h;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==f?void 0:f.getAll())||null,filename:null!=(h=null==(V=this._fullReader)?void 0:V.filename)?h:null}).finally(()=>{f&&f.resetModified()})}getFieldObjects(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(f){return"string"!=typeof f?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:f})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(f){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:f})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(f=>new _optional_content_config.OptionalContentConfig(f))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(f=>{var V,h,F,G;return{info:f[0],metadata:f[1]?new _metadata.Metadata(f[1]):null,contentDispositionFilename:null!=(h=null==(V=this._fullReader)?void 0:V.filename)?h:null,contentLength:null!=(G=null==(F=this._fullReader)?void 0:F.contentLength)?G:null}})}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let f=0,V=this.pageCache.length;f<V;f++){const h=this.pageCache[f];if(h&&!h.cleanup())throw new Error(`startCleanup: Page ${f+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear(),this._hasJSActionsPromise=null})}get loadingParams(){const f=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:f.disableAutoFetch,disableFontFace:f.disableFontFace})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(f){return this._objs[f]?this._objs[f]:this._objs[f]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(f,V=null){if(V)return this._ensureObj(f).capability.promise.then(V),null;const h=this._objs[f];if(!h||!h.resolved)throw new Error(`Requesting object that isn't resolved yet ${f}.`);return h.data}has(f){const V=this._objs[f];return(null==V?void 0:V.resolved)||!1}resolve(f,V){const h=this._ensureObj(f);h.resolved=!0,h.data=V,h.capability.resolve(V)}clear(){this._objs=Object.create(null)}}class RenderTask{constructor(f){this._internalRenderTask=f,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}const InternalRenderTask=function(){const f=new WeakSet;return class{constructor({callback:F,params:G,objs:ne,commonObjs:Y,operatorList:I,pageIndex:B,canvasFactory:N,webGLContext:x,useRequestAnimationFrame:j=!1,pdfBug:C=!1}){this.callback=F,this.params=G,this.objs=ne,this.commonObjs=Y,this.operatorListIdx=null,this.operatorList=I,this._pageIndex=B,this.canvasFactory=N,this.webGLContext=x,this._pdfBug=C,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===j&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=G.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:F=!1,optionalContentConfig:G}){var x;if(this.cancelled)return;if(this._canvas){if(f.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f.add(this._canvas)}this._pdfBug&&(null==(x=globalThis.StepperManager)?void 0:x.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ne,viewport:Y,transform:I,imageLayer:B,background:N}=this.params;this.gfx=new _canvas.CanvasGraphics(ne,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,B,G),this.gfx.beginDrawing({transform:I,viewport:Y,transparency:F,background:N}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(F=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&f.delete(this._canvas),this.callback(F||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}_next(){var F=this;return _asyncToGenerator(function*(){F.cancelled||(F.operatorListIdx=F.gfx.executeOperatorList(F.operatorList,F.operatorListIdx,F._continueBound,F.stepper),F.operatorListIdx===F.operatorList.argsArray.length&&(F.running=!1,F.operatorList.lastChunk&&(F.gfx.endDrawing(),F._canvas&&f.delete(F._canvas),F.callback())))})()}}}(),version="2.7.570";exports.version=version;const build="f2c7338b0";exports.build=build},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FontLoader=f.FontFaceObject=void 0;var h=V(2);class F{constructor({docId:I,onUnsupportedFeature:B,ownerDocument:N=globalThis.document}){this.constructor===F&&(0,h.unreachable)("Cannot initialize BaseFontLoader."),this.docId=I,this._onUnsupportedFeature=B,this._document=N,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(I){this.nativeFontFaces.push(I),this._document.fonts.add(I)}insertRule(I){let B=this.styleElement;B||(B=this.styleElement=this._document.createElement("style"),B.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(B));const N=B.sheet;N.insertRule(I,N.cssRules.length)}clear(){this.nativeFontFaces.forEach(I=>{this._document.fonts.delete(I)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(I){var B=this;return _asyncToGenerator(function*(){if(I.attached||I.missingFile)return;if(I.attached=!0,B.isFontLoadingAPISupported){const x=I.createNativeFontFace();if(x){B.addNativeFontFace(x);try{yield x.loaded}catch(j){throw B._onUnsupportedFeature({featureId:h.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,h.warn)(`Failed to load font '${x.family}': '${j}'.`),I.disableFontFace=!0,j}}return}const N=I.createFontFaceRule();if(N){if(B.insertRule(N),B.isSyncFontLoadingSupported)return;yield new Promise(x=>{const j=B._queueLoadingCallback(x);B._prepareFontLoadEvent([N],[I],j)})}})()}_queueLoadingCallback(I){(0,h.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var I;return(0,h.shadow)(this,"isFontLoadingAPISupported",!!(null==(I=this._document)?void 0:I.fonts))}get isSyncFontLoadingSupported(){(0,h.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,h.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(I,B,N){(0,h.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let G;f.FontLoader=G,f.FontLoader=G=class extends F{constructor(I){super(I),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let I=!1;if("undefined"==typeof navigator)I=!0;else{const B=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==B?void 0:B[1])>=14&&(I=!0)}return(0,h.shadow)(this,"isSyncFontLoadingSupported",I)}_queueLoadingCallback(I){const N=this.loadingContext,x={id:"pdfjs-font-loading-"+N.nextRequestId++,done:!1,complete:function(){for((0,h.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;N.requests.length>0&&N.requests[0].done;){const j=N.requests.shift();setTimeout(j.callback,0)}},callback:I};return N.requests.push(x),x}get _loadTestFont(){return(0,h.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(I,B,N){function x(J,q){return J.charCodeAt(q)<<24|J.charCodeAt(q+1)<<16|J.charCodeAt(q+2)<<8|255&J.charCodeAt(q+3)}function j(J,q,oe,re){return J.substring(0,q)+re+J.substring(q+oe)}let C,M;const O=this._document.createElement("canvas");O.width=1,O.height=1;const L=O.getContext("2d");let H=0;const Q=`lt${Date.now()}${this.loadTestFontId++}`;let S=this._loadTestFont;S=j(S,976,Q.length,Q);const R=1482184792;let v=x(S,16);for(C=0,M=Q.length-3;C<M;C+=4)v=v-R+x(Q,C)|0;C<Q.length&&(v=v-R+x(Q+"XXX",C)|0),S=j(S,16,4,(0,h.string32)(v));const b=`url(data:font/opentype;base64,${btoa(S)});`;this.insertRule(`@font-face {font-family:"${Q}";src:${b}}`);const U=[];for(C=0,M=B.length;C<M;C++)U.push(B[C].loadedName);U.push(Q);const ie=this._document.createElement("div");for(ie.style.visibility="hidden",ie.style.width=ie.style.height="10px",ie.style.position="absolute",ie.style.top=ie.style.left="0px",C=0,M=U.length;C<M;++C){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=U[C],ie.appendChild(J)}this._document.body.appendChild(ie),function W(J,q){if(H++,H>30)return(0,h.warn)("Load test font never loaded."),void q();L.font="30px "+J,L.fillText(".",0,20),L.getImageData(0,0,1,1).data[3]>0?q():setTimeout(W.bind(null,J,q))}(Q,()=>{this._document.body.removeChild(ie),N.complete()})}},f.FontFaceObject=class{constructor(I,{isEvalSupported:B=!0,disableFontFace:N=!1,ignoreErrors:x=!1,onUnsupportedFeature:j=null,fontRegistry:C=null}){this.compiledGlyphs=Object.create(null);for(const M in I)this[M]=I[M];this.isEvalSupported=!1!==B,this.disableFontFace=!0===N,this.ignoreErrors=!0===x,this._onUnsupportedFeature=j,this.fontRegistry=C}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const I=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),I}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const I=(0,h.bytesToString)(new Uint8Array(this.data)),B=`url(data:${this.mimetype};base64,${btoa(I)});`,N=`@font-face {font-family:"${this.loadedName}";src:${B}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,B),N}getPathGenerator(I,B){if(void 0!==this.compiledGlyphs[B])return this.compiledGlyphs[B];let N,x;try{N=I.get(this.loadedName+"_path_"+B)}catch(j){if(!this.ignoreErrors)throw j;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:h.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,h.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[B]=function(C,M){}}if(this.isEvalSupported&&h.IsEvalSupportedCached.value){let j,C="";for(let M=0,O=N.length;M<O;M++)x=N[M],j=void 0!==x.args?x.args.join(","):"",C+="c."+x.cmd+"("+j+");\n";return this.compiledGlyphs[B]=new Function("c","size",C)}return this.compiledGlyphs[B]=function(j,C){for(let M=0,O=N.length;M<O;M++)x=N[M],"scale"===x.cmd&&(x.args=[C,-C]),j[x.cmd].apply(j,x.args)}}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NodeCMapReaderFactory=f.NodeCanvasFactory=void 0;var h=V(1),F=V(4),G=V(2);let ne=class{constructor(){(0,G.unreachable)("Not implemented: NodeCanvasFactory")}};f.NodeCanvasFactory=ne;let Y=class{constructor(){(0,G.unreachable)("Not implemented: NodeCMapReaderFactory")}};f.NodeCMapReaderFactory=Y,F.isNodeJS&&(f.NodeCanvasFactory=ne=class extends h.BaseCanvasFactory{create(I,B){if(I<=0||B<=0)throw new Error("Invalid canvas size");const x=__webpack_require__(414).createCanvas(I,B);return{canvas:x,context:x.getContext("2d")}}},f.NodeCMapReaderFactory=Y=class extends h.BaseCMapReaderFactory{_fetchData(I,B){return new Promise((N,x)=>{__webpack_require__(172).readFile(I,(C,M)=>{!C&&M?N({cMapData:new Uint8Array(M),compressionType:B}):x(new Error(C))})})}})},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationStorage=void 0;var h=V(2);f.AnnotationStorage=class{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getOrCreateValue(ne,Y){return this._storage.has(ne)?this._storage.get(ne):(this._storage.set(ne,Y),Y)}setValue(ne,Y){const I=this._storage.get(ne);let B=!1;if(void 0!==I)for(const[N,x]of Object.entries(Y))I[N]!==x&&(B=!0,I[N]=x);else this._storage.set(ne,Y),B=!0;B&&this._setModified()}getAll(){return 0===this._storage.size?null:(0,h.objectFromEntries)(this._storage)}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.apiCompatibilityParams=void 0;var h=V(4);const F=Object.create(null);h.isNodeJS&&(F.disableFontFace=!0);const G=Object.freeze(F);f.apiCompatibilityParams=G},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CanvasGraphics=void 0;var h=V(2),F=V(11);const Y=4096,N=16;function x(L){L.mozCurrentTransform||(L._originalSave=L.save,L._originalRestore=L.restore,L._originalRotate=L.rotate,L._originalScale=L.scale,L._originalTranslate=L.translate,L._originalTransform=L.transform,L._originalSetTransform=L.setTransform,L._transformMatrix=L._transformMatrix||[1,0,0,1,0,0],L._transformStack=[],Object.defineProperty(L,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(L,"mozCurrentTransformInverse",{get:function(){const W=this._transformMatrix,Q=W[0],S=W[1],g=W[2],E=W[3],R=W[4],v=W[5],b=Q*E-S*g,z=S*g-Q*E;return[E/b,S/z,g/z,Q/b,(E*R-g*v)/z,(S*R-Q*v)/b]}}),L.save=function(){const W=this._transformMatrix;this._transformStack.push(W),this._transformMatrix=W.slice(0,6),this._originalSave()},L.restore=function(){const W=this._transformStack.pop();W&&(this._transformMatrix=W,this._originalRestore())},L.translate=function(W,Q){const S=this._transformMatrix;S[4]=S[0]*W+S[2]*Q+S[4],S[5]=S[1]*W+S[3]*Q+S[5],this._originalTranslate(W,Q)},L.scale=function(W,Q){const S=this._transformMatrix;S[0]=S[0]*W,S[1]=S[1]*W,S[2]=S[2]*Q,S[3]=S[3]*Q,this._originalScale(W,Q)},L.transform=function(W,Q,S,g,E,R){const v=this._transformMatrix;this._transformMatrix=[v[0]*W+v[2]*Q,v[1]*W+v[3]*Q,v[0]*S+v[2]*g,v[1]*S+v[3]*g,v[0]*E+v[2]*R+v[4],v[1]*E+v[3]*R+v[5]],L._originalTransform(W,Q,S,g,E,R)},L.setTransform=function(W,Q,S,g,E,R){this._transformMatrix=[W,Q,S,g,E,R],L._originalSetTransform(W,Q,S,g,E,R)},L.rotate=function(W){const Q=Math.cos(W),S=Math.sin(W),g=this._transformMatrix;this._transformMatrix=[g[0]*Q+g[2]*S,g[1]*Q+g[3]*S,g[0]*-S+g[2]*Q,g[1]*-S+g[3]*Q,g[4],g[5]],this._originalRotate(W)})}const j=function(){function H(W){this.canvasFactory=W,this.cache=Object.create(null)}return H.prototype={getCanvas:function(Q,S,g,E){let R;return void 0!==this.cache[Q]?(R=this.cache[Q],this.canvasFactory.reset(R,S,g),R.context.setTransform(1,0,0,1,0,0)):(R=this.canvasFactory.create(S,g),this.cache[Q]=R),E&&x(R.context),R},clear(){for(const W in this.cache)this.canvasFactory.destroy(this.cache[W]),delete this.cache[W]}},H}(),M=function(){function H(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return H.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(Q,S){this.x=Q,this.y=S}},H}(),O=function(){function Q(A,m,u,y,w,P,T){this.ctx=A,this.current=new M,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=m,this.objs=u,this.canvasFactory=y,this.webGLContext=w,this.imageLayer=P,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=T,this.cachedCanvases=new j(this.canvasFactory),A&&x(A),this._cachedGetSinglePixelWidth=null}function S(A,m,u=null){if("undefined"!=typeof ImageData&&m instanceof ImageData)return void A.putImageData(m,0,0);const y=m.height,w=m.width,P=y%N,T=(y-P)/N,$=0===P?T:T+1,X=A.createImageData(w,N);let le,ee=0;const he=m.data,fe=X.data;let ye,be,Pe,Fe,Me,je,Ke,ht;if(u)switch(u.length){case 1:Me=u[0],je=u[0],Ke=u[0],ht=u[0];break;case 4:Me=u[0],je=u[1],Ke=u[2],ht=u[3]}if(m.kind===h.ImageKind.GRAYSCALE_1BPP){const Mt=he.byteLength,Ne=new Uint32Array(fe.buffer,0,fe.byteLength>>2),Qe=Ne.length,Ui=w+7>>3;let Tt=4294967295,Xe=h.IsLittleEndianCached.value?4278190080:255;for(ht&&255===ht[0]&&0===ht[255]&&([Tt,Xe]=[Xe,Tt]),ye=0;ye<$;ye++){for(Pe=ye<T?N:P,le=0,be=0;be<Pe;be++){const Un=Mt-ee;let an=0;const cr=Un>Ui?w:8*Un-7,jt=-8&cr;let Dn=0,ft=0;for(;an<jt;an+=8)ft=he[ee++],Ne[le++]=128&ft?Tt:Xe,Ne[le++]=64&ft?Tt:Xe,Ne[le++]=32&ft?Tt:Xe,Ne[le++]=16&ft?Tt:Xe,Ne[le++]=8&ft?Tt:Xe,Ne[le++]=4&ft?Tt:Xe,Ne[le++]=2&ft?Tt:Xe,Ne[le++]=1&ft?Tt:Xe;for(;an<cr;an++)0===Dn&&(ft=he[ee++],Dn=128),Ne[le++]=ft&Dn?Tt:Xe,Dn>>=1}for(;le<Qe;)Ne[le++]=0;A.putImageData(X,0,ye*N)}}else if(m.kind===h.ImageKind.RGBA_32BPP){const Mt=!!(Me||je||Ke);for(be=0,Fe=w*N*4,ye=0;ye<T;ye++){if(fe.set(he.subarray(ee,ee+Fe)),ee+=Fe,Mt)for(let Ne=0;Ne<Fe;Ne+=4)Me&&(fe[Ne+0]=Me[fe[Ne+0]]),je&&(fe[Ne+1]=je[fe[Ne+1]]),Ke&&(fe[Ne+2]=Ke[fe[Ne+2]]);A.putImageData(X,0,be),be+=N}if(ye<$){if(Fe=w*P*4,fe.set(he.subarray(ee,ee+Fe)),Mt)for(let Ne=0;Ne<Fe;Ne+=4)Me&&(fe[Ne+0]=Me[fe[Ne+0]]),je&&(fe[Ne+1]=je[fe[Ne+1]]),Ke&&(fe[Ne+2]=Ke[fe[Ne+2]]);A.putImageData(X,0,be)}}else{if(m.kind!==h.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${m.kind}`);{const Mt=!!(Me||je||Ke);for(Pe=N,Fe=w*Pe,ye=0;ye<$;ye++){for(ye>=T&&(Pe=P,Fe=w*Pe),le=0,be=Fe;be--;)fe[le++]=he[ee++],fe[le++]=he[ee++],fe[le++]=he[ee++],fe[le++]=255;if(Mt)for(let Ne=0;Ne<le;Ne+=4)Me&&(fe[Ne+0]=Me[fe[Ne+0]]),je&&(fe[Ne+1]=je[fe[Ne+1]]),Ke&&(fe[Ne+2]=Ke[fe[Ne+2]]);A.putImageData(X,0,ye*N)}}}}function g(A,m){const u=m.height,y=m.width,w=u%N,P=(u-w)/N,T=0===w?P:P+1,$=A.createImageData(y,N);let X=0;const ee=m.data,le=$.data;for(let he=0;he<T;he++){const fe=he<P?N:w;let ye=3;for(let be=0;be<fe;be++){let Pe,Fe=0;for(let Me=0;Me<y;Me++)Fe||(Pe=ee[X++],Fe=128),le[ye]=Pe&Fe?0:255,ye+=4,Fe>>=1}A.putImageData($,0,he*N)}}function E(A,m){const u=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let y=0,w=u.length;y<w;y++){const P=u[y];void 0!==A[P]&&(m[P]=A[P])}void 0!==A.setLineDash&&(m.setLineDash(A.getLineDash()),m.lineDashOffset=A.lineDashOffset)}function R(A){A.strokeStyle="#000000",A.fillStyle="#000000",A.fillRule="nonzero",A.globalAlpha=1,A.lineWidth=1,A.lineCap="butt",A.lineJoin="miter",A.miterLimit=10,A.globalCompositeOperation="source-over",A.font="10px sans-serif",void 0!==A.setLineDash&&(A.setLineDash([]),A.lineDashOffset=0)}function v(A,m,u,y){const w=A.length;for(let P=3;P<w;P+=4){const T=A[P];if(0===T)A[P-3]=m,A[P-2]=u,A[P-1]=y;else if(T<255){const $=255-T;A[P-3]=A[P-3]*T+m*$>>8,A[P-2]=A[P-2]*T+u*$>>8,A[P-1]=A[P-1]*T+y*$>>8}}}function b(A,m,u){const y=A.length;for(let P=3;P<y;P+=4)m[P]=m[P]*(u?u[A[P]]:A[P])*.00392156862745098|0}function z(A,m,u){const y=A.length;for(let w=3;w<y;w+=4){const P=77*A[w-3]+152*A[w-2]+28*A[w-1];m[w]=u?m[w]*u[P>>8]>>8:m[w]*P>>16}}function ie(A,m,u,y){const w=m.canvas,P=m.context;A.setTransform(m.scaleX,0,0,m.scaleY,m.offsetX,m.offsetY);const T=m.backdrop||null;if(!m.transferMap&&y.isEnabled){const $=y.composeSMask({layer:u.canvas,mask:w,properties:{subtype:m.subtype,backdrop:T}});return A.setTransform(1,0,0,1,0,0),void A.drawImage($,m.offsetX,m.offsetY)}(function(A,m,u,y,w,P,T){const $=!!P,X=$?P[0]:0,ee=$?P[1]:0,le=$?P[2]:0;let he;he="Luminosity"===w?z:b;const ye=Math.min(y,Math.ceil(1048576/u));for(let be=0;be<y;be+=ye){const Pe=Math.min(ye,y-be),Fe=A.getImageData(0,be,u,Pe),Me=m.getImageData(0,be,u,Pe);$&&v(Fe.data,X,ee,le),he(Fe.data,Me.data,T),A.putImageData(Me,0,be)}})(P,u,w.width,w.height,m.subtype,T,m.transferMap),A.drawImage(w,0,0)}const J=["butt","round","square"],q=["miter","round","bevel"],oe={},re={};Q.prototype={beginDrawing({transform:A,viewport:m,transparency:u=!1,background:y=null}){const w=this.ctx.canvas.width,P=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=y||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,w,P),this.ctx.restore(),u){const T=this.cachedCanvases.getCanvas("transparent",w,P,!0);this.compositeCtx=this.ctx,this.transparentCanvas=T.canvas,this.ctx=T.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),R(this.ctx),A&&this.ctx.transform.apply(this.ctx,A),this.ctx.transform.apply(this.ctx,m.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(m,u,y,w){const P=m.argsArray,T=m.fnArray;let $=u||0;const X=P.length;if(X===$)return $;const ee=X-$>10&&"function"==typeof y,le=ee?Date.now()+15:0;let he=0;const fe=this.commonObjs,ye=this.objs;let be;for(;;){if(void 0!==w&&$===w.nextBreakPoint)return w.breakIt($,y),$;if(be=T[$],be!==h.OPS.dependency)this[be].apply(this,P[$]);else for(const Pe of P[$]){const Fe=Pe.startsWith("g_")?fe:ye;if(!Fe.has(Pe))return Fe.get(Pe,y),$}if($++,$===X)return $;if(ee&&++he>10){if(Date.now()>le)return y(),$;he=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(m){this.current.lineWidth=m,this.ctx.lineWidth=m},setLineCap:function(m){this.ctx.lineCap=J[m]},setLineJoin:function(m){this.ctx.lineJoin=q[m]},setMiterLimit:function(m){this.ctx.miterLimit=m},setDash:function(m,u){const y=this.ctx;void 0!==y.setLineDash&&(y.setLineDash(m),y.lineDashOffset=u)},setRenderingIntent(A){},setFlatness(A){},setGState:function(m){for(let u=0,y=m.length;u<y;u++){const w=m[u],T=w[1];switch(w[0]){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=w[1];break;case"ca":this.current.fillAlpha=w[1],this.ctx.globalAlpha=w[1];break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=T?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=T}}},beginSMaskGroup:function(){const m=this.current.activeSMask,P=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,m.canvas.width,m.canvas.height,!0),T=this.ctx,$=T.mozCurrentTransform;this.ctx.save();const X=P.context;X.scale(1/m.scaleX,1/m.scaleY),X.translate(-m.offsetX,-m.offsetY),X.transform.apply(X,$),m.startTransformInverse=X.mozCurrentTransformInverse,E(T,X),this.ctx=X,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(T),this.groupLevel++},suspendSMaskGroup:function(){const m=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),ie(this.ctx,this.current.activeSMask,m,this.webGLContext),this.ctx.restore(),this.ctx.save(),E(m,this.ctx),this.current.resumeSMaskCtx=m;const u=h.Util.transform(this.current.activeSMask.startTransformInverse,m.mozCurrentTransform);this.ctx.transform.apply(this.ctx,u),m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,m.canvas.width,m.canvas.height),m.restore()},resumeSMaskGroup:function(){const u=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(u),this.groupLevel++},endSMaskGroup:function(){const m=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),ie(this.ctx,this.current.activeSMask,m,this.webGLContext),this.ctx.restore(),E(m,this.ctx);const u=h.Util.transform(this.current.activeSMask.startTransformInverse,m.mozCurrentTransform);this.ctx.transform.apply(this.ctx,u)},save:function(){this.ctx.save();const m=this.current;this.stateStack.push(m),this.current=m.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(m,u,y,w,P,T){this.ctx.transform(m,u,y,w,P,T),this._cachedGetSinglePixelWidth=null},constructPath:function(m,u){const y=this.ctx,w=this.current;let P=w.x,T=w.y;for(let $=0,X=0,ee=m.length;$<ee;$++)switch(0|m[$]){case h.OPS.rectangle:P=u[X++],T=u[X++];const le=u[X++],he=u[X++],fe=P+le,ye=T+he;y.moveTo(P,T),0===le||0===he?y.lineTo(fe,ye):(y.lineTo(fe,T),y.lineTo(fe,ye),y.lineTo(P,ye)),y.closePath();break;case h.OPS.moveTo:P=u[X++],T=u[X++],y.moveTo(P,T);break;case h.OPS.lineTo:P=u[X++],T=u[X++],y.lineTo(P,T);break;case h.OPS.curveTo:P=u[X+4],T=u[X+5],y.bezierCurveTo(u[X],u[X+1],u[X+2],u[X+3],P,T),X+=6;break;case h.OPS.curveTo2:y.bezierCurveTo(P,T,u[X],u[X+1],u[X+2],u[X+3]),P=u[X+2],T=u[X+3],X+=4;break;case h.OPS.curveTo3:P=u[X+2],T=u[X+3],y.bezierCurveTo(u[X],u[X+1],P,T,P,T),X+=4;break;case h.OPS.closePath:y.closePath()}w.setCurrentPoint(P,T)},closePath:function(){this.ctx.closePath()},stroke:function(m){m=void 0===m||m;const u=this.ctx,y=this.current.strokeColor;if(u.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof y&&(null==y?void 0:y.getPattern)){u.save();const P=h.Util.singularValueDecompose2dScale(u.mozCurrentTransform)[0];u.strokeStyle=y.getPattern(u,this);const T=this.getSinglePixelWidth(),$=this.current.lineWidth*P;T<0&&-T>=$?(u.resetTransform(),u.lineWidth=Math.round(this._combinedScaleFactor)):u.lineWidth=Math.max(T,$),u.stroke(),u.restore()}else{const w=this.getSinglePixelWidth();w<0&&-w>=this.current.lineWidth?(u.save(),u.resetTransform(),u.lineWidth=Math.round(this._combinedScaleFactor),u.stroke(),u.restore()):(u.lineWidth=Math.max(w,this.current.lineWidth),u.stroke())}m&&this.consumePath(),u.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(m){m=void 0===m||m;const u=this.ctx,y=this.current.fillColor;let P=!1;this.current.patternFill&&(u.save(),this.baseTransform&&u.setTransform.apply(u,this.baseTransform),u.fillStyle=y.getPattern(u,this),P=!0),this.contentVisible&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),P&&u.restore(),m&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=oe},eoClip:function(){this.pendingClip=re},beginText:function(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){const m=this.pendingTextPaths,u=this.ctx;if(void 0!==m){u.save(),u.beginPath();for(let y=0;y<m.length;y++){const w=m[y];u.setTransform.apply(u,w.transform),u.translate(w.x,w.y),w.addToPath(u,w.fontSize)}u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}else u.beginPath()},setCharSpacing:function(m){this.current.charSpacing=m},setWordSpacing:function(m){this.current.wordSpacing=m},setHScale:function(m){this.current.textHScale=m/100},setLeading:function(m){this.current.leading=-m},setFont:function(m,u){const y=this.commonObjs.get(m),w=this.current;if(!y)throw new Error(`Can't find font for ${m}`);if(w.fontMatrix=y.fontMatrix||h.FONT_IDENTITY_MATRIX,(0===w.fontMatrix[0]||0===w.fontMatrix[3])&&(0,h.warn)("Invalid font matrix for font "+m),u<0?(u=-u,w.fontDirection=-1):w.fontDirection=1,this.current.font=y,this.current.fontSize=u,y.isType3Font)return;let T="normal";y.black?T="900":y.bold&&(T="bold");const $=y.italic?"italic":"normal",X=`"${y.loadedName||"sans-serif"}", ${y.fallbackName}`;let ee=u;u<16?ee=16:u>100&&(ee=100),this.current.fontSizeScale=u/ee,this.ctx.font=`${$} ${T} ${ee}px ${X}`},setTextRenderingMode:function(m){this.current.textRenderingMode=m},setTextRise:function(m){this.current.textRise=m},moveText:function(m,u){this.current.x=this.current.lineX+=m,this.current.y=this.current.lineY+=u},setLeadingMoveText:function(m,u){this.setLeading(-u),this.moveText(m,u)},setTextMatrix:function(m,u,y,w,P,T){this.current.textMatrix=[m,u,y,w,P,T],this.current.textMatrixScale=Math.sqrt(m*m+u*u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(A,m,u,y,w){const P=this.ctx,T=this.current,$=T.font,X=T.textRenderingMode,ee=T.fontSize/T.fontSizeScale,le=X&h.TextRenderingMode.FILL_STROKE_MASK,he=!!(X&h.TextRenderingMode.ADD_TO_PATH_FLAG),fe=T.patternFill&&!$.missingFile;let ye;($.disableFontFace||he||fe)&&(ye=$.getPathGenerator(this.commonObjs,A)),$.disableFontFace||fe?(P.save(),P.translate(m,u),P.beginPath(),ye(P,ee),y&&P.setTransform.apply(P,y),(le===h.TextRenderingMode.FILL||le===h.TextRenderingMode.FILL_STROKE)&&P.fill(),(le===h.TextRenderingMode.STROKE||le===h.TextRenderingMode.FILL_STROKE)&&(w&&(P.resetTransform(),P.lineWidth=Math.round(this._combinedScaleFactor)),P.stroke()),P.restore()):((le===h.TextRenderingMode.FILL||le===h.TextRenderingMode.FILL_STROKE)&&P.fillText(A,m,u),(le===h.TextRenderingMode.STROKE||le===h.TextRenderingMode.FILL_STROKE)&&(w?(P.save(),P.moveTo(m,u),P.resetTransform(),P.lineWidth=Math.round(this._combinedScaleFactor),P.strokeText(A,0,0),P.restore()):P.strokeText(A,m,u))),he&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:P.mozCurrentTransform,x:m,y:u,fontSize:ee,addToPath:ye})},get isFontSubpixelAAEnabled(){const{context:A}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);A.scale(1.5,1),A.fillText("I",0,10);const m=A.getImageData(0,0,10,10).data;let u=!1;for(let y=3;y<m.length;y+=4)if(m[y]>0&&m[y]<255){u=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",u)},showText:function(m){const u=this.current,y=u.font;if(y.isType3Font)return this.showType3Text(m);const w=u.fontSize;if(0===w)return;const P=this.ctx,T=u.fontSizeScale,$=u.charSpacing,X=u.wordSpacing,ee=u.fontDirection,le=u.textHScale*ee,he=m.length,fe=y.vertical,ye=fe?1:-1,be=y.defaultVMetrics,Pe=w*u.fontMatrix[0],Fe=u.textRenderingMode===h.TextRenderingMode.FILL&&!y.disableFontFace&&!u.patternFill;let Me;if(P.save(),u.patternFill){P.save();const Qe=u.fillColor.getPattern(P,this);Me=P.mozCurrentTransform,P.restore(),P.fillStyle=Qe}P.transform.apply(P,u.textMatrix),P.translate(u.x,u.y+u.textRise),P.scale(le,ee>0?-1:1);let je=u.lineWidth,Ke=!1;const ht=u.textMatrixScale;if(0===ht||0===je){const Qe=u.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(Qe===h.TextRenderingMode.STROKE||Qe===h.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,je=this.getSinglePixelWidth(),Ke=je<0)}else je/=ht;1!==T&&(P.scale(T,T),je/=T),P.lineWidth=je;let Ne,Mt=0;for(Ne=0;Ne<he;++Ne){const Qe=m[Ne];if((0,h.isNum)(Qe)){Mt+=ye*Qe*w/1e3;continue}let Ui=!1;const Tt=(Qe.isSpace?X:0)+$,Xe=Qe.fontChar,Un=Qe.accent;let an,cr,Dn,jt=Qe.width;if(fe){const ft=Qe.vmetric||be,Hn=-(Qe.vmetric?ft[1]:.5*jt)*Pe;jt=ft?-ft[0]:jt,an=Hn/T,cr=(Mt+ft[2]*Pe)/T}else an=Mt/T,cr=0;if(y.remeasure&&jt>0){const ft=1e3*P.measureText(Xe).width/w*T;if(jt<ft&&this.isFontSubpixelAAEnabled){const Hn=jt/ft;Ui=!0,P.save(),P.scale(Hn,1),an/=Hn}else jt!==ft&&(an+=(jt-ft)/2e3*w/T)}this.contentVisible&&(Qe.isInFont||y.missingFile)&&(Fe&&!Un?P.fillText(Xe,an,cr):(this.paintChar(Xe,an,cr,Me,Ke),Un&&this.paintChar(Un.fontChar,an+w*Un.offset.x/T,cr-w*Un.offset.y/T,Me,Ke))),Dn=fe?jt*Pe-Tt*ee:jt*Pe+Tt*ee,Mt+=Dn,Ui&&P.restore()}fe?u.y-=Mt:u.x+=Mt*le,P.restore()},showType3Text:function(m){const u=this.ctx,y=this.current,w=y.font,P=y.fontSize,T=y.fontDirection,$=w.vertical?1:-1,X=y.charSpacing,ee=y.wordSpacing,le=y.textHScale*T,he=y.fontMatrix||h.FONT_IDENTITY_MATRIX,fe=m.length;let be,Pe,Fe,Me;if(y.textRenderingMode!==h.TextRenderingMode.INVISIBLE&&0!==P){for(this._cachedGetSinglePixelWidth=null,u.save(),u.transform.apply(u,y.textMatrix),u.translate(y.x,y.y),u.scale(le,T),be=0;be<fe;++be){if(Pe=m[be],(0,h.isNum)(Pe)){Me=$*Pe*P/1e3,this.ctx.translate(Me,0),y.x+=Me*le;continue}const je=(Pe.isSpace?ee:0)+X,Ke=w.charProcOperatorList[Pe.operatorListId];Ke?(this.contentVisible&&(this.processingType3=Pe,this.save(),u.scale(P,P),u.transform.apply(u,he),this.executeOperatorList(Ke),this.restore()),Fe=h.Util.applyTransform([Pe.width,0],he)[0]*P+je,u.translate(Fe,0),y.x+=Fe*le):(0,h.warn)(`Type3 character "${Pe.operatorListId}" is not available.`)}u.restore(),this.processingType3=null}},setCharWidth:function(m,u){},setCharWidthAndBounds:function(m,u,y,w,P,T){this.ctx.rect(y,w,P-y,T-w),this.clip(),this.endPath()},getColorN_Pattern:function(m){let u;if("TilingPattern"===m[0]){const y=m[1],w=this.baseTransform||this.ctx.mozCurrentTransform.slice();u=new F.TilingPattern(m,y,this.ctx,{createCanvasGraphics:T=>new Q(T,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)},w)}else u=(0,F.getShadingPatternFromIR)(m);return u},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(m,u,y){const w=h.Util.makeHexColor(m,u,y);this.ctx.strokeStyle=w,this.current.strokeColor=w},setFillRGBColor:function(m,u,y){const w=h.Util.makeHexColor(m,u,y);this.ctx.fillStyle=w,this.current.fillColor=w,this.current.patternFill=!1},shadingFill:function(m){if(!this.contentVisible)return;const u=this.ctx;this.save();const y=(0,F.getShadingPatternFromIR)(m);u.fillStyle=y.getPattern(u,this,!0);const w=u.mozCurrentTransformInverse;if(w){const P=u.canvas,T=P.width,$=P.height,X=h.Util.applyTransform([0,0],w),ee=h.Util.applyTransform([0,$],w),le=h.Util.applyTransform([T,0],w),he=h.Util.applyTransform([T,$],w),fe=Math.min(X[0],ee[0],le[0],he[0]),ye=Math.min(X[1],ee[1],le[1],he[1]),be=Math.max(X[0],ee[0],le[0],he[0]),Pe=Math.max(X[1],ee[1],le[1],he[1]);this.ctx.fillRect(fe,ye,be-fe,Pe-ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,h.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,h.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(m,u){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(m)&&6===m.length&&this.transform.apply(this,m),this.baseTransform=this.ctx.mozCurrentTransform,u)&&(this.ctx.rect(u[0],u[1],u[2]-u[0],u[3]-u[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(m){if(!this.contentVisible)return;this.save();const u=this.ctx;m.isolated||(0,h.info)("TODO: Support non-isolated groups."),m.knockout&&(0,h.warn)("Knockout groups not supported.");const y=u.mozCurrentTransform;if(m.matrix&&u.transform.apply(u,m.matrix),!m.bbox)throw new Error("Bounding box is required.");let w=h.Util.getAxialAlignedBoundingBox(m.bbox,u.mozCurrentTransform);w=h.Util.intersect(w,[0,0,u.canvas.width,u.canvas.height])||[0,0,0,0];const T=Math.floor(w[0]),$=Math.floor(w[1]);let X=Math.max(Math.ceil(w[2])-T,1),ee=Math.max(Math.ceil(w[3])-$,1),le=1,he=1;X>Y&&(le=X/Y,X=Y),ee>Y&&(he=ee/Y,ee=Y);let fe="groupAt"+this.groupLevel;m.smask&&(fe+="_smask_"+this.smaskCounter++%2);const ye=this.cachedCanvases.getCanvas(fe,X,ee,!0),be=ye.context;be.scale(1/le,1/he),be.translate(-T,-$),be.transform.apply(be,y),m.smask?this.smaskStack.push({canvas:ye.canvas,context:be,offsetX:T,offsetY:$,scaleX:le,scaleY:he,subtype:m.smask.subtype,backdrop:m.smask.backdrop,transferMap:m.smask.transferMap||null,startTransformInverse:null}):(u.setTransform(1,0,0,1,0,0),u.translate(T,$),u.scale(le,he)),E(u,be),this.ctx=be,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(u),this.groupLevel++,this.current.activeSMask=null},endGroup:function(m){if(!this.contentVisible)return;this.groupLevel--;const u=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,m.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(u.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(m,u,y){this.save(),R(this.ctx),this.current=new M,Array.isArray(m)&&4===m.length&&(this.ctx.rect(m[0],m[1],m[2]-m[0],m[3]-m[1]),this.clip(),this.endPath()),this.transform.apply(this,u),this.transform.apply(this,y)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(m){if(!this.contentVisible)return;const u=this.ctx,y=m.width,w=m.height,P=this.current.fillColor,T=this.current.patternFill,$=this.processingType3;if($&&void 0===$.compiled&&($.compiled=y<=1e3&&w<=1e3?function(L){const W=L.width,Q=L.height,S=W+1;let g,E,R,v;const b=new Uint8Array(S*(Q+1)),z=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),U=W+7&-8,ie=L.data,J=new Uint8Array(U*Q);let q=0;for(g=0,E=ie.length;g<E;g++){const u=ie[g];let y=128;for(;y>0;)J[q++]=u&y?0:255,y>>=1}let oe=0;for(q=0,0!==J[q]&&(b[0]=1,++oe),R=1;R<W;R++)J[q]!==J[q+1]&&(b[R]=J[q]?2:1,++oe),q++;for(0!==J[q]&&(b[R]=2,++oe),g=1;g<Q;g++){q=g*U,v=g*S,J[q-U]!==J[q]&&(b[v]=J[q]?1:8,++oe);let u=(J[q]?4:0)+(J[q-U]?8:0);for(R=1;R<W;R++)u=(u>>2)+(J[q+1]?4:0)+(J[q-U+1]?8:0),z[u]&&(b[v+R]=z[u],++oe),q++;if(J[q-U]!==J[q]&&(b[v+R]=J[q]?2:4,++oe),oe>1e3)return null}for(q=U*(Q-1),v=g*S,0!==J[q]&&(b[v]=8,++oe),R=1;R<W;R++)J[q]!==J[q+1]&&(b[v+R]=J[q]?4:8,++oe),q++;if(0!==J[q]&&(b[v+R]=4,++oe),oe>1e3)return null;const re=new Int32Array([0,S,-1,0,-S,0,0,0,1]),A=[];for(g=0;oe&&g<=Q;g++){let u=g*S;const y=u+W;for(;u<y&&!b[u];)u++;if(u===y)continue;const w=[u%S,g],P=u;let T=b[u];do{const $=re[T];do{u+=$}while(!b[u]);const X=b[u];5!==X&&10!==X?(T=X,b[u]=0):(T=X&51*T>>4,b[u]&=T>>2|T<<2),w.push(u%S),w.push(u/S|0),b[u]||--oe}while(P!==u);A.push(w),--g}return function(u){u.save(),u.scale(1/W,-1/Q),u.translate(0,-Q),u.beginPath();for(let y=0,w=A.length;y<w;y++){const P=A[y];u.moveTo(P[0],P[1]);for(let T=2,$=P.length;T<$;T+=2)u.lineTo(P[T],P[T+1])}u.fill(),u.beginPath(),u.restore()}}({data:m.data,width:y,height:w}):null),null==$?void 0:$.compiled)return void $.compiled(u);const X=this.cachedCanvases.getCanvas("maskCanvas",y,w),ee=X.context;ee.save(),g(ee,m),ee.globalCompositeOperation="source-in",ee.fillStyle=T?P.getPattern(ee,this):P,ee.fillRect(0,0,y,w),ee.restore(),this.paintInlineImageXObject(X.canvas)},paintImageMaskXObjectRepeat(A,m,u=0,y=0,w,P){if(!this.contentVisible)return;const T=A.width,$=A.height,X=this.current.fillColor,ee=this.current.patternFill,le=this.cachedCanvases.getCanvas("maskCanvas",T,$),he=le.context;he.save(),g(he,A),he.globalCompositeOperation="source-in",he.fillStyle=ee?X.getPattern(he,this):X,he.fillRect(0,0,T,$),he.restore();const fe=this.ctx;for(let ye=0,be=P.length;ye<be;ye+=2)fe.save(),fe.transform(m,u,y,w,P[ye],P[ye+1]),fe.scale(1,-1),fe.drawImage(le.canvas,0,0,T,$,0,-1,1,1),fe.restore()},paintImageMaskXObjectGroup:function(m){if(!this.contentVisible)return;const u=this.ctx,y=this.current.fillColor,w=this.current.patternFill;for(let P=0,T=m.length;P<T;P++){const $=m[P],X=$.width,ee=$.height,le=this.cachedCanvases.getCanvas("maskCanvas",X,ee),he=le.context;he.save(),g(he,$),he.globalCompositeOperation="source-in",he.fillStyle=w?y.getPattern(he,this):y,he.fillRect(0,0,X,ee),he.restore(),u.save(),u.transform.apply(u,$.transform),u.scale(1,-1),u.drawImage(le.canvas,0,0,X,ee,0,-1,1,1),u.restore()}},paintImageXObject:function(m){if(!this.contentVisible)return;const u=m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m);u?this.paintInlineImageXObject(u):(0,h.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(m,u,y,w){if(!this.contentVisible)return;const P=m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m);if(!P)return void(0,h.warn)("Dependent image isn't ready yet");const T=P.width,$=P.height,X=[];for(let ee=0,le=w.length;ee<le;ee+=2)X.push({transform:[u,0,0,y,w[ee],w[ee+1]],x:0,y:0,w:T,h:$});this.paintInlineImageXObjectGroup(P,X)},paintInlineImageXObject:function(m){if(!this.contentVisible)return;const u=m.width,y=m.height,w=this.ctx;this.save(),w.scale(1/u,-1/y);const P=w.mozCurrentTransformInverse,T=P[0],$=P[1];let X=Math.max(Math.sqrt(T*T+$*$),1);const ee=P[2],le=P[3];let fe,ye,be,he=Math.max(Math.sqrt(ee*ee+le*le),1);"function"==typeof HTMLElement&&m instanceof HTMLElement||!m.data?fe=m:(ye=this.cachedCanvases.getCanvas("inlineImage",u,y),be=ye.context,S(be,m,this.current.transferMaps),fe=ye.canvas);let Pe=u,Fe=y,Me="prescale1";for(;X>2&&Pe>1||he>2&&Fe>1;){let je=Pe,Ke=Fe;X>2&&Pe>1&&(je=Math.ceil(Pe/2),X/=Pe/je),he>2&&Fe>1&&(Ke=Math.ceil(Fe/2),he/=Fe/Ke),ye=this.cachedCanvases.getCanvas(Me,je,Ke),be=ye.context,be.clearRect(0,0,je,Ke),be.drawImage(fe,0,0,Pe,Fe,0,0,je,Ke),fe=ye.canvas,Pe=je,Fe=Ke,Me="prescale1"===Me?"prescale2":"prescale1"}if(w.drawImage(fe,0,0,Pe,Fe,0,-y,u,y),this.imageLayer){const je=this.getCanvasPosition(0,-y);this.imageLayer.appendImage({imgData:m,left:je[0],top:je[1],width:u/P[0],height:y/P[3]})}this.restore()},paintInlineImageXObjectGroup:function(m,u){if(!this.contentVisible)return;const y=this.ctx,w=m.width,P=m.height,T=this.cachedCanvases.getCanvas("inlineImage",w,P);S(T.context,m,this.current.transferMaps);for(let X=0,ee=u.length;X<ee;X++){const le=u[X];if(y.save(),y.transform.apply(y,le.transform),y.scale(1,-1),y.drawImage(T.canvas,le.x,le.y,le.w,le.h,0,-1,1,1),this.imageLayer){const he=this.getCanvasPosition(le.x,le.y);this.imageLayer.appendImage({imgData:m,left:he[0],top:he[1],width:w,height:P})}y.restore()}},paintSolidColorImageMask:function(){!this.contentVisible||this.ctx.fillRect(0,0,1,1)},markPoint:function(m){},markPointProps:function(m,u){},beginMarkedContent:function(m){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(m,u){this.markedContentStack.push("OC"===m?{visible:this.optionalContentConfig.isVisible(u)}:{visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){const m=this.ctx;this.pendingClip&&(this.pendingClip===re?m.clip("evenodd"):m.clip(),this.pendingClip=null),m.beginPath()},getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const A=this.ctx.mozCurrentTransform,m=Math.abs(A[0]*A[3]-A[2]*A[1]),u=A[0]**2+A[2]**2,y=A[1]**2+A[3]**2,w=Math.sqrt(Math.max(u,y))/m;this._cachedGetSinglePixelWidth=u!==y&&this._combinedScaleFactor*w>1?-this._combinedScaleFactor*w:m>Number.EPSILON?1.0000001*w:1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(m,u){const y=this.ctx.mozCurrentTransform;return[y[0]*m+y[2]*u+y[4],y[1]*m+y[3]*u+y[5]]},isContentVisible:function(){for(let m=this.markedContentStack.length-1;m>=0;m--)if(!this.markedContentStack[m].visible)return!1;return!0}};for(const A in h.OPS)Q.prototype[h.OPS[A]]=Q.prototype[A];return Q}();f.CanvasGraphics=O},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getShadingPatternFromIR=function(B){const N=F[B[0]];if(!N)throw new Error(`Unknown IR type: ${B[0]}`);return N.fromIR(B)},f.TilingPattern=void 0;var h=V(2);const F={};function G(B,N){if(!N||"undefined"==typeof Path2D)return;const x=N[2]-N[0],j=N[3]-N[1],C=new Path2D;C.rect(N[0],N[1],x,j),B.clip(C)}F.RadialAxial={fromIR:function(N){const x=N[1],j=N[2],C=N[3],M=N[4],O=N[5],L=N[6],H=N[7];return{getPattern:function(Q){let S;G(Q,j),"axial"===x?S=Q.createLinearGradient(M[0],M[1],O[0],O[1]):"radial"===x&&(S=Q.createRadialGradient(M[0],M[1],L,O[0],O[1],H));for(let g=0,E=C.length;g<E;++g){const R=C[g];S.addColorStop(R[0],R[1])}return S}}}};const ne=function(){function N(C,M,O,L,H,W,Q,S){const g=M.coords,E=M.colors,R=C.data,v=4*C.width;let b;g[O+1]>g[L+1]&&(b=O,O=L,L=b,b=W,W=Q,Q=b),g[L+1]>g[H+1]&&(b=L,L=H,H=b,b=Q,Q=S,S=b),g[O+1]>g[L+1]&&(b=O,O=L,L=b,b=W,W=Q,Q=b);const z=(g[O]+M.offsetX)*M.scaleX,U=(g[O+1]+M.offsetY)*M.scaleY,ie=(g[L]+M.offsetX)*M.scaleX,J=(g[L+1]+M.offsetY)*M.scaleY,q=(g[H]+M.offsetX)*M.scaleX,oe=(g[H+1]+M.offsetY)*M.scaleY;if(U>=oe)return;const re=E[W],A=E[W+1],m=E[W+2],u=E[Q],y=E[Q+1],w=E[Q+2],P=E[S],T=E[S+1],$=E[S+2],X=Math.round(U),ee=Math.round(oe);let le,he,fe,ye,be,Pe,Fe,Me;for(let je=X;je<=ee;je++){if(je<J){let Qe;Qe=je<U?0:U===J?1:(U-je)/(U-J),le=z-(z-ie)*Qe,he=re-(re-u)*Qe,fe=A-(A-y)*Qe,ye=m-(m-w)*Qe}else{let Qe;Qe=je>oe?1:J===oe?0:(J-je)/(J-oe),le=ie-(ie-q)*Qe,he=u-(u-P)*Qe,fe=y-(y-T)*Qe,ye=w-(w-$)*Qe}let Ke;Ke=je<U?0:je>oe?1:(U-je)/(U-oe),be=z-(z-q)*Ke,Pe=re-(re-P)*Ke,Fe=A-(A-T)*Ke,Me=m-(m-$)*Ke;const ht=Math.round(Math.min(le,be)),Mt=Math.round(Math.max(le,be));let Ne=v*je+4*ht;for(let Qe=ht;Qe<=Mt;Qe++)Ke=(le-Qe)/(le-be),Ke<0?Ke=0:Ke>1&&(Ke=1),R[Ne++]=he-(he-Pe)*Ke|0,R[Ne++]=fe-(fe-Fe)*Ke|0,R[Ne++]=ye-(ye-Me)*Ke|0,R[Ne++]=255}}function x(C,M,O){const L=M.coords,H=M.colors;let W,Q;switch(M.type){case"lattice":const S=M.verticesPerRow,g=Math.floor(L.length/S)-1,E=S-1;for(W=0;W<g;W++){let R=W*S;for(let v=0;v<E;v++,R++)N(C,O,L[R],L[R+1],L[R+S],H[R],H[R+1],H[R+S]),N(C,O,L[R+S+1],L[R+1],L[R+S],H[R+S+1],H[R+1],H[R+S])}break;case"triangles":for(W=0,Q=L.length;W<Q;W+=3)N(C,O,L[W],L[W+1],L[W+2],H[W],H[W+1],H[W+2]);break;default:throw new Error("illegal figure")}}return function(C,M,O,L,H,W,Q,S){const v=Math.floor(C[0]),b=Math.floor(C[1]),z=Math.ceil(C[2])-v,U=Math.ceil(C[3])-b,ie=Math.min(Math.ceil(Math.abs(z*M[0]*1.1)),3e3),J=Math.min(Math.ceil(Math.abs(U*M[1]*1.1)),3e3),q=z/ie,oe=U/J,re={coords:O,colors:L,offsetX:-v,offsetY:-b,scaleX:1/q,scaleY:1/oe},A=ie+4,m=J+4;let u,y,w,P;if(S.isEnabled)u=S.drawFigures({width:ie,height:J,backgroundColor:W,figures:H,context:re}),y=Q.getCanvas("mesh",A,m,!1),y.context.drawImage(u,2,2),u=y.canvas;else{y=Q.getCanvas("mesh",A,m,!1);const T=y.context,$=T.createImageData(ie,J);if(W){const X=$.data;for(w=0,P=X.length;w<P;w+=4)X[w]=W[0],X[w+1]=W[1],X[w+2]=W[2],X[w+3]=255}for(w=0;w<H.length;w++)x($,H[w],re);T.putImageData($,2,2),u=y.canvas}return{canvas:u,offsetX:v-2*q,offsetY:b-2*oe,scaleX:q,scaleY:oe}}}();F.Mesh={fromIR:function(N){const x=N[2],j=N[3],C=N[4],M=N[5],O=N[6],L=N[7],H=N[8];return{getPattern:function(Q,S,g){let E;if(G(Q,L),g)E=h.Util.singularValueDecompose2dScale(Q.mozCurrentTransform);else if(E=h.Util.singularValueDecompose2dScale(S.baseTransform),O){const v=h.Util.singularValueDecompose2dScale(O);E=[E[0]*v[0],E[1]*v[1]]}const R=ne(M,E,x,j,C,g?null:H,S.cachedCanvases,S.webGLContext);return g||(Q.setTransform.apply(Q,S.baseTransform),O&&Q.transform.apply(Q,O)),Q.translate(R.offsetX,R.offsetY),Q.scale(R.scaleX,R.scaleY),Q.createPattern(R.canvas,"no-repeat")}}}},F.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};const I=function(){function j(C,M,O,L,H){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=M,this.canvasGraphicsFactory=L,this.baseTransform=H,this.ctx=O}return j.prototype={createPatternCanvas:function(M){const O=this.operatorList,L=this.bbox,H=this.xstep,W=this.ystep,Q=this.paintType,g=this.color,E=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+this.tilingType);const R=L[0],v=L[1],b=L[2],z=L[3],U=h.Util.singularValueDecompose2dScale(this.matrix),ie=h.Util.singularValueDecompose2dScale(this.baseTransform),J=[U[0]*ie[0],U[1]*ie[1]],q=this.getSizeAndScale(H,this.ctx.canvas.width,J[0]),oe=this.getSizeAndScale(W,this.ctx.canvas.height,J[1]),re=M.cachedCanvases.getCanvas("pattern",q.size,oe.size,!0),m=E.createCanvasGraphics(re.context);return m.groupLevel=M.groupLevel,this.setFillAndStrokeStyleToContext(m,Q,g),m.transform(q.scale,0,0,oe.scale,0,0),m.transform(1,0,0,1,-R,-v),this.clipBbox(m,L,R,v,b,z),m.executeOperatorList(O),this.ctx.transform(1,0,0,1,R,v),this.ctx.scale(1/q.scale,1/oe.scale),re.canvas},getSizeAndScale:function(M,O,L){M=Math.abs(M);const H=Math.max(3e3,O);let W=Math.ceil(M*L);return W>=H?W=H:L=W/M,{scale:L,size:W}},clipBbox:function(M,O,L,H,W,Q){Array.isArray(O)&&4===O.length&&(M.ctx.rect(L,H,W-L,Q-H),M.clip(),M.endPath())},setFillAndStrokeStyleToContext:function(M,O,L){const H=M.ctx,W=M.current;switch(O){case 1:const Q=this.ctx;H.fillStyle=Q.fillStyle,H.strokeStyle=Q.strokeStyle,W.fillColor=Q.fillStyle,W.strokeColor=Q.strokeStyle;break;case 2:const S=h.Util.makeHexColor(L[0],L[1],L[2]);H.fillStyle=S,H.strokeStyle=S,W.fillColor=S,W.strokeColor=S;break;default:throw new h.FormatError(`Unsupported paint type: ${O}`)}},getPattern:function(M,O){(M=this.ctx).setTransform.apply(M,this.baseTransform),M.transform.apply(M,this.matrix);const L=this.createPatternCanvas(O);return M.createPattern(L,"repeat")}},j}();f.TilingPattern=I},(ve,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GlobalWorkerOptions=void 0;const V=Object.create(null);f.GlobalWorkerOptions=V,V.workerPort=void 0===V.workerPort?null:V.workerPort,V.workerSrc=void 0===V.workerSrc?"":V.workerSrc},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.MessageHandler=void 0;var h=V(2);function ne(I){if("object"!=typeof I||null===I)return I;switch(I.name){case"AbortException":return new h.AbortException(I.message);case"MissingPDFException":return new h.MissingPDFException(I.message);case"UnexpectedResponseException":return new h.UnexpectedResponseException(I.message,I.status);case"UnknownErrorException":return new h.UnknownErrorException(I.message,I.details);default:return new h.UnknownErrorException(I.message,I.toString())}}f.MessageHandler=class{constructor(B,N,x){this.sourceName=B,this.targetName=N,this.comObj=x,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const C=j.data;if(C.targetName!==this.sourceName)return;if(C.stream)return void this._processStreamMessage(C);if(C.callback){const O=C.callbackId,L=this.callbackCapabilities[O];if(!L)throw new Error(`Cannot resolve callback ${O}`);if(delete this.callbackCapabilities[O],1===C.callback)L.resolve(C.data);else{if(2!==C.callback)throw new Error("Unexpected callback case");L.reject(ne(C.reason))}return}const M=this.actionHandler[C.action];if(!M)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const O=this.sourceName,L=C.sourceName;new Promise(function(H){H(M(C.data))}).then(function(H){x.postMessage({sourceName:O,targetName:L,callback:1,callbackId:C.callbackId,data:H})},function(H){x.postMessage({sourceName:O,targetName:L,callback:2,callbackId:C.callbackId,reason:ne(H)})})}else C.streamId?this._createStreamSink(C):M(C.data)},x.addEventListener("message",this._onComObjOnMessage)}on(B,N){const x=this.actionHandler;if(x[B])throw new Error(`There is already an actionName called "${B}"`);x[B]=N}send(B,N,x){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,data:N},x)}sendWithPromise(B,N,x){const j=this.callbackId++,C=(0,h.createPromiseCapability)();this.callbackCapabilities[j]=C;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,callbackId:j,data:N},x)}catch(M){C.reject(M)}return C.promise}sendWithStream(B,N,x,j){const C=this.streamId++,M=this.sourceName,O=this.targetName,L=this.comObj;return new ReadableStream({start:H=>{const W=(0,h.createPromiseCapability)();return this.streamControllers[C]={controller:H,startCall:W,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:M,targetName:O,action:B,streamId:C,data:N,desiredSize:H.desiredSize},j),W.promise},pull:H=>{const W=(0,h.createPromiseCapability)();return this.streamControllers[C].pullCall=W,L.postMessage({sourceName:M,targetName:O,stream:6,streamId:C,desiredSize:H.desiredSize}),W.promise},cancel:H=>{(0,h.assert)(H instanceof Error,"cancel must have a valid reason");const W=(0,h.createPromiseCapability)();return this.streamControllers[C].cancelCall=W,this.streamControllers[C].isClosed=!0,L.postMessage({sourceName:M,targetName:O,stream:1,streamId:C,reason:ne(H)}),W.promise}},x)}_createStreamSink(B){const N=this,x=this.actionHandler[B.action],j=B.streamId,C=this.sourceName,M=B.sourceName,O=this.comObj,L={enqueue(H,W=1,Q){if(this.isCancelled)return;const S=this.desiredSize;this.desiredSize-=W,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,h.createPromiseCapability)(),this.ready=this.sinkCapability.promise),N._postMessage({sourceName:C,targetName:M,stream:4,streamId:j,chunk:H},Q)},close(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:C,targetName:M,stream:3,streamId:j}),delete N.streamSinks[j])},error(H){(0,h.assert)(H instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:C,targetName:M,stream:5,streamId:j,reason:ne(H)}))},sinkCapability:(0,h.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:B.desiredSize,ready:null};L.sinkCapability.resolve(),L.ready=L.sinkCapability.promise,this.streamSinks[j]=L,new Promise(function(H){H(x(B.data,L))}).then(function(){O.postMessage({sourceName:C,targetName:M,stream:8,streamId:j,success:!0})},function(H){O.postMessage({sourceName:C,targetName:M,stream:8,streamId:j,reason:ne(H)})})}_processStreamMessage(B){const N=B.streamId,x=this.sourceName,j=B.sourceName,C=this.comObj;switch(B.stream){case 8:B.success?this.streamControllers[N].startCall.resolve():this.streamControllers[N].startCall.reject(ne(B.reason));break;case 7:B.success?this.streamControllers[N].pullCall.resolve():this.streamControllers[N].pullCall.reject(ne(B.reason));break;case 6:if(!this.streamSinks[N]){C.postMessage({sourceName:x,targetName:j,stream:7,streamId:N,success:!0});break}this.streamSinks[N].desiredSize<=0&&B.desiredSize>0&&this.streamSinks[N].sinkCapability.resolve(),this.streamSinks[N].desiredSize=B.desiredSize;const{onPull:M}=this.streamSinks[B.streamId];new Promise(function(L){L(M&&M())}).then(function(){C.postMessage({sourceName:x,targetName:j,stream:7,streamId:N,success:!0})},function(L){C.postMessage({sourceName:x,targetName:j,stream:7,streamId:N,reason:ne(L)})});break;case 4:if((0,h.assert)(this.streamControllers[N],"enqueue should have stream controller"),this.streamControllers[N].isClosed)break;this.streamControllers[N].controller.enqueue(B.chunk);break;case 3:if((0,h.assert)(this.streamControllers[N],"close should have stream controller"),this.streamControllers[N].isClosed)break;this.streamControllers[N].isClosed=!0,this.streamControllers[N].controller.close(),this._deleteStreamController(N);break;case 5:(0,h.assert)(this.streamControllers[N],"error should have stream controller"),this.streamControllers[N].controller.error(ne(B.reason)),this._deleteStreamController(N);break;case 2:B.success?this.streamControllers[N].cancelCall.resolve():this.streamControllers[N].cancelCall.reject(ne(B.reason)),this._deleteStreamController(N);break;case 1:if(!this.streamSinks[N])break;const{onCancel:O}=this.streamSinks[B.streamId];new Promise(function(L){L(O&&O(ne(B.reason)))}).then(function(){C.postMessage({sourceName:x,targetName:j,stream:2,streamId:N,success:!0})},function(L){C.postMessage({sourceName:x,targetName:j,stream:2,streamId:N,reason:ne(L)})}),this.streamSinks[N].sinkCapability.reject(ne(B.reason)),this.streamSinks[N].isCancelled=!0,delete this.streamSinks[N];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(B){var N=this;return _asyncToGenerator(function*(){yield Promise.allSettled([N.streamControllers[B].startCall,N.streamControllers[B].pullCall,N.streamControllers[B].cancelCall].map(function(x){return x&&x.promise})),delete N.streamControllers[B]})()}_postMessage(B,N){N&&this.postMessageTransfers?this.comObj.postMessage(B,N):this.comObj.postMessage(B)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Metadata=void 0;var h=V(2),F=V(15);f.Metadata=class{constructor(Y){(0,h.assert)("string"==typeof Y,"Metadata: input is not a string"),Y=this._repair(Y);const B=new F.SimpleXMLParser({lowerCaseName:!0}).parseFromString(Y);this._metadataMap=new Map,B&&this._parse(B),this._data=Y}_repair(Y){return Y.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(I,B){const N=B.replace(/\\([0-3])([0-7])([0-7])/g,function(j,C,M,O){return String.fromCharCode(64*C+8*M+1*O)}).replace(/&(amp|apos|gt|lt|quot);/g,function(j,C){switch(C){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${C} isn't defined.`)});let x="";for(let j=0,C=N.length;j<C;j+=2){const M=256*N.charCodeAt(j)+N.charCodeAt(j+1);x+=M>=32&&M<127&&60!==M&&62!==M&&38!==M?String.fromCharCode(M):"&#x"+(65536+M).toString(16).substring(1)+";"}return">"+x})}_getSequence(Y){const I=Y.nodeName;return"rdf:bag"!==I&&"rdf:seq"!==I&&"rdf:alt"!==I?null:Y.childNodes.filter(B=>"rdf:li"===B.nodeName)}_getCreators(Y){if("dc:creator"!==Y.nodeName)return!1;if(!Y.hasChildNodes())return!0;const B=this._getSequence(Y.childNodes[0])||[];return this._metadataMap.set(Y.nodeName,B.map(N=>N.textContent.trim())),!0}_parse(Y){let I=Y.documentElement;if("rdf:rdf"!==I.nodeName)for(I=I.firstChild;I&&"rdf:rdf"!==I.nodeName;)I=I.nextSibling;if(I&&"rdf:rdf"===I.nodeName&&I.hasChildNodes())for(const B of I.childNodes)if("rdf:description"===B.nodeName)for(const N of B.childNodes){const x=N.nodeName;"#text"!==x&&(this._getCreators(N)||this._metadataMap.set(x,N.textContent.trim()))}}getRaw(){return this._data}get(Y){var I;return null!=(I=this._metadataMap.get(Y))?I:null}getAll(){return(0,h.objectFromEntries)(this._metadataMap)}has(Y){return this._metadataMap.has(Y)}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SimpleXMLParser=f.SimpleDOMNode=void 0;var h=V(2);function G(N,x){const j=N[x];return" "===j||"\n"===j||"\r"===j||"\t"===j}class I{constructor(x,j){this.nodeName=x,this.nodeValue=j,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const x=this.parentNode.childNodes;if(!x)return;const j=x.indexOf(this);return-1!==j?x[j+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(x){return x.textContent}).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(x,j){if(j>=x.length)return this;const C=x[j],M=[];let O=this;for(;;){if(C.name===O.nodeName){if(0!==C.pos){if(0===M.length)return null;{const[L]=M.pop();let H=0;for(const W of L.childNodes)if(C.name===W.nodeName){if(H===C.pos)return W.searchNode(x,j+1);H++}return O.searchNode(x,j+1)}}{const L=O.searchNode(x,j+1);if(null!==L)return L}}if(O.childNodes&&0!==O.childNodes.length)M.push([O,0]),O=O.childNodes[0];else{if(0===M.length)return null;for(;0!==M.length;){const[L,H]=M.pop(),W=H+1;if(W<L.childNodes.length){M.push([L,W]),O=L.childNodes[W];break}}if(0===M.length)return null}}}dump(x){if("#text"!==this.nodeName){if(x.push(`<${this.nodeName}`),this.attributes)for(const j of this.attributes)x.push(` ${j.name}="${(0,h.encodeToXmlString)(j.value)}"`);if(this.hasChildNodes()){x.push(">");for(const j of this.childNodes)j.dump(x);x.push(`</${this.nodeName}>`)}else x.push(this.nodeValue?`>${(0,h.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`:"/>")}else x.push((0,h.encodeToXmlString)(this.nodeValue))}}f.SimpleDOMNode=I,f.SimpleXMLParser=class extends class{_resolveEntities(x){return x.replace(/&([^;]+);/g,(j,C)=>{if("#x"===C.substring(0,2))return String.fromCodePoint(parseInt(C.substring(2),16));if("#"===C.substring(0,1))return String.fromCodePoint(parseInt(C.substring(1),10));switch(C){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(C)})}_parseContent(x,j){const C=[];let M=j;function O(){for(;M<x.length&&G(x,M);)++M}for(;M<x.length&&!G(x,M)&&">"!==x[M]&&"/"!==x[M];)++M;const L=x.substring(j,M);for(O();M<x.length&&">"!==x[M]&&"/"!==x[M]&&"?"!==x[M];){O();let H="",W="";for(;M<x.length&&!G(x,M)&&"="!==x[M];)H+=x[M],++M;if(O(),"="!==x[M])return null;++M,O();const Q=x[M];if('"'!==Q&&"'"!==Q)return null;const S=x.indexOf(Q,++M);if(S<0)return null;W=x.substring(M,S),C.push({name:H,value:this._resolveEntities(W)}),M=S+1,O()}return{name:L,attributes:C,parsed:M-j}}_parseProcessingInstruction(x,j){let C=j;for(;C<x.length&&!G(x,C)&&">"!==x[C]&&"/"!==x[C];)++C;const O=x.substring(j,C);!function(){for(;C<x.length&&G(x,C);)++C}();const L=C;for(;C<x.length&&("?"!==x[C]||">"!==x[C+1]);)++C;return{name:O,value:x.substring(L,C),parsed:C-j}}parseXml(x){let j=0;for(;j<x.length;){let M=j;if("<"===x[j]){let L;switch(++M,x[M]){case"/":if(++M,L=x.indexOf(">",M),L<0)return void this.onError(-9);this.onEndElement(x.substring(M,L)),M=L+1;break;case"?":++M;const H=this._parseProcessingInstruction(x,M);if("?>"!==x.substring(M+H.parsed,M+H.parsed+2))return void this.onError(-3);this.onPi(H.name,H.value),M+=H.parsed+2;break;case"!":if("--"===x.substring(M+1,M+3)){if(L=x.indexOf("--\x3e",M+3),L<0)return void this.onError(-5);this.onComment(x.substring(M+3,L)),M=L+3}else if("[CDATA["===x.substring(M+1,M+8)){if(L=x.indexOf("]]>",M+8),L<0)return void this.onError(-2);this.onCdata(x.substring(M+8,L)),M=L+3}else{if("DOCTYPE"!==x.substring(M+1,M+8))return void this.onError(-6);{const S=x.indexOf("[",M+8);let g=!1;if(L=x.indexOf(">",M+8),L<0)return void this.onError(-4);if(S>0&&L>S){if(L=x.indexOf("]>",M+8),L<0)return void this.onError(-4);g=!0}const E=x.substring(M+8,L+(g?1:0));this.onDoctype(E),M=L+(g?2:1)}}break;default:const W=this._parseContent(x,M);if(null===W)return void this.onError(-6);let Q=!1;if("/>"===x.substring(M+W.parsed,M+W.parsed+2))Q=!0;else if(">"!==x.substring(M+W.parsed,M+W.parsed+1))return void this.onError(-9);this.onBeginElement(W.name,W.attributes,Q),M+=W.parsed+(Q?2:1)}}else{for(;M<x.length&&"<"!==x[M];)M++;const O=x.substring(j,M);this.onText(this._resolveEntities(O))}j=M}}onResolveEntity(x){return`&${x};`}onPi(x,j){}onComment(x){}onCdata(x){}onDoctype(x){}onText(x){}onBeginElement(x,j,C){}onEndElement(x){}onError(x){}}{constructor({hasAttributes:x=!1,lowerCaseName:j=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=0,this._hasAttributes=x,this._lowerCaseName=j}parseFromString(x){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(x),0!==this._errorCode)return;const[j]=this._currentFragment;return j?{documentElement:j}:void 0}onResolveEntity(x){switch(x){case"apos":return"'"}return super.onResolveEntity(x)}onText(x){if(function(N){for(let x=0,j=N.length;x<j;x++)if(!G(N,x))return!1;return!0}(x))return;const j=new I("#text",x);this._currentFragment.push(j)}onCdata(x){const j=new I("#text",x);this._currentFragment.push(j)}onBeginElement(x,j,C){this._lowerCaseName&&(x=x.toLowerCase());const M=new I(x);M.childNodes=[],this._hasAttributes&&(M.attributes=j),this._currentFragment.push(M),!C&&(this._stack.push(this._currentFragment),this._currentFragment=M.childNodes)}onEndElement(x){this._currentFragment=this._stack.pop()||[];const j=this._currentFragment[this._currentFragment.length-1];if(j)for(let C=0,M=j.childNodes.length;C<M;C++)j.childNodes[C].parentNode=j}onError(x){this._errorCode=x}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OptionalContentConfig=void 0;var h=V(2);class F{constructor(Y,I){this.visible=!0,this.name=Y,this.intent=I}}f.OptionalContentConfig=class{constructor(Y){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Y){this.name=Y.name,this.creator=Y.creator,this._order=Y.order;for(const I of Y.groups)this._groups.set(I.id,new F(I.name,I.intent));if("OFF"===Y.baseState)for(const I of this._groups)I.visible=!1;for(const I of Y.on)this._groups.get(I).visible=!0;for(const I of Y.off)this._groups.get(I).visible=!1}}isVisible(Y){if("OCG"===Y.type)return this._groups.has(Y.id)?this._groups.get(Y.id).visible:((0,h.warn)(`Optional content group not found: ${Y.id}`),!0);if("OCMD"===Y.type){if(Y.expression&&(0,h.warn)("Visibility expression not supported yet."),!Y.policy||"AnyOn"===Y.policy){for(const I of Y.ids){if(!this._groups.has(I))return(0,h.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!0}return!1}if("AllOn"===Y.policy){for(const I of Y.ids){if(!this._groups.has(I))return(0,h.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!1}return!0}if("AnyOff"===Y.policy){for(const I of Y.ids){if(!this._groups.has(I))return(0,h.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!0}return!1}if("AllOff"===Y.policy){for(const I of Y.ids){if(!this._groups.has(I))return(0,h.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${Y.policy}.`),!0}return(0,h.warn)(`Unknown group type ${Y.type}.`),!0}setVisibility(Y,I=!0){this._groups.has(Y)?this._groups.get(Y).visible=!!I:(0,h.warn)(`Optional content group not found: ${Y}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size?(0,h.objectFromEntries)(this._groups):null}getGroup(Y){return this._groups.get(Y)||null}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFDataTransportStream=void 0;var h=V(2);f.PDFDataTransportStream=class{constructor(I,B){(0,h.assert)(B,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=I.progressiveDone||!1;const N=I.initialData;if((null==N?void 0:N.length)>0){const x=new Uint8Array(N).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=B,this._isStreamingSupported=!I.disableStream,this._isRangeSupported=!I.disableRange,this._contentLength=I.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((x,j)=>{this._onReceiveData({begin:x,chunk:j})}),this._pdfDataRangeTransport.addProgressListener((x,j)=>{this._onProgress({loaded:x,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(x=>{this._onReceiveData({chunk:x})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(I){const B=new Uint8Array(I.chunk).buffer;if(void 0===I.begin)this._fullRequestReader?this._fullRequestReader._enqueue(B):this._queuedChunks.push(B);else{const N=this._rangeReaders.some(function(x){return x._begin===I.begin&&(x._enqueue(B),!0)});(0,h.assert)(N,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var I,B;return null!=(B=null==(I=this._fullRequestReader)?void 0:I._loaded)?B:0}_onProgress(I){if(void 0===I.total){const B=this._rangeReaders[0];(null==B?void 0:B.onProgress)&&B.onProgress({loaded:I.loaded})}else{const B=this._fullRequestReader;(null==B?void 0:B.onProgress)&&B.onProgress({loaded:I.loaded,total:I.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(I){const B=this._rangeReaders.indexOf(I);B>=0&&this._rangeReaders.splice(B,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const I=this._queuedChunks;return this._queuedChunks=null,new G(this,I,this._progressiveDone)}getRangeReader(I,B){if(B<=this._progressiveDataLength)return null;const N=new ne(this,I,B);return this._pdfDataRangeTransport.requestDataRange(I,B),this._rangeReaders.push(N),N}cancelAllRequests(I){this._fullRequestReader&&this._fullRequestReader.cancel(I),this._rangeReaders.slice(0).forEach(function(N){N.cancel(I)}),this._pdfDataRangeTransport.abort()}};class G{constructor(I,B,N=!1){this._stream=I,this._done=N||!1,this._filename=null,this._queuedChunks=B||[],this._loaded=0;for(const x of this._queuedChunks)this._loaded+=x.byteLength;this._requests=[],this._headersReady=Promise.resolve(),I._fullRequestReader=this,this.onProgress=null}_enqueue(I){this._done||(this._requests.length>0?this._requests.shift().resolve({value:I,done:!1}):this._queuedChunks.push(I),this._loaded+=I.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var I=this;return _asyncToGenerator(function*(){if(I._queuedChunks.length>0)return{value:I._queuedChunks.shift(),done:!1};if(I._done)return{value:void 0,done:!0};const B=(0,h.createPromiseCapability)();return I._requests.push(B),B.promise})()}cancel(I){this._done=!0,this._requests.forEach(function(B){B.resolve({value:void 0,done:!0})}),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class ne{constructor(I,B,N){this._stream=I,this._begin=B,this._end=N,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(I){this._done||(0===this._requests.length?this._queuedChunk=I:(this._requests.shift().resolve({value:I,done:!1}),this._requests.forEach(function(N){N.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}read(){var I=this;return _asyncToGenerator(function*(){if(I._queuedChunk){const N=I._queuedChunk;return I._queuedChunk=null,{value:N,done:!1}}if(I._done)return{value:void 0,done:!0};const B=(0,h.createPromiseCapability)();return I._requests.push(B),B.promise})()}cancel(I){this._done=!0,this._requests.forEach(function(B){B.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WebGLContext=void 0;var h=V(2);f.WebGLContext=class{constructor({enable:Y=!1}){this._enabled=!0===Y}get isEnabled(){let Y=this._enabled;return Y&&(Y=G.tryInitGL()),(0,h.shadow)(this,"isEnabled",Y)}composeSMask({layer:Y,mask:I,properties:B}){return G.composeSMask(Y,I,B)}drawFigures({width:Y,height:I,backgroundColor:B,figures:N,context:x}){return G.drawFigures(Y,I,B,N,x)}clear(){G.cleanup()}};const G=function(){function Y(b,z,U){const ie=b.createShader(U);if(b.shaderSource(ie,z),b.compileShader(ie),!b.getShaderParameter(ie,b.COMPILE_STATUS)){const q=b.getShaderInfoLog(ie);throw new Error("Error during shader compilation: "+q)}return ie}function I(b,z){return Y(b,z,b.VERTEX_SHADER)}function B(b,z){return Y(b,z,b.FRAGMENT_SHADER)}function N(b,z){const U=b.createProgram();for(let J=0,q=z.length;J<q;++J)b.attachShader(U,z[J]);if(b.linkProgram(U),!b.getProgramParameter(U,b.LINK_STATUS)){const J=b.getProgramInfoLog(U);throw new Error("Error during program linking: "+J)}return U}function x(b,z,U){b.activeTexture(U);const ie=b.createTexture();return b.bindTexture(b.TEXTURE_2D,ie),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,z),ie}let j,C;function M(){j||(C=document.createElement("canvas"),j=C.getContext("webgl",{premultipliedalpha:!1}))}let H=null,E=null;return{tryInitGL(){try{return M(),!!j}catch(b){}return!1},composeSMask:function(b,z,U){const ie=b.width,J=b.height;H||function(){M();const b=C;C=null;const z=j;j=null;const J=N(z,[I(z,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),B(z,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);z.useProgram(J);const q={};q.gl=z,q.canvas=b,q.resolutionLocation=z.getUniformLocation(J,"u_resolution"),q.positionLocation=z.getAttribLocation(J,"a_position"),q.backdropLocation=z.getUniformLocation(J,"u_backdrop"),q.subtypeLocation=z.getUniformLocation(J,"u_subtype");const oe=z.getAttribLocation(J,"a_texCoord"),re=z.getUniformLocation(J,"u_image"),A=z.getUniformLocation(J,"u_mask"),m=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,m),z.bufferData(z.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),z.STATIC_DRAW),z.enableVertexAttribArray(oe),z.vertexAttribPointer(oe,2,z.FLOAT,!1,0,0),z.uniform1i(re,0),z.uniform1i(A,1),H=q}();const q=H,oe=q.canvas,re=q.gl;oe.width=ie,oe.height=J,re.viewport(0,0,re.drawingBufferWidth,re.drawingBufferHeight),re.uniform2f(q.resolutionLocation,ie,J),U.backdrop?re.uniform4f(q.resolutionLocation,U.backdrop[0],U.backdrop[1],U.backdrop[2],1):re.uniform4f(q.resolutionLocation,0,0,0,0),re.uniform1i(q.subtypeLocation,"Luminosity"===U.subtype?1:0);const A=x(re,b,re.TEXTURE0),m=x(re,z,re.TEXTURE1),u=re.createBuffer();return re.bindBuffer(re.ARRAY_BUFFER,u),re.bufferData(re.ARRAY_BUFFER,new Float32Array([0,0,ie,0,0,J,0,J,ie,0,ie,J]),re.STATIC_DRAW),re.enableVertexAttribArray(q.positionLocation),re.vertexAttribPointer(q.positionLocation,2,re.FLOAT,!1,0,0),re.clearColor(0,0,0,0),re.enable(re.BLEND),re.blendFunc(re.ONE,re.ONE_MINUS_SRC_ALPHA),re.clear(re.COLOR_BUFFER_BIT),re.drawArrays(re.TRIANGLES,0,6),re.flush(),re.deleteTexture(A),re.deleteTexture(m),re.deleteBuffer(u),oe},drawFigures:function(b,z,U,ie,J){E||function(){M();const b=C;C=null;const z=j;j=null;const J=N(z,[I(z,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),B(z,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);z.useProgram(J);const q={};q.gl=z,q.canvas=b,q.resolutionLocation=z.getUniformLocation(J,"u_resolution"),q.scaleLocation=z.getUniformLocation(J,"u_scale"),q.offsetLocation=z.getUniformLocation(J,"u_offset"),q.positionLocation=z.getAttribLocation(J,"a_position"),q.colorLocation=z.getAttribLocation(J,"a_color"),E=q}();const q=E,oe=q.canvas,re=q.gl;oe.width=b,oe.height=z,re.viewport(0,0,re.drawingBufferWidth,re.drawingBufferHeight),re.uniform2f(q.resolutionLocation,b,z);let A=0;for(let ee=0,le=ie.length;ee<le;ee++)switch(ie[ee].type){case"lattice":A+=((ie[ee].coords.length/ie[ee].verticesPerRow|0)-1)*(ie[ee].verticesPerRow-1)*6;break;case"triangles":A+=ie[ee].coords.length}const m=new Float32Array(2*A),u=new Uint8Array(3*A),y=J.coords,w=J.colors;let P=0,T=0;for(let ee=0,le=ie.length;ee<le;ee++){const he=ie[ee],fe=he.coords,ye=he.colors;switch(he.type){case"lattice":const be=he.verticesPerRow,Pe=fe.length/be|0;for(let Fe=1;Fe<Pe;Fe++){let Me=Fe*be+1;for(let je=1;je<be;je++,Me++)m[P]=y[fe[Me-be-1]],m[P+1]=y[fe[Me-be-1]+1],m[P+2]=y[fe[Me-be]],m[P+3]=y[fe[Me-be]+1],m[P+4]=y[fe[Me-1]],m[P+5]=y[fe[Me-1]+1],u[T]=w[ye[Me-be-1]],u[T+1]=w[ye[Me-be-1]+1],u[T+2]=w[ye[Me-be-1]+2],u[T+3]=w[ye[Me-be]],u[T+4]=w[ye[Me-be]+1],u[T+5]=w[ye[Me-be]+2],u[T+6]=w[ye[Me-1]],u[T+7]=w[ye[Me-1]+1],u[T+8]=w[ye[Me-1]+2],m[P+6]=m[P+2],m[P+7]=m[P+3],m[P+8]=m[P+4],m[P+9]=m[P+5],m[P+10]=y[fe[Me]],m[P+11]=y[fe[Me]+1],u[T+9]=u[T+3],u[T+10]=u[T+4],u[T+11]=u[T+5],u[T+12]=u[T+6],u[T+13]=u[T+7],u[T+14]=u[T+8],u[T+15]=w[ye[Me]],u[T+16]=w[ye[Me]+1],u[T+17]=w[ye[Me]+2],P+=12,T+=18}break;case"triangles":for(let Fe=0,Me=fe.length;Fe<Me;Fe++)m[P]=y[fe[Fe]],m[P+1]=y[fe[Fe]+1],u[T]=w[ye[Fe]],u[T+1]=w[ye[Fe]+1],u[T+2]=w[ye[Fe]+2],P+=2,T+=3}}U?re.clearColor(U[0]/255,U[1]/255,U[2]/255,1):re.clearColor(0,0,0,0),re.clear(re.COLOR_BUFFER_BIT);const $=re.createBuffer();re.bindBuffer(re.ARRAY_BUFFER,$),re.bufferData(re.ARRAY_BUFFER,m,re.STATIC_DRAW),re.enableVertexAttribArray(q.positionLocation),re.vertexAttribPointer(q.positionLocation,2,re.FLOAT,!1,0,0);const X=re.createBuffer();return re.bindBuffer(re.ARRAY_BUFFER,X),re.bufferData(re.ARRAY_BUFFER,u,re.STATIC_DRAW),re.enableVertexAttribArray(q.colorLocation),re.vertexAttribPointer(q.colorLocation,3,re.UNSIGNED_BYTE,!1,0,0),re.uniform2f(q.scaleLocation,J.scaleX,J.scaleY),re.uniform2f(q.offsetLocation,J.offsetX,J.offsetY),re.drawArrays(re.TRIANGLES,0,A),re.flush(),re.deleteBuffer($),re.deleteBuffer(X),oe},cleanup(){(null==H?void 0:H.canvas)&&(H.canvas.width=0,H.canvas.height=0),(null==E?void 0:E.canvas)&&(E.canvas.width=0,E.canvas.height=0),H=null,E=null}}}()},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationLayer=void 0;var h=V(1),F=V(2),G=V(8),ne=V(20);class Y{static create(u){switch(u.data.annotationType){case F.AnnotationType.LINK:return new B(u);case F.AnnotationType.TEXT:return new N(u);case F.AnnotationType.WIDGET:switch(u.data.fieldType){case"Tx":return new j(u);case"Btn":return u.data.radioButton?new M(u):u.data.checkBox?new C(u):new O(u);case"Ch":return new L(u)}return new x(u);case F.AnnotationType.POPUP:return new H(u);case F.AnnotationType.FREETEXT:return new Q(u);case F.AnnotationType.LINE:return new S(u);case F.AnnotationType.SQUARE:return new g(u);case F.AnnotationType.CIRCLE:return new E(u);case F.AnnotationType.POLYLINE:return new R(u);case F.AnnotationType.CARET:return new b(u);case F.AnnotationType.INK:return new z(u);case F.AnnotationType.POLYGON:return new v(u);case F.AnnotationType.HIGHLIGHT:return new U(u);case F.AnnotationType.UNDERLINE:return new ie(u);case F.AnnotationType.SQUIGGLY:return new J(u);case F.AnnotationType.STRIKEOUT:return new q(u);case F.AnnotationType.STAMP:return new oe(u);case F.AnnotationType.FILEATTACHMENT:return new re(u);default:return new I(u)}}}class I{constructor(u,{isRenderable:y=!1,ignoreBorder:w=!1,createQuadrilaterals:P=!1}={}){this.isRenderable=y,this.data=u.data,this.layer=u.layer,this.page=u.page,this.viewport=u.viewport,this.linkService=u.linkService,this.downloadManager=u.downloadManager,this.imageResourcesPath=u.imageResourcesPath,this.renderInteractiveForms=u.renderInteractiveForms,this.svgFactory=u.svgFactory,this.annotationStorage=u.annotationStorage,this.enableScripting=u.enableScripting,this.hasJSActions=u.hasJSActions,this._mouseState=u.mouseState,y&&(this.container=this._createContainer(w)),P&&(this.quadrilaterals=this._createQuadrilaterals(w))}_createContainer(u=!1){const y=this.data,w=this.page,P=this.viewport,T=document.createElement("section");let $=y.rect[2]-y.rect[0],X=y.rect[3]-y.rect[1];T.setAttribute("data-annotation-id",y.id);const ee=F.Util.normalizeRect([y.rect[0],w.view[3]-y.rect[1]+w.view[1],y.rect[2],w.view[3]-y.rect[3]+w.view[1]]);if(T.style.transform=`matrix(${P.transform.join(",")})`,T.style.transformOrigin=`${-ee[0]}px ${-ee[1]}px`,!u&&y.borderStyle.width>0){T.style.borderWidth=`${y.borderStyle.width}px`,y.borderStyle.style!==F.AnnotationBorderStyleType.UNDERLINE&&($-=2*y.borderStyle.width,X-=2*y.borderStyle.width);const le=y.borderStyle.horizontalCornerRadius,he=y.borderStyle.verticalCornerRadius;switch((le>0||he>0)&&(T.style.borderRadius=`${le}px / ${he}px`),y.borderStyle.style){case F.AnnotationBorderStyleType.SOLID:T.style.borderStyle="solid";break;case F.AnnotationBorderStyleType.DASHED:T.style.borderStyle="dashed";break;case F.AnnotationBorderStyleType.BEVELED:(0,F.warn)("Unimplemented border style: beveled");break;case F.AnnotationBorderStyleType.INSET:(0,F.warn)("Unimplemented border style: inset");break;case F.AnnotationBorderStyleType.UNDERLINE:T.style.borderBottomStyle="solid"}y.color?T.style.borderColor=F.Util.makeHexColor(0|y.color[0],0|y.color[1],0|y.color[2]):T.style.borderWidth=0}return T.style.left=`${ee[0]}px`,T.style.top=`${ee[1]}px`,T.style.width=`${$}px`,T.style.height=`${X}px`,T}_createQuadrilaterals(u=!1){if(!this.data.quadPoints)return null;const y=[],w=this.data.rect;for(const P of this.data.quadPoints)this.data.rect=[P[2].x,P[2].y,P[1].x,P[1].y],y.push(this._createContainer(u));return this.data.rect=w,y}_createPopup(u,y){let w=this.container;this.quadrilaterals&&(u=u||this.quadrilaterals,w=this.quadrilaterals[0]),u||((u=document.createElement("div")).style.height=w.style.height,u.style.width=w.style.width,w.appendChild(u));const T=new W({container:w,trigger:u,color:y.color,title:y.title,modificationDate:y.modificationDate,contents:y.contents,hideWrapper:!0}).render();T.style.left=w.style.width,w.appendChild(T)}_renderQuadrilaterals(u){return this.quadrilaterals.forEach(y=>{y.className=u}),this.quadrilaterals}render(){(0,F.unreachable)("Abstract method `AnnotationElement.render` called")}}class B extends I{constructor(u){super(u,{isRenderable:!!(u.data.url||u.data.dest||u.data.action||u.data.isTooltipOnly||u.data.actions&&(u.data.actions.Action||u.data.actions["Mouse Up"]||u.data.actions["Mouse Down"])),createQuadrilaterals:!0})}render(){const{data:u,linkService:y}=this,w=document.createElement("a");return u.url?(0,h.addLinkAttributes)(w,{url:u.url,target:u.newWindow?h.LinkTarget.BLANK:y.externalLinkTarget,rel:y.externalLinkRel,enabled:y.externalLinkEnabled}):u.action?this._bindNamedAction(w,u.action):u.dest?this._bindLink(w,u.dest):u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(w,u):this._bindLink(w,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((P,T)=>{const $=0===T?w:w.cloneNode();return P.appendChild($),P}):(this.container.className="linkAnnotation",this.container.appendChild(w),this.container)}_bindLink(u,y){u.href=this.linkService.getDestinationHash(y),u.onclick=()=>(y&&this.linkService.goToDestination(y),!1),(y||""===y)&&(u.className="internalLink")}_bindNamedAction(u,y){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(y),!1),u.className="internalLink"}_bindJSAction(u,y){u.href=this.linkService.getAnchorUrl("");const w=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const P of Object.keys(y.actions)){const T=w.get(P);!T||(u[T]=()=>{var $;return null==($=this.linkService.eventBus)||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y.id,name:P}}),!1})}u.className="internalLink"}}class N extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents)})}render(){this.container.className="textAnnotation";const u=document.createElement("img");return u.style.height=this.container.style.height,u.style.width=this.container.style.width,u.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",u.alt="[{{type}} Annotation]",u.dataset.l10nId="text_annotation_type",u.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(u,this.data),this.container.appendChild(u),this.container}}class x extends I{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(u){return navigator.platform.includes("Win")&&u.ctrlKey||navigator.platform.includes("Mac")&&u.metaKey}_setEventListener(u,y,w,P){y.includes("mouse")?u.addEventListener(y,T=>{var $;null==($=this.linkService.eventBus)||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:w,value:P(T),shift:T.shiftKey,modifier:this._getKeyModifier(T)}})}):u.addEventListener(y,T=>{var $;null==($=this.linkService.eventBus)||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:w,value:T.target.checked}})})}_setEventListeners(u,y,w){var P;for(const[T,$]of y)("Action"===$||(null==(P=this.data.actions)?void 0:P[$]))&&this._setEventListener(u,T,$,w)}}class j extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms||!u.data.hasAppearance&&!!u.data.fieldValue})}render(){const u=this.annotationStorage,y=this.data.id;this.container.className="textWidgetAnnotation";let w=null;if(this.renderInteractiveForms){const P=u.getOrCreateValue(y,{value:this.data.fieldValue}).value,T={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(w=document.createElement("textarea"),w.textContent=P):(w=document.createElement("input"),w.type="text",w.setAttribute("value",P)),T.userValue=P,w.setAttribute("id",y),w.addEventListener("input",function(X){u.setValue(y,{value:X.target.value})});let $=X=>{T.formattedValue&&(X.target.value=T.formattedValue),X.target.setSelectionRange(0,0),T.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions&&(w.addEventListener("focus",X=>{T.userValue&&(X.target.value=T.userValue)}),w.addEventListener("updatefromsandbox",function(X){const{detail:ee}=X,le={value(){T.userValue=ee.value||"",u.setValue(y,{value:T.userValue.toString()}),T.formattedValue||(X.target.value=T.userValue)},valueAsString(){T.formattedValue=ee.valueAsString||"",X.target!==document.activeElement&&(X.target.value=T.formattedValue),u.setValue(y,{formattedValue:T.formattedValue})},focus(){setTimeout(()=>X.target.focus({preventScroll:!1}),0)},userName(){X.target.title=ee.userName},hidden(){X.target.style.visibility=ee.hidden?"hidden":"visible",u.setValue(y,{hidden:ee.hidden})},editable(){X.target.disabled=!ee.editable},selRange(){const[he,fe]=ee.selRange;he>=0&&fe<X.target.value.length&&X.target.setSelectionRange(he,fe)},strokeColor(){const he=ee.strokeColor;X.target.style.color=ne.ColorConverters[`${he[0]}_HTML`](he.slice(1))}};Object.keys(ee).filter(he=>he in le).forEach(he=>le[he]())}),this.data.actions)){w.addEventListener("keydown",ee=>{var he;T.beforeInputValue=ee.target.value;let le=-1;"Escape"===ee.key?le=0:"Enter"===ee.key?le=2:"Tab"===ee.key&&(le=3),-1!==le&&(T.userValue=ee.target.value,null==(he=this.linkService.eventBus)||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ee.target.value,willCommit:!0,commitKey:le,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}))});const X=$;$=null,w.addEventListener("blur",ee=>{var le;this._mouseState.isDown&&(T.userValue=ee.target.value,null==(le=this.linkService.eventBus)||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ee.target.value,willCommit:!0,commitKey:1,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}})),X(ee)}),w.addEventListener("mousedown",ee=>{T.beforeInputValue=ee.target.value,T.beforeInputSelectionRange=null}),w.addEventListener("keyup",ee=>{ee.target.selectionStart===ee.target.selectionEnd&&(T.beforeInputSelectionRange=null)}),w.addEventListener("select",ee=>{T.beforeInputSelectionRange=[ee.target.selectionStart,ee.target.selectionEnd]}),"Keystroke"in this.data.actions&&w.addEventListener("input",ee=>{var fe;let le=-1,he=-1;T.beforeInputSelectionRange&&([le,he]=T.beforeInputSelectionRange),null==(fe=this.linkService.eventBus)||fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:T.beforeInputValue,change:ee.data,willCommit:!1,selStart:le,selEnd:he}})}),this._setEventListeners(w,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.value)}if($&&w.addEventListener("blur",$),w.disabled=this.data.readOnly,w.name=this.data.fieldName,null!==this.data.maxLen&&(w.maxLength=this.data.maxLen),this.data.comb){const ee=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;w.classList.add("comb"),w.style.letterSpacing=`calc(${ee}px - 1ch)`}}else w=document.createElement("div"),w.textContent=this.data.fieldValue,w.style.verticalAlign="middle",w.style.display="table-cell";return this._setTextStyle(w),this.container.appendChild(w),this.container}_setTextStyle(u){const{fontSize:w,fontColor:P}=this.data.defaultAppearanceData,T=u.style;w&&(T.fontSize=`${w}px`),T.color=F.Util.makeHexColor(P[0],P[1],P[2]),null!==this.data.textAlignment&&(T.textAlign=["left","center","right"][this.data.textAlignment])}}class C extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms})}render(){const u=this.annotationStorage,y=this.data,w=y.id,P=u.getOrCreateValue(w,{value:y.fieldValue&&"Off"!==y.fieldValue}).value;this.container.className="buttonWidgetAnnotation checkBox";const T=document.createElement("input");return T.disabled=y.readOnly,T.type="checkbox",T.name=this.data.fieldName,P&&T.setAttribute("checked",!0),T.setAttribute("id",w),T.addEventListener("change",function($){const X=$.target.name;for(const ee of document.getElementsByName(X))ee!==$.target&&(ee.checked=!1,u.setValue(ee.parentNode.getAttribute("data-annotation-id"),{value:!1}));u.setValue(w,{value:$.target.checked})}),this.enableScripting&&this.hasJSActions&&(T.addEventListener("updatefromsandbox",$=>{const{detail:X}=$,ee={value(){$.target.checked="Off"!==X.value,u.setValue(w,{value:$.target.checked})},focus(){setTimeout(()=>$.target.focus({preventScroll:!1}),0)},hidden(){$.target.style.visibility=X.hidden?"hidden":"visible",u.setValue(w,{hidden:X.hidden})},editable(){$.target.disabled=!X.editable}};Object.keys(X).filter(le=>le in ee).forEach(le=>ee[le]())}),this._setEventListeners(T,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)),this.container.appendChild(T),this.container}}class M extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const u=this.annotationStorage,y=this.data,w=y.id,P=u.getOrCreateValue(w,{value:y.fieldValue===y.buttonValue}).value,T=document.createElement("input");return T.disabled=y.readOnly,T.type="radio",T.name=y.fieldName,P&&T.setAttribute("checked",!0),T.setAttribute("pdfButtonValue",y.buttonValue),T.setAttribute("id",w),T.addEventListener("change",function($){const{target:X}=$;for(const ee of document.getElementsByName(X.name))ee!==X&&u.setValue(ee.getAttribute("id"),{value:!1});u.setValue(w,{value:X.checked})}),this.enableScripting&&this.hasJSActions&&(T.addEventListener("updatefromsandbox",$=>{const{detail:X}=$,ee={value(){const le=X.value;for(const he of document.getElementsByName($.target.name)){const fe=he.getAttribute("id");le===he.getAttribute("pdfButtonValue")?(he.setAttribute("checked",!0),u.setValue(fe,{value:!0})):u.setValue(fe,{value:!1})}},focus(){setTimeout(()=>$.target.focus({preventScroll:!1}),0)},hidden(){$.target.style.visibility=X.hidden?"hidden":"visible",u.setValue(w,{hidden:X.hidden})},editable(){$.target.disabled=!X.editable}};Object.keys(X).filter(le=>le in ee).forEach(le=>ee[le]())}),this._setEventListeners(T,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)),this.container.appendChild(T),this.container}}class O extends B{render(){const u=super.render();return u.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(u.title=this.data.alternativeText),u}}class L extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms})}render(){this.container.className="choiceWidgetAnnotation";const u=this.annotationStorage,y=this.data.id;u.getOrCreateValue(y,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});const w=document.createElement("select");w.disabled=this.data.readOnly,w.name=this.data.fieldName,w.setAttribute("id",y),this.data.combo||(w.size=this.data.options.length,this.data.multiSelect&&(w.multiple=!0));for(const T of this.data.options){const $=document.createElement("option");$.textContent=T.displayValue,$.value=T.exportValue,this.data.fieldValue.includes(T.exportValue)&&$.setAttribute("selected",!0),w.appendChild($)}function P(T){const $=T.target.options;return $[$.selectedIndex].value}return this.enableScripting&&this.hasJSActions?(w.addEventListener("updatefromsandbox",T=>{const{detail:$}=T,X={value(){const ee=T.target.options,le=$.value,he=ee.indexOf(le);-1!==he&&(ee.selectedIndex=he,u.setValue(y,{value:le}))},focus(){setTimeout(()=>T.target.focus({preventScroll:!1}),0)},hidden(){T.target.style.visibility=$.hidden?"hidden":"visible",u.setValue(y,{hidden:$.hidden})},editable(){T.target.disabled=!$.editable}};Object.keys($).filter(ee=>ee in X).forEach(ee=>X[ee]())}),w.addEventListener("input",T=>{var X;const $=P(T);u.setValue(y,{value:$}),null==(X=this.linkService.eventBus)||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",changeEx:$,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(w,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.checked)):w.addEventListener("input",function(T){u.setValue(y,{value:P(T)})}),this.container.appendChild(w),this.container}}class H extends I{constructor(u){super(u,{isRenderable:!(!u.data.title&&!u.data.contents)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const w=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===w.length)return this.container;const P=new W({container:this.container,trigger:Array.from(w),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),T=this.page,$=F.Util.normalizeRect([this.data.parentRect[0],T.view[3]-this.data.parentRect[1]+T.view[1],this.data.parentRect[2],T.view[3]-this.data.parentRect[3]+T.view[1]]),X=$[0]+this.data.parentRect[2]-this.data.parentRect[0],ee=$[1];return this.container.style.transformOrigin=`${-X}px ${-ee}px`,this.container.style.left=`${X}px`,this.container.style.top=`${ee}px`,this.container.appendChild(P.render()),this.container}}class W{constructor(u){this.container=u.container,this.trigger=u.trigger,this.color=u.color,this.title=u.title,this.modificationDate=u.modificationDate,this.contents=u.contents,this.hideWrapper=u.hideWrapper||!1,this.pinned=!1}render(){const y=document.createElement("div");y.className="popupWrapper",this.hideElement=this.hideWrapper?y:this.container,this.hideElement.setAttribute("hidden",!0);const w=document.createElement("div");w.className="popup";const P=this.color;P&&(w.style.backgroundColor=F.Util.makeHexColor(0|.7*(255-P[0])+P[0],0|.7*(255-P[1])+P[1],0|.7*(255-P[2])+P[2]));const T=document.createElement("h1");T.textContent=this.title,w.appendChild(T);const $=h.PDFDateString.toDateObject(this.modificationDate);if($){const ee=document.createElement("span");ee.textContent="{{date}}, {{time}}",ee.dataset.l10nId="annotation_date_string",ee.dataset.l10nArgs=JSON.stringify({date:$.toLocaleDateString(),time:$.toLocaleTimeString()}),w.appendChild(ee)}const X=this._formatContents(this.contents);return w.appendChild(X),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach(ee=>{ee.addEventListener("click",this._toggle.bind(this)),ee.addEventListener("mouseover",this._show.bind(this,!1)),ee.addEventListener("mouseout",this._hide.bind(this,!1))}),w.addEventListener("click",this._hide.bind(this,!0)),y.appendChild(w),y}_formatContents(u){const y=document.createElement("p"),w=u.split(/(?:\r\n?|\n)/);for(let P=0,T=w.length;P<T;++P)y.appendChild(document.createTextNode(w[P])),P<T-1&&y.appendChild(document.createElement("br"));return y}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(u=!1){u&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(u=!0){u&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class Q extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class S extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const u=this.data,P=this.svgFactory.create(u.rect[2]-u.rect[0],u.rect[3]-u.rect[1]),T=this.svgFactory.createElement("svg:line");return T.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),T.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),T.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),T.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),T.setAttribute("stroke-width",u.borderStyle.width||1),T.setAttribute("stroke","transparent"),P.appendChild(T),this.container.append(P),this._createPopup(T,u),this.container}}class g extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const u=this.data,y=u.rect[2]-u.rect[0],w=u.rect[3]-u.rect[1],P=this.svgFactory.create(y,w),T=u.borderStyle.width,$=this.svgFactory.createElement("svg:rect");return $.setAttribute("x",T/2),$.setAttribute("y",T/2),$.setAttribute("width",y-T),$.setAttribute("height",w-T),$.setAttribute("stroke-width",T||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","none"),P.appendChild($),this.container.append(P),this._createPopup($,u),this.container}}class E extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const u=this.data,y=u.rect[2]-u.rect[0],w=u.rect[3]-u.rect[1],P=this.svgFactory.create(y,w),T=u.borderStyle.width,$=this.svgFactory.createElement("svg:ellipse");return $.setAttribute("cx",y/2),$.setAttribute("cy",w/2),$.setAttribute("rx",y/2-T/2),$.setAttribute("ry",w/2-T/2),$.setAttribute("stroke-width",T||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","none"),P.appendChild($),this.container.append(P),this._createPopup($,u),this.container}}class R extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,P=this.svgFactory.create(u.rect[2]-u.rect[0],u.rect[3]-u.rect[1]);let T=[];for(const X of u.vertices)T.push(X.x-u.rect[0]+","+(u.rect[3]-X.y));T=T.join(" ");const $=this.svgFactory.createElement(this.svgElementName);return $.setAttribute("points",T),$.setAttribute("stroke-width",u.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","none"),P.appendChild($),this.container.append(P),this._createPopup($,u),this.container}}class v extends R{constructor(u){super(u),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class b extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,P=this.svgFactory.create(u.rect[2]-u.rect[0],u.rect[3]-u.rect[1]);for(const T of u.inkLists){let $=[];for(const ee of T)$.push(`${ee.x-u.rect[0]},${u.rect[3]-ee.y}`);$=$.join(" ");const X=this.svgFactory.createElement(this.svgElementName);X.setAttribute("points",$),X.setAttribute("stroke-width",u.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","none"),this._createPopup(X,u),P.appendChild(X)}return this.container.append(P),this.container}}class U extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ie extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class J extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class q extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class oe extends I{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends I{constructor(u){var P;super(u,{isRenderable:!0});const{filename:y,content:w}=this.data.file;this.filename=(0,h.getFilenameFromUrl)(y),this.content=w,null==(P=this.linkService.eventBus)||P.dispatch("fileattachmentannotation",{source:this,id:(0,F.stringToPDFString)(y),filename:y,content:w})}render(){this.container.className="fileAttachmentAnnotation";const u=document.createElement("div");return u.style.height=this.container.style.height,u.style.width=this.container.style.width,u.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(u,this.data),this.container.appendChild(u),this.container}_download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,F.warn)("Download cannot be started due to unavailable download manager")}}f.AnnotationLayer=class{static render(u){const y=[],w=[];for(const P of u.annotations)if(P){if(P.annotationType===F.AnnotationType.POPUP){w.push(P);continue}y.push(P)}w.length&&y.push(...w);for(const P of y){const T=Y.create({data:P,layer:u.div,page:u.page,viewport:u.viewport,linkService:u.linkService,downloadManager:u.downloadManager,imageResourcesPath:u.imageResourcesPath||"",renderInteractiveForms:"boolean"!=typeof u.renderInteractiveForms||u.renderInteractiveForms,svgFactory:new h.DOMSVGFactory,annotationStorage:u.annotationStorage||new G.AnnotationStorage,enableScripting:u.enableScripting,hasJSActions:u.hasJSActions,mouseState:u.mouseState||{isDown:!1}});if(T.isRenderable){const $=T.render();if(P.hidden&&($.style.visibility="hidden"),Array.isArray($))for(const X of $)u.div.appendChild(X);else T instanceof H?u.div.prepend($):u.div.appendChild($)}}}static update(u){const y=`matrix(${u.viewport.transform.join(",")})`;for(const w of u.annotations){const P=u.div.querySelectorAll(`[data-annotation-id="${w.id}"]`);P&&P.forEach(T=>{T.style.transform=y})}u.div.removeAttribute("hidden")}}},(ve,f)=>{function V(F){return Math.floor(255*Math.max(0,Math.min(1,F))).toString(16).padStart(2,"0")}Object.defineProperty(f,"__esModule",{value:!0}),f.ColorConverters=void 0,f.ColorConverters=class{static CMYK_G([G,ne,Y,I]){return["G",1-Math.min(1,.3*G+.59*Y+.11*ne+I)]}static G_CMYK([G]){return["CMYK",0,0,0,1-G]}static G_RGB([G]){return["RGB",G,G,G]}static G_HTML([G]){const ne=V(G);return`#${ne}${ne}${ne}`}static RGB_G([G,ne,Y]){return["G",.3*G+.59*ne+.11*Y]}static RGB_HTML([G,ne,Y]){return`#${V(G)}${V(ne)}${V(Y)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([G,ne,Y,I]){return["RGB",1-Math.min(1,G+I),1-Math.min(1,Y+I),1-Math.min(1,ne+I)]}static CMYK_HTML(G){return this.RGB_HTML(this.CMYK_RGB(G))}static RGB_CMYK([G,ne,Y]){const I=1-G,B=1-ne,N=1-Y;return["CMYK",I,B,N,Math.min(I,B,N)]}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.renderTextLayer=void 0;var h=V(2);const F=function(){const Y=/\S/;function B(H,W,Q){const S=document.createElement("span"),g={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(H._textDivs.push(S),function(H){return!Y.test(H)}(W.str))return g.isWhitespace=!0,void H._textDivProperties.set(S,g);const E=h.Util.transform(H._viewport.transform,W.transform);let R=Math.atan2(E[1],E[0]);const v=Q[W.fontName];v.vertical&&(R+=Math.PI/2);const b=Math.sqrt(E[2]*E[2]+E[3]*E[3]);let U,ie,z=b;v.ascent?z*=v.ascent:v.descent&&(z*=1+v.descent),0===R?(U=E[4],ie=E[5]-z):(U=E[4]+z*Math.sin(R),ie=E[5]-z*Math.cos(R)),S.style.left=`${U}px`,S.style.top=`${ie}px`,S.style.fontSize=`${b}px`,S.style.fontFamily=v.fontFamily,S.textContent=W.str,H._fontInspectorEnabled&&(S.dataset.fontName=W.fontName),0!==R&&(g.angle=R*(180/Math.PI));let J=!1;if(W.str.length>1)J=!0;else if(W.transform[0]!==W.transform[3]){const q=Math.abs(W.transform[0]),oe=Math.abs(W.transform[3]);q!==oe&&Math.max(q,oe)/Math.min(q,oe)>1.5&&(J=!0)}if(J&&(g.canvasWidth=v.vertical?W.height*H._viewport.scale:W.width*H._viewport.scale),H._textDivProperties.set(S,g),H._textContentStream&&H._layoutText(S),H._enhanceTextSelection){let q=1,oe=0;0!==R&&(q=Math.cos(R),oe=Math.sin(R));const re=(v.vertical?W.height:W.width)*H._viewport.scale,A=b;let m,u;0!==R?(m=[q,oe,-oe,q,U,ie],u=h.Util.getAxialAlignedBoundingBox([0,0,re,A],m)):u=[U,ie,U+re,ie+A],H._bounds.push({left:u[0],top:u[1],right:u[2],bottom:u[3],div:S,size:[re,A],m})}}function N(H){if(H._canceled)return;const W=H._textDivs,Q=H._capability,S=W.length;if(S>1e5)return H._renderingDone=!0,void Q.resolve();if(!H._textContentStream)for(let g=0;g<S;g++)H._layoutText(W[g]);H._renderingDone=!0,Q.resolve()}function x(H,W,Q){let S=0;for(let g=0;g<Q;g++){const E=H[W++];E>0&&(S=S?Math.min(E,S):E)}return S}function M(H,W){W.sort(function(g,E){return g.x1-E.x1||g.index-E.index});const S=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];W.forEach(function(g){let E=0;for(;E<S.length&&S[E].end<=g.y1;)E++;let R=S.length-1;for(;R>=0&&S[R].start>=g.y2;)R--;let v,b,z,U,ie=-1/0;for(z=E;z<=R;z++){let oe;v=S[z],b=v.boundary,oe=b.x2>g.x1?b.index>g.index?b.x1New:g.x1:void 0===b.x2New?(b.x2+g.x1)/2:b.x2New,oe>ie&&(ie=oe)}for(g.x1New=ie,z=E;z<=R;z++)v=S[z],b=v.boundary,void 0===b.x2New?b.x2>g.x1?b.index>g.index&&(b.x2New=b.x2):b.x2New=ie:b.x2New>ie&&(b.x2New=Math.max(ie,b.x2));const J=[];let q=null;for(z=E;z<=R;z++){v=S[z],b=v.boundary;const oe=b.x2>g.x2?b:g;q===oe?J[J.length-1].end=v.end:(J.push({start:v.start,end:v.end,boundary:oe}),q=oe)}for(S[E].start<g.y1&&(J[0].start=g.y1,J.unshift({start:S[E].start,end:g.y1,boundary:S[E].boundary})),g.y2<S[R].end&&(J[J.length-1].end=g.y2,J.push({start:g.y2,end:S[R].end,boundary:S[R].boundary})),z=E;z<=R;z++){if(v=S[z],b=v.boundary,void 0!==b.x2New)continue;let oe=!1;for(U=E-1;!oe&&U>=0&&S[U].start>=b.y1;U--)oe=S[U].boundary===b;for(U=R+1;!oe&&U<S.length&&S[U].end<=b.y2;U++)oe=S[U].boundary===b;for(U=0;!oe&&U<J.length;U++)oe=J[U].boundary===b;oe||(b.x2New=ie)}Array.prototype.splice.apply(S,[E,R-E+1].concat(J))}),S.forEach(function(g){const E=g.boundary;void 0===E.x2New&&(E.x2New=Math.max(H,E.x2))})}function O({textContent:H,textContentStream:W,container:Q,viewport:S,textDivs:g,textContentItemsStr:E,enhanceTextSelection:R}){var v;this._textContent=H,this._textContentStream=W,this._container=Q,this._document=Q.ownerDocument,this._viewport=S,this._textDivs=g||[],this._textContentItemsStr=E||[],this._enhanceTextSelection=!!R,this._fontInspectorEnabled=!!(null==(v=globalThis.FontInspector)?void 0:v.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,h.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}return O.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(H,W){for(let Q=0,S=H.length;Q<S;Q++)this._textContentItemsStr.push(H[Q].str),B(this,H[Q],W)},_layoutText(H){const W=this._textDivProperties.get(H);if(W.isWhitespace)return;let Q="";if(0!==W.canvasWidth){const{fontSize:S,fontFamily:g}=H.style;(S!==this._layoutTextLastFontSize||g!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${S} ${g}`,this._layoutTextLastFontSize=S,this._layoutTextLastFontFamily=g);const{width:E}=this._layoutTextCtx.measureText(H.textContent);E>0&&(W.scale=W.canvasWidth/E,Q=`scaleX(${W.scale})`)}0!==W.angle&&(Q=`rotate(${W.angle}deg) ${Q}`),Q.length>0&&(this._enhanceTextSelection&&(W.originalTransform=Q),H.style.transform=Q),this._textDivProperties.set(H,W),this._container.appendChild(H)},_render:function(W){const Q=(0,h.createPromiseCapability)();let S=Object.create(null);const g=this._document.createElement("canvas");if(g.mozOpaque=!0,this._layoutTextCtx=g.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),Q.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const E=()=>{this._reader.read().then(({value:R,done:v})=>{v?Q.resolve():(Object.assign(S,R.styles),this._processItems(R.items,S),E())},Q.reject)};this._reader=this._textContentStream.getReader(),E()}}Q.promise.then(()=>{S=null,W?this._renderTimer=setTimeout(()=>{N(this),this._renderTimer=null},W):N(this)},this._capability.reject)},expandTextDivs:function(W){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(H){const W=H._bounds,Q=H._viewport,S=function(H,W,Q){const S=Q.map(function(E,R){return{x1:E.left,y1:E.top,x2:E.right,y2:E.bottom,index:R,x1New:void 0,x2New:void 0}});M(H,S);const g=new Array(Q.length);return S.forEach(function(E){g[E.index]={left:E.x1New,top:0,right:E.x2New,bottom:0}}),Q.map(function(E,R){const v=g[R],b=S[R];b.x1=E.top,b.y1=H-v.right,b.x2=E.bottom,b.y2=H-v.left,b.index=R,b.x1New=void 0,b.x2New=void 0}),M(W,S),S.forEach(function(E){const R=E.index;g[R].top=E.x1New,g[R].bottom=E.x2New}),g}(Q.width,Q.height,W);for(let g=0;g<S.length;g++){const E=W[g].div,R=H._textDivProperties.get(E);if(0===R.angle){R.paddingLeft=W[g].left-S[g].left,R.paddingTop=W[g].top-S[g].top,R.paddingRight=S[g].right-W[g].right,R.paddingBottom=S[g].bottom-W[g].bottom,H._textDivProperties.set(E,R);continue}const v=S[g],b=W[g],z=b.m,U=z[0],ie=z[1],J=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],q=new Float64Array(64);J.forEach(function(re,A){const m=h.Util.applyTransform(re,z);q[A+0]=U&&(v.left-m[0])/U,q[A+4]=ie&&(v.top-m[1])/ie,q[A+8]=U&&(v.right-m[0])/U,q[A+12]=ie&&(v.bottom-m[1])/ie,q[A+16]=ie&&(v.left-m[0])/-ie,q[A+20]=U&&(v.top-m[1])/U,q[A+24]=ie&&(v.right-m[0])/-ie,q[A+28]=U&&(v.bottom-m[1])/U,q[A+32]=U&&(v.left-m[0])/-U,q[A+36]=ie&&(v.top-m[1])/-ie,q[A+40]=U&&(v.right-m[0])/-U,q[A+44]=ie&&(v.bottom-m[1])/-ie,q[A+48]=ie&&(v.left-m[0])/ie,q[A+52]=U&&(v.top-m[1])/-U,q[A+56]=ie&&(v.right-m[0])/ie,q[A+60]=U&&(v.bottom-m[1])/-U});const oe=1+Math.min(Math.abs(U),Math.abs(ie));R.paddingLeft=x(q,32,16)/oe,R.paddingTop=x(q,48,16)/oe,R.paddingRight=x(q,0,16)/oe,R.paddingBottom=x(q,16,16)/oe,H._textDivProperties.set(E,R)}}(this),this._bounds=null);const Q=[],S=[];for(let g=0,E=this._textDivs.length;g<E;g++){const R=this._textDivs[g],v=this._textDivProperties.get(R);v.isWhitespace||(W?(Q.length=0,S.length=0,v.originalTransform&&Q.push(v.originalTransform),v.paddingTop>0?(S.push(`${v.paddingTop}px`),Q.push(`translateY(${-v.paddingTop}px)`)):S.push(0),S.push(v.paddingRight>0?v.paddingRight/v.scale+"px":0),S.push(v.paddingBottom>0?`${v.paddingBottom}px`:0),v.paddingLeft>0?(S.push(v.paddingLeft/v.scale+"px"),Q.push(`translateX(${-v.paddingLeft/v.scale}px)`)):S.push(0),R.style.padding=S.join(" "),Q.length&&(R.style.transform=Q.join(" "))):(R.style.padding=null,R.style.transform=v.originalTransform))}}},function(H){const W=new O({textContent:H.textContent,textContentStream:H.textContentStream,container:H.container,viewport:H.viewport,textDivs:H.textDivs,textContentItemsStr:H.textContentItemsStr,enhanceTextSelection:H.enhanceTextSelection});return W._render(H.timeout),W}}();f.renderTextLayer=F},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SVGGraphics=void 0;var h=V(2),F=V(1),G=V(4);let ne=function(){throw new Error("Not implemented: SVGGraphics")};f.SVGGraphics=ne;{let M=function(S){let g=[];const E=[];for(const R of S)"save"!==R.fn?"restore"===R.fn?g=E.pop():g.push(R):(g.push({fnId:92,fn:"group",items:[]}),E.push(g),g=g[g.length-1].items);return g},O=function(S){if(Number.isInteger(S))return S.toString();const g=S.toFixed(10);let E=g.length-1;if("0"!==g[E])return g;do{E--}while("0"===g[E]);return g.substring(0,"."===g[E]?E:E+1)},L=function(S){if(0===S[4]&&0===S[5]){if(0===S[1]&&0===S[2])return 1===S[0]&&1===S[3]?"":`scale(${O(S[0])} ${O(S[3])})`;if(S[0]===S[3]&&S[1]===-S[2]){const g=180*Math.acos(S[0])/Math.PI;return`rotate(${O(g)})`}}else if(1===S[0]&&0===S[1]&&0===S[2]&&1===S[3])return`translate(${O(S[4])} ${O(S[5])})`;return`matrix(${O(S[0])} ${O(S[1])} ${O(S[2])} ${O(S[3])} ${O(S[4])} ${O(S[5])})`};const Y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/1999/xlink",N=["butt","round","square"],x=["miter","round","bevel"],j=function(){const S=new Uint8Array([137,80,78,71,13,10,26,10]),E=new Int32Array(256);for(let J=0;J<256;J++){let q=J;for(let oe=0;oe<8;oe++)q=1&q?3988292384^q>>1&2147483647:q>>1&2147483647;E[J]=q}function v(J,q,oe,re){let A=re;const m=q.length;oe[A]=m>>24&255,oe[A+1]=m>>16&255,oe[A+2]=m>>8&255,oe[A+3]=255&m,A+=4,oe[A]=255&J.charCodeAt(0),oe[A+1]=255&J.charCodeAt(1),oe[A+2]=255&J.charCodeAt(2),oe[A+3]=255&J.charCodeAt(3),A+=4,oe.set(q,A),A+=q.length;const u=function(J,q,oe){let re=-1;for(let A=q;A<oe;A++)re=re>>>8^E[255&(re^J[A])];return-1^re}(oe,re+4,A);oe[A]=u>>24&255,oe[A+1]=u>>16&255,oe[A+2]=u>>8&255,oe[A+3]=255&u}function U(J){let q=J.length;const oe=65535,re=Math.ceil(q/oe),A=new Uint8Array(2+q+5*re+4);let m=0;A[m++]=120,A[m++]=156;let u=0;for(;q>oe;)A[m++]=0,A[m++]=255,A[m++]=255,A[m++]=0,A[m++]=0,A.set(J.subarray(u,u+oe),m),m+=oe,u+=oe,q-=oe;A[m++]=1,A[m++]=255&q,A[m++]=q>>8&255,A[m++]=255&~q,A[m++]=(65535&~q)>>8&255,A.set(J.subarray(u),m),m+=J.length-u;const y=function(J,q,oe){let re=1,A=0;for(let m=0;m<oe;++m)re=(re+(255&J[m]))%65521,A=(A+re)%65521;return A<<16|re}(J,0,J.length);return A[m++]=y>>24&255,A[m++]=y>>16&255,A[m++]=y>>8&255,A[m++]=255&y,A}return function(q,oe,re){return function(J,q,oe,re){const A=J.width,m=J.height;let u,y,w;const P=J.data;switch(q){case h.ImageKind.GRAYSCALE_1BPP:y=0,u=1,w=A+7>>3;break;case h.ImageKind.RGB_24BPP:y=2,u=8,w=3*A;break;case h.ImageKind.RGBA_32BPP:y=6,u=8,w=4*A;break;default:throw new Error("invalid format")}const T=new Uint8Array((1+w)*m);let $=0,X=0;for(let be=0;be<m;++be)T[$++]=0,T.set(P.subarray(X,X+w),$),X+=w,$+=w;if(q===h.ImageKind.GRAYSCALE_1BPP&&re){$=0;for(let be=0;be<m;be++){$++;for(let Pe=0;Pe<w;Pe++)T[$++]^=255}}const ee=new Uint8Array([A>>24&255,A>>16&255,A>>8&255,255&A,m>>24&255,m>>16&255,m>>8&255,255&m,u,y,0,0,0]),le=function(J){if(!G.isNodeJS)return U(J);try{let q;q=parseInt(process.versions.node)>=8?J:Buffer.from(J);const oe=__webpack_require__(258).deflateSync(q,{level:9});return oe instanceof Uint8Array?oe:new Uint8Array(oe)}catch(q){(0,h.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+q)}return U(J)}(T),fe=new Uint8Array(S.length+36+ee.length+le.length);let ye=0;return fe.set(S,ye),ye+=S.length,v("IHDR",ee,fe,ye),ye+=12+ee.length,v("IDATA",le,fe,ye),ye+=12+le.length,v("IEND",new Uint8Array(0),fe,ye),(0,h.createObjectURL)(fe,"image/png",oe)}(q,void 0===q.kind?h.ImageKind.GRAYSCALE_1BPP:q.kind,oe,re)}}();class C{constructor(){this.fontSizeScale=1,this.fontWeight=Y.fontWeight,this.fontSize=0,this.textMatrix=h.IDENTITY_MATRIX,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=h.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(g,E){this.x=g,this.y=E}}let H=0,W=0,Q=0;f.SVGGraphics=ne=class{constructor(g,E,R=!1){this.svgFactory=new F.DOMSVGFactory,this.current=new C,this.transformMatrix=h.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=E,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!R,this._operatorIdMapping=[];for(const v in h.OPS)this._operatorIdMapping[h.OPS[v]]=v}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const E=g.fnArray,R=g.argsArray;for(let v=0,b=E.length;v<b;v++)if(E[v]===h.OPS.dependency)for(const z of R[v]){const U=z.startsWith("g_")?this.commonObjs:this.objs,ie=new Promise(J=>{U.get(z,J)});this.current.dependencies.push(ie)}return Promise.all(this.current.dependencies)}transform(g,E,R,v,b,z){this.transformMatrix=h.Util.transform(this.transformMatrix,[g,E,R,v,b,z]),this.tgrp=null}getSVG(g,E){this.viewport=E;const R=this._initialize(E);return this.loadDependencies(g).then(()=>(this.transformMatrix=h.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),R))}convertOpList(g){const E=this._operatorIdMapping,R=g.argsArray,v=g.fnArray,b=[];for(let z=0,U=v.length;z<U;z++){const ie=v[z];b.push({fnId:ie,fn:E[ie],args:R[z]})}return M(b)}executeOpTree(g){for(const E of g){const R=E.fn,b=E.args;switch(0|E.fnId){case h.OPS.beginText:this.beginText();break;case h.OPS.dependency:break;case h.OPS.setLeading:this.setLeading(b);break;case h.OPS.setLeadingMoveText:this.setLeadingMoveText(b[0],b[1]);break;case h.OPS.setFont:this.setFont(b);break;case h.OPS.showText:case h.OPS.showSpacedText:this.showText(b[0]);break;case h.OPS.endText:this.endText();break;case h.OPS.moveText:this.moveText(b[0],b[1]);break;case h.OPS.setCharSpacing:this.setCharSpacing(b[0]);break;case h.OPS.setWordSpacing:this.setWordSpacing(b[0]);break;case h.OPS.setHScale:this.setHScale(b[0]);break;case h.OPS.setTextMatrix:this.setTextMatrix(b[0],b[1],b[2],b[3],b[4],b[5]);break;case h.OPS.setTextRise:this.setTextRise(b[0]);break;case h.OPS.setTextRenderingMode:this.setTextRenderingMode(b[0]);break;case h.OPS.setLineWidth:this.setLineWidth(b[0]);break;case h.OPS.setLineJoin:this.setLineJoin(b[0]);break;case h.OPS.setLineCap:this.setLineCap(b[0]);break;case h.OPS.setMiterLimit:this.setMiterLimit(b[0]);break;case h.OPS.setFillRGBColor:this.setFillRGBColor(b[0],b[1],b[2]);break;case h.OPS.setStrokeRGBColor:this.setStrokeRGBColor(b[0],b[1],b[2]);break;case h.OPS.setStrokeColorN:this.setStrokeColorN(b);break;case h.OPS.setFillColorN:this.setFillColorN(b);break;case h.OPS.shadingFill:this.shadingFill(b[0]);break;case h.OPS.setDash:this.setDash(b[0],b[1]);break;case h.OPS.setRenderingIntent:this.setRenderingIntent(b[0]);break;case h.OPS.setFlatness:this.setFlatness(b[0]);break;case h.OPS.setGState:this.setGState(b[0]);break;case h.OPS.fill:this.fill();break;case h.OPS.eoFill:this.eoFill();break;case h.OPS.stroke:this.stroke();break;case h.OPS.fillStroke:this.fillStroke();break;case h.OPS.eoFillStroke:this.eoFillStroke();break;case h.OPS.clip:this.clip("nonzero");break;case h.OPS.eoClip:this.clip("evenodd");break;case h.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case h.OPS.paintImageXObject:this.paintImageXObject(b[0]);break;case h.OPS.paintInlineImageXObject:this.paintInlineImageXObject(b[0]);break;case h.OPS.paintImageMaskXObject:this.paintImageMaskXObject(b[0]);break;case h.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(b[0],b[1]);break;case h.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case h.OPS.closePath:this.closePath();break;case h.OPS.closeStroke:this.closeStroke();break;case h.OPS.closeFillStroke:this.closeFillStroke();break;case h.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case h.OPS.nextLine:this.nextLine();break;case h.OPS.transform:this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);break;case h.OPS.constructPath:this.constructPath(b[0],b[1]);break;case h.OPS.endPath:this.endPath();break;case 92:this.group(E.items);break;default:(0,h.warn)(`Unimplemented operator ${R}`)}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,E,R,v,b,z){const U=this.current;U.textMatrix=U.lineMatrix=[g,E,R,v,b,z],U.textMatrixScale=Math.sqrt(g*g+E*E),U.x=U.lineX=0,U.y=U.lineY=0,U.xcoords=[],U.ycoords=[],U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${O(U.fontSize)}px`),U.tspan.setAttributeNS(null,"y",O(-U.y)),U.txtElement=this.svgFactory.createElement("svg:text"),U.txtElement.appendChild(U.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=h.IDENTITY_MATRIX,g.lineMatrix=h.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,E){const R=this.current;R.x=R.lineX+=g,R.y=R.lineY+=E,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${O(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",O(-R.y))}showText(g){const E=this.current,R=E.font,v=E.fontSize;if(0===v)return;const b=E.fontSizeScale,z=E.charSpacing,U=E.wordSpacing,ie=E.fontDirection,J=E.textHScale*ie,q=R.vertical,oe=q?1:-1,re=R.defaultVMetrics,A=v*E.fontMatrix[0];let m=0;for(const w of g){if(null===w){m+=ie*U;continue}if((0,h.isNum)(w)){m+=oe*w*v/1e3;continue}const P=(w.isSpace?U:0)+z,T=w.fontChar;let $,X,le,ee=w.width;if(q){let he;const fe=w.vmetric||re;he=w.vmetric?fe[1]:.5*ee,he=-he*A,ee=fe?-fe[0]:ee,$=he/b,X=(m+fe[2]*A)/b}else $=m/b,X=0;(w.isInFont||R.missingFile)&&(E.xcoords.push(E.x+$),q&&E.ycoords.push(-E.y+X),E.tspan.textContent+=T),le=q?ee*A-P*ie:ee*A+P*ie,m+=le}E.tspan.setAttributeNS(null,"x",E.xcoords.map(O).join(" ")),E.tspan.setAttributeNS(null,"y",q?E.ycoords.map(O).join(" "):O(-E.y)),q?E.y-=m:E.x+=m*J,E.tspan.setAttributeNS(null,"font-family",E.fontFamily),E.tspan.setAttributeNS(null,"font-size",`${O(E.fontSize)}px`),E.fontStyle!==Y.fontStyle&&E.tspan.setAttributeNS(null,"font-style",E.fontStyle),E.fontWeight!==Y.fontWeight&&E.tspan.setAttributeNS(null,"font-weight",E.fontWeight);const u=E.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;u===h.TextRenderingMode.FILL||u===h.TextRenderingMode.FILL_STROKE?(E.fillColor!==Y.fillColor&&E.tspan.setAttributeNS(null,"fill",E.fillColor),E.fillAlpha<1&&E.tspan.setAttributeNS(null,"fill-opacity",E.fillAlpha)):E.tspan.setAttributeNS(null,"fill",E.textRenderingMode===h.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(u===h.TextRenderingMode.STROKE||u===h.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(E.tspan,1/(E.textMatrixScale||1));let y=E.textMatrix;0!==E.textRise&&(y=y.slice(),y[5]+=E.textRise),E.txtElement.setAttributeNS(null,"transform",`${L(y)} scale(${O(J)}, -1)`),E.txtElement.setAttributeNS(I,"xml:space","preserve"),E.txtElement.appendChild(E.tspan),E.txtgrp.appendChild(E.txtElement),this._ensureTransformGroup().appendChild(E.txtElement)}setLeadingMoveText(g,E){this.setLeading(-E),this.moveText(g,E)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const E=(0,h.createObjectURL)(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${E}); }\n`}setFont(g){const E=this.current,R=this.commonObjs.get(g[0]);let v=g[1];E.font=R,this.embedFonts&&!R.missingFile&&!this.embeddedFonts[R.loadedName]&&(this.addFontStyle(R),this.embeddedFonts[R.loadedName]=R),E.fontMatrix=R.fontMatrix||h.FONT_IDENTITY_MATRIX;let b="normal";R.black?b="900":R.bold&&(b="bold");const z=R.italic?"italic":"normal";v<0?(v=-v,E.fontDirection=-1):E.fontDirection=1,E.fontSize=v,E.fontFamily=R.loadedName,E.fontWeight=b,E.fontStyle=z,E.tspan=this.svgFactory.createElement("svg:tspan"),E.tspan.setAttributeNS(null,"y",O(-E.y)),E.xcoords=[],E.ycoords=[]}endText(){var E;const g=this.current;g.textRenderingMode&h.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(E=g.txtElement)?void 0:E.hasChildNodes())&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=N[g]}setLineJoin(g){this.current.lineJoin=x[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,E,R){this.current.strokeColor=h.Util.makeHexColor(g,E,R)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,E,R){this.current.fillColor=h.Util.makeHexColor(g,E,R),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const E=this.viewport.width,R=this.viewport.height,v=h.Util.inverseTransform(this.transformMatrix),b=h.Util.applyTransform([0,0],v),z=h.Util.applyTransform([0,R],v),U=h.Util.applyTransform([E,0],v),ie=h.Util.applyTransform([E,R],v),J=Math.min(b[0],z[0],U[0],ie[0]),q=Math.min(b[1],z[1],U[1],ie[1]),oe=Math.max(b[0],z[0],U[0],ie[0]),re=Math.max(b[1],z[1],U[1],ie[1]),A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",J),A.setAttributeNS(null,"y",q),A.setAttributeNS(null,"width",oe-J),A.setAttributeNS(null,"height",re-q),A.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&A.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(A)}_makeColorN_Pattern(g){return"TilingPattern"===g[0]?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const E=g[1],R=g[2],v=g[3]||h.IDENTITY_MATRIX,[b,z,U,ie]=g[4],J=g[5],q=g[6],oe=g[7],re="shading"+Q++,[A,m]=h.Util.applyTransform([b,z],v),[u,y]=h.Util.applyTransform([U,ie],v),[w,P]=h.Util.singularValueDecompose2dScale(v),T=J*w,$=q*P,X=this.svgFactory.createElement("svg:pattern");X.setAttributeNS(null,"id",re),X.setAttributeNS(null,"patternUnits","userSpaceOnUse"),X.setAttributeNS(null,"width",T),X.setAttributeNS(null,"height",$),X.setAttributeNS(null,"x",`${A}`),X.setAttributeNS(null,"y",`${m}`);const ee=this.svg,le=this.transformMatrix,he=this.current.fillColor,fe=this.current.strokeColor,ye=this.svgFactory.create(u-A,y-m);if(this.svg=ye,this.transformMatrix=v,2===oe){const be=h.Util.makeHexColor(...E);this.current.fillColor=be,this.current.strokeColor=be}return this.executeOpTree(this.convertOpList(R)),this.svg=ee,this.transformMatrix=le,this.current.fillColor=he,this.current.strokeColor=fe,X.appendChild(ye.childNodes[0]),this.defs.appendChild(X),`url(#${re})`}_makeShadingPattern(g){switch(g[0]){case"RadialAxial":const E="shading"+Q++,R=g[3];let v;switch(g[1]){case"axial":const b=g[4],z=g[5];v=this.svgFactory.createElement("svg:linearGradient"),v.setAttributeNS(null,"id",E),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",b[0]),v.setAttributeNS(null,"y1",b[1]),v.setAttributeNS(null,"x2",z[0]),v.setAttributeNS(null,"y2",z[1]);break;case"radial":const U=g[4],ie=g[5],J=g[6],q=g[7];v=this.svgFactory.createElement("svg:radialGradient"),v.setAttributeNS(null,"id",E),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",ie[0]),v.setAttributeNS(null,"cy",ie[1]),v.setAttributeNS(null,"r",q),v.setAttributeNS(null,"fx",U[0]),v.setAttributeNS(null,"fy",U[1]),v.setAttributeNS(null,"fr",J);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const b of R){const z=this.svgFactory.createElement("svg:stop");z.setAttributeNS(null,"offset",b[0]),z.setAttributeNS(null,"stop-color",b[1]),v.appendChild(z)}return this.defs.appendChild(v),`url(#${E})`;case"Mesh":return(0,h.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,E){this.current.dashArray=g,this.current.dashPhase=E}constructPath(g,E){const R=this.current;let v=R.x,b=R.y,z=[],U=0;for(const ie of g)switch(0|ie){case h.OPS.rectangle:v=E[U++],b=E[U++];const oe=v+E[U++],re=b+E[U++];z.push("M",O(v),O(b),"L",O(oe),O(b),"L",O(oe),O(re),"L",O(v),O(re),"Z");break;case h.OPS.moveTo:v=E[U++],b=E[U++],z.push("M",O(v),O(b));break;case h.OPS.lineTo:v=E[U++],b=E[U++],z.push("L",O(v),O(b));break;case h.OPS.curveTo:v=E[U+4],b=E[U+5],z.push("C",O(E[U]),O(E[U+1]),O(E[U+2]),O(E[U+3]),O(v),O(b)),U+=6;break;case h.OPS.curveTo2:z.push("C",O(v),O(b),O(E[U]),O(E[U+1]),O(E[U+2]),O(E[U+3])),v=E[U+2],b=E[U+3],U+=4;break;case h.OPS.curveTo3:v=E[U+2],b=E[U+3],z.push("C",O(E[U]),O(E[U+1]),O(v),O(b),O(v),O(b)),U+=4;break;case h.OPS.closePath:z.push("Z")}z=z.join(" "),R.path&&g.length>0&&g[0]!==h.OPS.rectangle&&g[0]!==h.OPS.moveTo?z=R.path.getAttributeNS(null,"d")+z:(R.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(R.path)),R.path.setAttributeNS(null,"d",z),R.path.setAttributeNS(null,"fill","none"),R.element=R.path,R.setCurrentPoint(v,b)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element)return void(this.pendingClip=null);const E="clippath"+H++,R=this.svgFactory.createElement("svg:clipPath");R.setAttributeNS(null,"id",E),R.setAttributeNS(null,"transform",L(this.transformMatrix));const v=g.element.cloneNode(!0);v.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,R.appendChild(v),this.defs.appendChild(R),g.activeClipUrl&&(g.clipGroup=null,this.extraStack.forEach(function(b){b.clipGroup=null}),R.setAttributeNS(null,"clip-path",g.activeClipUrl)),g.activeClipUrl=`url(#${E})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const E=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",E)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[E,R]of g)switch(E){case"LW":this.setLineWidth(R);break;case"LC":this.setLineCap(R);break;case"LJ":this.setLineJoin(R);break;case"ML":this.setMiterLimit(R);break;case"D":this.setDash(R[0],R[1]);break;case"RI":this.setRenderingIntent(R);break;case"FL":this.setFlatness(R);break;case"Font":this.setFont(R);break;case"CA":this.setStrokeAlpha(R);break;case"ca":this.setFillAlpha(R);break;default:(0,h.warn)(`Unimplemented graphic state operator ${E}`)}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g,E=1){const R=this.current;let v=R.dashArray;1!==E&&v.length>0&&(v=v.map(function(b){return E*b})),g.setAttributeNS(null,"stroke",R.strokeColor),g.setAttributeNS(null,"stroke-opacity",R.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",O(R.miterLimit)),g.setAttributeNS(null,"stroke-linecap",R.lineCap),g.setAttributeNS(null,"stroke-linejoin",R.lineJoin),g.setAttributeNS(null,"stroke-width",O(E*R.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",v.map(O).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",O(E*R.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(g)}paintImageXObject(g){const E=g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g);E?this.paintInlineImageXObject(E):(0,h.warn)(`Dependent image with object ID ${g} is not ready yet`)}paintInlineImageXObject(g,E){const R=g.width,v=g.height,b=j(g,this.forceDataSchema,!!E),z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x","0"),z.setAttributeNS(null,"y","0"),z.setAttributeNS(null,"width",O(R)),z.setAttributeNS(null,"height",O(v)),this.current.element=z,this.clip("nonzero");const U=this.svgFactory.createElement("svg:image");U.setAttributeNS(B,"xlink:href",b),U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y",O(-v)),U.setAttributeNS(null,"width",O(R)+"px"),U.setAttributeNS(null,"height",O(v)+"px"),U.setAttributeNS(null,"transform",`scale(${O(1/R)} ${O(-1/v)})`),E?E.appendChild(U):this._ensureTransformGroup().appendChild(U)}paintImageMaskXObject(g){const E=this.current,R=g.width,v=g.height,b=E.fillColor;E.maskId="mask"+W++;const z=this.svgFactory.createElement("svg:mask");z.setAttributeNS(null,"id",E.maskId);const U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",O(R)),U.setAttributeNS(null,"height",O(v)),U.setAttributeNS(null,"fill",b),U.setAttributeNS(null,"mask",`url(#${E.maskId})`),this.defs.appendChild(z),this._ensureTransformGroup().appendChild(U),this.paintInlineImageXObject(g,z)}paintFormXObjectBegin(g,E){if(Array.isArray(g)&&6===g.length&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),E){const R=E[2]-E[0],v=E[3]-E[1],b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x",E[0]),b.setAttributeNS(null,"y",E[1]),b.setAttributeNS(null,"width",O(R)),b.setAttributeNS(null,"height",O(v)),this.current.element=b,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const E=this.svgFactory.create(g.width,g.height),R=this.svgFactory.createElement("svg:defs");E.appendChild(R),this.defs=R;const v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",L(g.transform)),E.appendChild(v),this.svg=v,E}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFNodeStream=void 0;var h=V(2),F=V(24);const G=__webpack_require__(172),ne=__webpack_require__(1),Y=__webpack_require__(779),I=__webpack_require__(558),B=/^file:\/\/\/[a-zA-Z]:\//;f.PDFNodeStream=class{constructor(S){this.source=S,this.url=function(Q){const S=I.parse(Q);return"file:"===S.protocol||S.host?S:/^[a-z]:[/\\]/i.test(Q)?I.parse(`file:///${Q}`):(S.host||(S.protocol="file:"),S)}(S.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var S,g;return null!=(g=null==(S=this._fullRequestReader)?void 0:S._loaded)?g:0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new H(this):new O(this),this._fullRequestReader}getRangeReader(S,g){if(g<=this._progressiveDataLength)return null;const E=this.isFsUrl?new W(this,S,g):new L(this,S,g);return this._rangeRequestReaders.push(E),E}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S),this._rangeRequestReaders.slice(0).forEach(function(E){E.cancel(S)})}};class j{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=S.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=(0,h.createPromiseCapability)(),this._headersCapability=(0,h.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const g=S._readableStream.read();return null===g?(S._readCapability=(0,h.createPromiseCapability)(),S.read()):(S._loaded+=g.length,S.onProgress&&S.onProgress({loaded:S._loaded,total:S._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,h.createPromiseCapability)(),this._isStreamingSupported=!S.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const g=S._readableStream.read();return null===g?(S._readCapability=(0,h.createPromiseCapability)(),S.read()):(S._loaded+=g.length,S.onProgress&&S.onProgress({loaded:S._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function M(Q,S){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:S}}class O extends j{constructor(S){super(S);const g=E=>{if(404===E.statusCode){const z=new h.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=z,void this._headersCapability.reject(z)}this._headersCapability.resolve(),this._setReadableStream(E);const R=z=>this._readableStream.headers[z.toLowerCase()],{allowRangeRequests:v,suggestedLength:b}=(0,F.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=b||this._contentLength,this._filename=(0,F.extractFilenameFromHeader)(R)};this._request=null,this._request="http:"===this._url.protocol?ne.request(M(this._url,S.httpHeaders),g):Y.request(M(this._url,S.httpHeaders),g),this._request.on("error",E=>{this._storedError=E,this._headersCapability.reject(E)}),this._request.end()}}class L extends C{constructor(S,g,E){super(S),this._httpHeaders={};for(const v in S.httpHeaders){const b=S.httpHeaders[v];void 0!==b&&(this._httpHeaders[v]=b)}this._httpHeaders.Range=`bytes=${g}-${E-1}`;const R=v=>{if(404!==v.statusCode)this._setReadableStream(v);else{const b=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b}};this._request=null,this._request="http:"===this._url.protocol?ne.request(M(this._url,this._httpHeaders),R):Y.request(M(this._url,this._httpHeaders),R),this._request.on("error",v=>{this._storedError=v}),this._request.end()}}class H extends j{constructor(S){super(S);let g=decodeURIComponent(this._url.path);B.test(this._url.href)&&(g=g.replace(/^\//,"")),G.lstat(g,(E,R)=>{if(E)return"ENOENT"===E.code&&(E=new h.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=E,void this._headersCapability.reject(E);this._contentLength=R.size,this._setReadableStream(G.createReadStream(g)),this._headersCapability.resolve()})}}class W extends C{constructor(S,g,E){super(S);let R=decodeURIComponent(this._url.path);B.test(this._url.href)&&(R=R.replace(/^\//,"")),this._setReadableStream(G.createReadStream(R,{start:g,end:E-1}))}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createResponseStatusError=function(B,N){return 404===B||0===B&&N.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+N+'".'):new h.UnexpectedResponseException("Unexpected server response ("+B+') while retrieving PDF "'+N+'".',B)},f.extractFilenameFromHeader=function(B){const N=B("Content-Disposition");if(N){let x=(0,F.getFilenameFromContentDispositionHeader)(N);if(x.includes("%"))try{x=decodeURIComponent(x)}catch(j){}if(/\.pdf$/i.test(x))return x}return null},f.validateRangeRequestCapabilities=function({getResponseHeader:B,isHttp:N,rangeChunkSize:x,disableRange:j}){(0,h.assert)(x>0,"Range chunk size must be larger than zero");const C={allowRangeRequests:!1,suggestedLength:void 0},M=parseInt(B("Content-Length"),10);return!Number.isInteger(M)||(C.suggestedLength=M,M<=2*x)||j||!N||"bytes"!==B("Accept-Ranges")||"identity"!==(B("Content-Encoding")||"identity")||(C.allowRangeRequests=!0),C},f.validateResponseStatus=function(B){return 200===B||206===B};var h=V(2),F=V(25)},(ve,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getFilenameFromContentDispositionHeader=function(h){let F=!0,G=ne("filename\\*","i").exec(h);if(G){G=G[1];let C=N(G);return C=unescape(C),C=x(C),C=j(C),I(C)}if(G=function(C){const M=[];let O;const L=ne("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(O=L.exec(C));){let[,W,Q,S]=O;if(W=parseInt(W,10),W in M){if(0===W)break}else M[W]=[Q,S]}const H=[];for(let W=0;W<M.length&&W in M;++W){let[Q,S]=M[W];S=N(S),Q&&(S=unescape(S),0===W&&(S=x(S))),H.push(S)}return H.join("")}(h),G)return I(j(G));if(G=ne("filename","i").exec(h),G){G=G[1];let C=N(G);return C=j(C),I(C)}function ne(C,M){return new RegExp("(?:^|;)\\s*"+C+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',M)}function Y(C,M){if(C){if(!/^[\x00-\xFF]+$/.test(M))return M;try{const O=new TextDecoder(C,{fatal:!0}),L=Array.from(M,function(H){return 255&H.charCodeAt(0)});M=O.decode(new Uint8Array(L)),F=!1}catch(O){if(/^utf-?8$/i.test(C))try{M=decodeURIComponent(escape(M)),F=!1}catch(L){}}}return M}function I(C){return F&&/[\x80-\xff]/.test(C)&&(C=Y("utf-8",C),F&&(C=Y("iso-8859-1",C))),C}function N(C){if(C.startsWith('"')){const M=C.slice(1).split('\\"');for(let O=0;O<M.length;++O){const L=M[O].indexOf('"');-1!==L&&(M[O]=M[O].slice(0,L),M.length=O+1),M[O]=M[O].replace(/\\(.)/g,"$1")}C=M.join('"')}return C}function x(C){const M=C.indexOf("'");return-1===M?C:Y(C.slice(0,M),C.slice(M+1).replace(/^[^']*'/,""))}function j(C){return!C.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(C)?C:C.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(M,O,L,H){if("q"===L||"Q"===L)return Y(O,H=(H=H.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(W,Q){return String.fromCharCode(parseInt(Q,16))}));try{H=atob(H)}catch(W){}return Y(O,H)})}return""}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFNetworkStream=void 0;var h=V(2),F=V(24);class I{constructor(C,M){this.url=C,M=M||{},this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&M.httpHeaders||{},this.withCredentials=M.withCredentials||!1,this.getXhr=M.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(C,M,O){const L={begin:C,end:M};for(const H in O)L[H]=O[H];return this.request(L)}requestFull(C){return this.request(C)}request(C){const M=this.getXhr(),O=this.currXhrId++,L=this.pendingRequests[O]={xhr:M};M.open("GET",this.url),M.withCredentials=this.withCredentials;for(const H in this.httpHeaders){const W=this.httpHeaders[H];void 0!==W&&M.setRequestHeader(H,W)}return this.isHttp&&"begin"in C&&"end"in C?(M.setRequestHeader("Range",`bytes=${C.begin}-${C.end-1}`),L.expectedStatus=206):L.expectedStatus=200,M.responseType="arraybuffer",C.onError&&(M.onerror=function(H){C.onError(M.status)}),M.onreadystatechange=this.onStateChange.bind(this,O),M.onprogress=this.onProgress.bind(this,O),L.onHeadersReceived=C.onHeadersReceived,L.onDone=C.onDone,L.onError=C.onError,L.onProgress=C.onProgress,M.send(null),O}onProgress(C,M){const O=this.pendingRequests[C];!O||O.onProgress&&O.onProgress(M)}onStateChange(C,M){const O=this.pendingRequests[C];if(!O)return;const L=O.xhr;if(L.readyState>=2&&O.onHeadersReceived&&(O.onHeadersReceived(),delete O.onHeadersReceived),4!==L.readyState||!(C in this.pendingRequests))return;if(delete this.pendingRequests[C],0===L.status&&this.isHttp)return void(O.onError&&O.onError(L.status));const H=L.status||200;if((200!==H||206!==O.expectedStatus)&&H!==O.expectedStatus)return void(O.onError&&O.onError(L.status));const Q=function(j){const C=j.response;return"string"!=typeof C?C:(0,h.stringToBytes)(C).buffer}(L);if(206===H){const S=L.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);O.onDone({begin:parseInt(g[1],10),chunk:Q})}else Q?O.onDone({begin:0,chunk:Q}):O.onError&&O.onError(L.status)}getRequestXhr(C){return this.pendingRequests[C].xhr}isPendingRequest(C){return C in this.pendingRequests}abortRequest(C){const M=this.pendingRequests[C].xhr;delete this.pendingRequests[C],M.abort()}}f.PDFNetworkStream=class{constructor(C){this._source=C,this._manager=new I(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(C){const M=this._rangeRequestReaders.indexOf(C);M>=0&&this._rangeRequestReaders.splice(M,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new N(this._manager,this._source),this._fullRequestReader}getRangeReader(C,M){const O=new x(this._manager,C,M);return O.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(O),O}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C),this._rangeRequestReaders.slice(0).forEach(function(O){O.cancel(C)})}};class N{constructor(C,M){this._manager=C;const O={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=M.url,this._fullRequestId=C.requestFull(O),this._headersReceivedCapability=(0,h.createPromiseCapability)(),this._disableRange=M.disableRange||!1,this._contentLength=M.length,this._rangeChunkSize=M.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const C=this._fullRequestId,M=this._manager.getRequestXhr(C),O=W=>M.getResponseHeader(W),{allowRangeRequests:L,suggestedLength:H}=(0,F.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});L&&(this._isRangeSupported=!0),this._contentLength=H||this._contentLength,this._filename=(0,F.extractFilenameFromHeader)(O),this._isRangeSupported&&this._manager.abortRequest(C),this._headersReceivedCapability.resolve()}_onDone(C){C&&(this._requests.length>0?this._requests.shift().resolve({value:C.chunk,done:!1}):this._cachedChunks.push(C.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(M){M.resolve({value:void 0,done:!0})}),this._requests=[])}_onError(C){const O=(0,F.createResponseStatusError)(C,this._url);this._storedError=O,this._headersReceivedCapability.reject(O),this._requests.forEach(function(L){L.reject(O)}),this._requests=[],this._cachedChunks=[]}_onProgress(C){this.onProgress&&this.onProgress({loaded:C.loaded,total:C.lengthComputable?C.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var C=this;return _asyncToGenerator(function*(){if(C._storedError)throw C._storedError;if(C._cachedChunks.length>0)return{value:C._cachedChunks.shift(),done:!1};if(C._done)return{value:void 0,done:!0};const M=(0,h.createPromiseCapability)();return C._requests.push(M),M.promise})()}cancel(C){this._done=!0,this._headersReceivedCapability.reject(C),this._requests.forEach(function(M){M.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(C,M,O){this._manager=C;const L={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=C.requestRange(M,O,L),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(C){const M=C.chunk;this._requests.length>0?this._requests.shift().resolve({value:M,done:!1}):this._queuedChunk=M,this._done=!0,this._requests.forEach(function(O){O.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}_onProgress(C){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:C.loaded})}get isStreamingSupported(){return!1}read(){var C=this;return _asyncToGenerator(function*(){if(null!==C._queuedChunk){const O=C._queuedChunk;return C._queuedChunk=null,{value:O,done:!1}}if(C._done)return{value:void 0,done:!0};const M=(0,h.createPromiseCapability)();return C._requests.push(M),M.promise})()}cancel(C){this._done=!0,this._requests.forEach(function(M){M.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ve,f,V)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFFetchStream=void 0;var h=V(2),F=V(24);function G(N,x,j){return{method:"GET",headers:N,signal:null==j?void 0:j.signal,mode:"cors",credentials:x?"include":"same-origin",redirect:"follow"}}function ne(N){const x=new Headers;for(const j in N){const C=N[j];void 0!==C&&x.append(j,C)}return x}f.PDFFetchStream=class{constructor(x){this.source=x,this.isHttp=/^https?:/i.test(x.url),this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var x,j;return null!=(j=null==(x=this._fullRequestReader)?void 0:x._loaded)?j:0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I(this),this._fullRequestReader}getRangeReader(x,j){if(j<=this._progressiveDataLength)return null;const C=new B(this,x,j);return this._rangeRequestReaders.push(C),C}cancelAllRequests(x){this._fullRequestReader&&this._fullRequestReader.cancel(x),this._rangeRequestReaders.slice(0).forEach(function(C){C.cancel(x)})}};class I{constructor(x){this._stream=x,this._reader=null,this._loaded=0,this._filename=null;const j=x.source;this._withCredentials=j.withCredentials||!1,this._contentLength=j.length,this._headersCapability=(0,h.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._headers=ne(this._stream.httpHeaders);const C=j.url;fetch(C,G(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,F.validateResponseStatus)(M.status))throw(0,F.createResponseStatusError)(M.status,C);this._reader=M.body.getReader(),this._headersCapability.resolve();const O=W=>M.headers.get(W),{allowRangeRequests:L,suggestedLength:H}=(0,F.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=H||this._contentLength,this._filename=(0,F.extractFilenameFromHeader)(O),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var x=this;return _asyncToGenerator(function*(){yield x._headersCapability.promise;const{value:j,done:C}=yield x._reader.read();return C?{value:j,done:C}:(x._loaded+=j.byteLength,x.onProgress&&x.onProgress({loaded:x._loaded,total:x._contentLength}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(x){this._reader&&this._reader.cancel(x),this._abortController&&this._abortController.abort()}}class B{constructor(x,j,C){this._stream=x,this._reader=null,this._loaded=0;const M=x.source;this._withCredentials=M.withCredentials||!1,this._readCapability=(0,h.createPromiseCapability)(),this._isStreamingSupported=!M.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=ne(this._stream.httpHeaders),this._headers.append("Range",`bytes=${j}-${C-1}`);const O=M.url;fetch(O,G(this._headers,this._withCredentials,this._abortController)).then(L=>{if(!(0,F.validateResponseStatus)(L.status))throw(0,F.createResponseStatusError)(L.status,O);this._readCapability.resolve(),this._reader=L.body.getReader()}).catch(L=>{if("AbortError"!==(null==L?void 0:L.name))throw L}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var x=this;return _asyncToGenerator(function*(){yield x._readCapability.promise;const{value:j,done:C}=yield x._reader.read();return C?{value:j,done:C}:(x._loaded+=j.byteLength,x.onProgress&&x.onProgress({loaded:x._loaded}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(x){this._reader&&this._reader.cancel(x),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ve){if(__webpack_module_cache__[ve])return __webpack_module_cache__[ve].exports;var f=__webpack_module_cache__[ve]={exports:{}};return __webpack_modules__[ve](f,f.exports,__w_pdfjs_require__),f.exports}return __w_pdfjs_require__(0)})()},module.exports=V()},719:(ve,f,V)=>{"use strict";function h(n){return"function"==typeof n}let F=!1;const G={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else F&&console.log("RxJS: Back to a better error behavior. Thank you. <3");F=n},get useDeprecatedSynchronousErrorHandling(){return F}};function ne(n){setTimeout(()=>{throw n},0)}const Y={closed:!0,next(n){},error(n){if(G.useDeprecatedSynchronousErrorHandling)throw n;ne(n)},complete(){}},I=Array.isArray||(n=>n&&"number"==typeof n.length);function B(n){return null!==n&&"object"==typeof n}const x=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class j{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof j)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(h(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof x?C(o.errors):[o]}}if(I(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(B(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof x?e=e.concat(C(c.errors)):e.push(c)}}}if(e)throw new x(e)}add(e){let t=e;if(!e)return j.EMPTY;switch(typeof e){case"function":t=new j(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof j)){const s=t;t=new j,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof j){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function C(n){return n.reduce((e,t)=>e.concat(t instanceof x?t.errors:t),[])}j.EMPTY=((n=new j).closed=!0,n);const M="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class L extends j{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Y;break;case 1:if(!e){this.destination=Y;break}if("object"==typeof e){e instanceof L?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new H(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new H(this,e,t,r)}}[M](){return this}static create(e,t,r){const i=new L(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class H extends L{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;h(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==Y&&(o=Object.create(t),h(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;G.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=G;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):ne(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;ne(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);G.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),G.useDeprecatedSynchronousErrorHandling)throw r;ne(r)}}__tryOrSetError(e,t,r){if(!G.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return G.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(ne(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const S="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(n){return n}let v=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof L)return n;if(n[M])return n[M]()}return n||e||t?new L(n,e,t):new L(Y)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||G.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),G.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){G.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof L?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=b(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[S](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?g:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=b(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function b(n){if(n||(n=G.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const U=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class ie extends j{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class J extends L{constructor(e){super(e),this.destination=e}}let q=(()=>{class n extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[M](){return new J(this)}lift(t){const r=new oe(this,this);return r.operator=t,r}next(t){if(this.closed)throw new U;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new U;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new U;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new U;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new U;return this.hasError?(t.error(this.thrownError),j.EMPTY):this.isStopped?(t.complete(),j.EMPTY):(this.observers.push(t),new ie(this,t))}asObservable(){const t=new v;return t.source=this,t}}return n.create=(e,t)=>new oe(e,t),n})();class oe extends q{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):j.EMPTY}}function re(n){return n&&"function"==typeof n.schedule}function A(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new m(n,e))}}class m{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new u(e,this.project,this.thisArg))}}class u extends L{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const y=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},T="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",le=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function he(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const fe=n=>{if(n&&"function"==typeof n[S])return(n=>e=>{const t=n[S]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(le(n))return y(n);if(he(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ne),e))(n);if(n&&"function"==typeof n[T])return(n=>e=>{const t=n[T]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${B(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Pe(n,e){return new v(t=>{const r=new j;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function ht(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[S]}(n))return function(n,e){return new v(t=>{const r=new j;return r.add(e.schedule(()=>{const i=n[S]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(he(n))return function(n,e){return new v(t=>{const r=new j;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(le(n))return Pe(n,e);if(function(n){return n&&"function"==typeof n[T]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new v(t=>{const r=new j;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[T](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof v?n:new v(fe(n))}class Mt extends L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Qe extends L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Tt(n,e){if(e.closed)return;if(n instanceof v)return n.subscribe(e);let t;try{t=fe(n)(e)}catch(r){e.error(r)}return t}function Xe(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Xe((i,s)=>ht(n(i,s)).pipe(A((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new Un(n,t)))}class Un{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new an(e,this.project,this.concurrent))}}class an extends Qe{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Mt(this),r=this.destination;r.add(t);const i=Tt(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function jt(n=Number.POSITIVE_INFINITY){return Xe(g,n)}function Dn(n,e){return e?Pe(n,e):new v(y(n))}function ft(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return re(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof v?n[0]:jt(e)(Dn(n,t))}function Hn(){return function(e){return e.lift(new Ro(e))}}class Ro{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new Nu(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class Nu extends L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class al extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new j,e.add(this.source.subscribe(new Vu(this.getSubject(),this))),e.closed&&(this._connection=null,e=j.EMPTY)),e}refCount(){return Hn()(this)}}const Lu=(()=>{const n=al.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Vu extends J{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Po(n,e){return function(r){let i;if(i="function"==typeof n?n:function(){return n},"function"==typeof e)return r.lift(new ju(i,e));const s=Object.create(r,Lu);return s.source=r,s.subjectFactory=i,s}}class ju{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:r}=this,i=this.subjectFactory(),s=r(i).subscribe(e);return s.add(t.subscribe(i)),s}}function Uu(){return new q}function Z(n){for(let e in n)if(n[e]===Z)return e;throw Error("Could not find renamed property on target object.")}function se(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function qe(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const st=Z({__forward_ref__:Z});function xe(n){return n.__forward_ref__=xe,n.toString=function(){return pe(this())},n}function we(n){return ur(n)?n():n}function ur(n){return"function"==typeof n&&n.hasOwnProperty(st)&&n.__forward_ref__===xe}class $n extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function $e(n){return"string"==typeof n?n:null==n?"":String(n)}function rn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$e(n)}function ll(n,e){const t=e?` in ${e}`:"";throw new $n("201",`No provider for ${rn(n)} found${t}`)}function Pn(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ke(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ei(n){return yg(n,cl)||yg(n,bg)}function yg(n,e){return n.hasOwnProperty(e)?n[e]:null}function Cg(n){return n&&(n.hasOwnProperty(Gu)||n.hasOwnProperty(yw))?n[Gu]:null}const cl=Z({\u0275prov:Z}),Gu=Z({\u0275inj:Z}),bg=Z({ngInjectableDef:Z}),yw=Z({ngInjectorDef:Z});var Oe=(()=>((Oe=Oe||{})[Oe.Default=0]="Default",Oe[Oe.Host=1]="Host",Oe[Oe.Self=2]="Self",Oe[Oe.SkipSelf=4]="SkipSelf",Oe[Oe.Optional=8]="Optional",Oe))();let Wu;function yi(n){const e=Wu;return Wu=n,e}function vg(n,e,t){const r=ei(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Oe.Optional?null:void 0!==e?e:void ll(pe(n),"Injector")}function Ci(n){return{toString:n}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),zt=(()=>((zt=zt||{})[zt.Emulated=0]="Emulated",zt[zt.None=2]="None",zt[zt.ShadowDom=3]="ShadowDom",zt))();const bw="undefined"!=typeof globalThis&&globalThis,vw="undefined"!=typeof window&&window,Ew="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Aw="undefined"!=typeof global&&global,mt=bw||Aw||vw||Ew,_s={},yt=[],ul=Z({\u0275cmp:Z}),qu=Z({\u0275dir:Z}),zu=Z({\u0275pipe:Z}),Eg=Z({\u0275mod:Z}),ww=Z({\u0275loc:Z}),ti=Z({\u0275fac:Z}),Oo=Z({__NG_ELEMENT_ID__:Z});let Dw=0;function ni(n){return Ci(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||zt.Emulated,id:"c",styles:n.styles||yt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=Dw++,r.inputs=Sg(n.inputs,t),r.outputs=Sg(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ag):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(wg):null,r})}function Ag(n){return gn(n)||function(n){return n[qu]||null}(n)}function wg(n){return function(n){return n[zu]||null}(n)}const Dg={};function pn(n){return Ci(()=>{const e={type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Dg[n.id]=n.type),e})}function Sg(n,e){if(null==n)return _s;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Se=ni;function gn(n){return n[ul]||null}function Wn(n,e){const t=n[Eg]||null;if(!t&&!0===e)throw new Error(`Type ${pe(n)} does not have '\u0275mod' property.`);return t}function Fr(n){return Array.isArray(n)&&"object"==typeof n[1]}function hr(n){return Array.isArray(n)&&!0===n[1]}function Qu(n){return 0!=(8&n.flags)}function pl(n){return 2==(2&n.flags)}function gl(n){return 1==(1&n.flags)}function fr(n){return null!==n.template}function Pw(n){return 0!=(512&n[2])}function qi(n,e){return n.hasOwnProperty(ti)?n[ti]:null}class xg{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ut(){return Mg}function Mg(n){return n.type.prototype.ngOnChanges&&(n.setInput=Nw),Ow}function Ow(){const n=Rg(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===_s)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Nw(n,e,t,r){const i=Rg(n)||function(n,e){return n[Ig]=e}(n,{previous:_s,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new xg(l&&l.currentValue,e,o===_s),n[r]=e}Ut.ngInherit=!0;const Ig="__ngSimpleChanges__";function Rg(n){return n[Ig]||null}let Zu;function Pt(n){return!!n.listen}const kg={createRenderer:(n,e)=>void 0!==Zu?Zu:"undefined"!=typeof document?document:void 0};function Ht(n){for(;Array.isArray(n);)n=n[0];return n}function ml(n,e){return Ht(e[n])}function Yn(n,e){return Ht(e[n.index])}function td(n,e){return n.data[e]}function kn(n,e){const t=e[n];return Fr(t)?t:t[0]}function Og(n){return 4==(4&n[2])}function nd(n){return 128==(128&n[2])}function vi(n,e){return null==e?null:n[e]}function Ng(n){n[18]=0}function rd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Ge={lFrame:Gg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lg(){return Ge.bindingsEnabled}function _e(){return Ge.lFrame.lView}function ct(){return Ge.lFrame.tView}function pt(n){return Ge.lFrame.contextLView=n,n[8]}function Yt(){let n=Vg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Vg(){return Ge.lFrame.currentTNode}function kr(n,e){const t=Ge.lFrame;t.currentTNode=n,t.isParent=e}function id(){return Ge.lFrame.isParent}function sd(){Ge.lFrame.isParent=!1}function _l(){return Ge.isInCheckNoChangesMode}function yl(n){Ge.isInCheckNoChangesMode=n}function mn(){const n=Ge.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function As(){return Ge.lFrame.bindingIndex++}function ri(n){const e=Ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Xw(n,e){const t=Ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,od(e)}function od(n){Ge.lFrame.currentDirectiveIndex=n}function Ug(){return Ge.lFrame.currentQueryIndex}function ld(n){Ge.lFrame.currentQueryIndex=n}function Zw(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Hg(n,e,t){if(t&Oe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Oe.Host||(i=Zw(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ge.lFrame=$g();return r.currentTNode=e,r.lView=n,!0}function Cl(n){const e=$g(),t=n[1];Ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function $g(){const n=Ge.lFrame,e=null===n?null:n.child;return null===e?Gg(n):e}function Gg(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Wg(){const n=Ge.lFrame;return Ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const qg=Wg;function bl(){const n=Wg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _n(){return Ge.lFrame.selectedIndex}function Ei(n){Ge.lFrame.selectedIndex=n}function Ft(){const n=Ge.lFrame;return td(n.tView,n.selectedIndex)}function vl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(t,d)}}function El(n,e,t){zg(n,e,3,t)}function Al(n,e,t,r){(3&n[2])===t&&zg(n,e,t,r)}function cd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function zg(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(lD(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function lD(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class jo{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function wl(n,e,t){const r=Pt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];dd(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Yg(n){return 3===n||4===n||6===n}function dd(n){return 64===n.charCodeAt(0)}function Dl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Kg(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Kg(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Qg(n){return-1!==n}function ws(n){return 32767&n}function Ds(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let hd=!0;function Sl(n){const e=hd;return hd=n,e}let pD=0;function Ho(n,e){const t=pd(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,fd(r.data,n),fd(e,null),fd(r.blueprint,null));const i=Tl(n,e),s=n.injectorIndex;if(Qg(i)){const o=ws(i),a=Ds(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function fd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Tl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function xl(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oo)&&(r=t[Oo]),null==r&&(r=t[Oo]=pD++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Zg(n,e,t){if(t&Oe.Optional)return n;ll(e,"NodeInjector")}function em(n,e,t,r){if(t&Oe.Optional&&void 0===r&&(r=null),0==(t&(Oe.Self|Oe.Host))){const i=n[9],s=yi(void 0);try{return i?i.get(e,r,t&Oe.Optional):vg(e,r,t&Oe.Optional)}finally{yi(s)}}return Zg(r,e,t)}function tm(n,e,t,r=Oe.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Oo)?n[Oo]:void 0;return"number"==typeof e?e>=0?255&e:_D:e}(t);if("function"==typeof s){if(!Hg(e,n,r))return r&Oe.Host?Zg(i,t,r):em(e,t,r,i);try{const o=s(r);if(null!=o||r&Oe.Optional)return o;ll(t)}finally{qg()}}else if("number"==typeof s){let o=null,a=pd(n,e),l=-1,c=r&Oe.Host?e[16][6]:null;for((-1===a||r&Oe.SkipSelf)&&(l=-1===a?Tl(n,e):e[a+8],-1!==l&&im(r,!1)?(o=e[1],a=ws(l),e=Ds(l,e)):a=-1);-1!==a;){const d=e[1];if(rm(s,a,d.data)){const p=yD(a,e,t,o,r,c);if(p!==nm)return p}l=e[a+8],-1!==l&&im(r,e[1].data[a+8]===c)&&rm(s,a,e)?(o=d,a=ws(l),e=Ds(l,e)):a=-1}}}return em(e,t,r,i)}const nm={};function _D(){return new Ss(Yt(),_e())}function yD(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],d=Ml(a,o,t,null==r?pl(a)&&hd:r!=o&&0!=(3&a.type),i&Oe.Host&&s===a);return null!==d?$o(e,o,d,a):nm}function Ml(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,d=s>>20,_=i?a+d:n.directiveEnd;for(let D=r?a:a+d;D<_;D++){const k=o[D];if(D<l&&t===k||D>=l&&k.type===t)return D}if(i){const D=o[l];if(D&&fr(D)&&D.type===t)return l}return null}function $o(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof jo}(i)){const o=i;o.resolving&&function(n,e){throw new $n("200",`Circular dependency in DI detected for ${n}`)}(rn(s[t]));const a=Sl(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?yi(o.injectImpl):null;Hg(n,r,Oe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Mg(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&yi(l),Sl(a),o.resolving=!1,qg()}}return i}function rm(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function im(n,e){return!(n&Oe.Self||n&Oe.Host&&e)}class Ss{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return tm(this._tNode,this._lView,e,void 0,t)}}function Kn(n){return Ci(()=>{const e=n.prototype.constructor,t=e[ti]||gd(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ti]||gd(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gd(n){return ur(n)?()=>{const e=gd(we(n));return e&&e()}:qi(n)}function zi(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Yg(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Yt(),n)}const xs="__parameters__";function Yi(n,e,t){return Ci(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,d){const p=l.hasOwnProperty(xs)?l[xs]:Object.defineProperty(l,xs,{value:[]})[xs];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Je{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ke({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ED=new Je("AnalyzeForEntryComponents"),Il=Function;function Qn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Qn(r,e)):e!==n&&e.push(r)}return e}function Nr(n,e){n.forEach(t=>Array.isArray(t)?Nr(t,e):e(t))}function Pl(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ki(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wi(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function On(n,e,t){let r=Is(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function _d(n,e){const t=Is(n,e);if(t>=0)return n[1|t]}function Is(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const zo={},Cd="__NG_DI_FLAG__",Rs="ngTempTokenPath",PD=/\n/gm,bd="__source",vd=Z({provide:String,useValue:Z});let Yo;function Ps(n){const e=Yo;return Yo=n,e}function kD(n,e=Oe.Default){if(void 0===Yo)throw new Error("inject() must be called from an injection context");return null===Yo?vg(n,void 0,e):Yo.get(n,e&Oe.Optional?null:void 0,e)}function Ce(n,e=Oe.Default){return(Wu||kD)(we(n),e)}function Qi(n){const e=[];for(let t=0;t<n.length;t++){const r=we(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=Oe.Default;for(let o=0;o<r.length;o++){const a=r[o],l=OD(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Ce(i,s))}else e.push(Ce(r))}return e}function Ko(n,e){return n[Cd]=e,n.prototype[Cd]=e,n}function OD(n){return n[Cd]}function um(n,e,t,r){const i=n[Rs];throw e[bd]&&i.unshift(e[bd]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=pe(e);if(Array.isArray(e))i=e.map(pe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):pe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(PD,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Rs]=null,n}const Fs=Ko(Yi("Inject",n=>({token:n})),-1),xn=Ko(Yi("Optional"),8),Di=Ko(Yi("SkipSelf"),4);const Mm="__ngContext__";function cn(n,e){n[Mm]=e}function Rd(n){const e=function(n){return n[Mm]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Bl(n){return n.ngOriginalError}function xS(n,...e){n.error(...e)}class Ji{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||xS}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Bl(e)):null}_findOriginalError(e){let t=e&&Bl(e);for(;t&&Bl(t);)t=Bl(t);return t||null}}const Vm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mt))();function Fd(n){return n.ownerDocument}function Br(n){return n instanceof Function?n():n}var Ln=(()=>((Ln=Ln||{})[Ln.Important=1]="Important",Ln[Ln.DashCase=2]="DashCase",Ln))();function Od(n,e){return undefined(n,e)}function ta(n){const e=n[3];return hr(e)?e[3]:e}function Nd(n){return $m(n[13])}function Ld(n){return $m(n[4])}function $m(n){for(;null!==n&&!hr(n);)n=n[4];return n}function Ls(n,e,t,r,i){if(null!=r){let s,o=!1;hr(r)?s=r:Fr(r)&&(o=!0,r=r[0]);const a=Ht(r);0===n&&null!==t?null==i?Km(e,t,a):Zi(e,t,a,i||null,!0):1===n&&null!==t?Zi(e,t,a,i||null,!0):2===n?function(n,e,t){const r=Ul(n,e);r&&function(n,e,t,r){Pt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==Ht(t)&&Ls(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];na(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Bd(n,e,t){return Pt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function Wm(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,rd(i,-1)),t.splice(r,1)}function jd(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Wm(i,r),e>0&&(n[t-1][4]=r[4]);const s=Ki(n,10+e);!function(n,e){na(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function qm(n,e){if(!(256&e[2])){const t=e[11];Pt(t)&&t.destroyNode&&na(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Ud(n[1],n);for(;e;){let t=null;if(Fr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Fr(e)&&Ud(e[1],e),e=e[3];null===e&&(e=n),Fr(e)&&Ud(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ud(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof jo)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Ht(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&hr(e[3])){t!==e[3]&&Wm(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function zm(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===zt.None||i===zt.Emulated)return null}return Yn(r,t)}(n,e.parent,t)}function Zi(n,e,t,r,i){Pt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function Km(n,e,t){Pt(n)?n.appendChild(e,t):e.appendChild(t)}function Qm(n,e,t,r,i){null!==r?Zi(n,e,t,r,i):Km(n,e,t)}function Ul(n,e){return Pt(n)?n.parentNode(e):e.parentNode}function Xm(n,e,t){return Zm(n,e,t)}let Zm=function(n,e,t){return 40&n.type?Yn(n,t):null};function Hl(n,e,t,r){const i=zm(n,r,e),s=e[11],a=Xm(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Qm(s,i,t[l],a,!1);else Qm(s,i,t,a,!1)}function $l(n,e){if(null!==e){const t=e.type;if(3&t)return Yn(e,n);if(4&t)return $d(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return $l(n,r);{const i=n[e.index];return hr(i)?$d(-1,i):Ht(i)}}if(32&t)return Od(e,n)()||Ht(n[e.index]);{const r=t_(n,e);return null!==r?Array.isArray(r)?r[0]:$l(ta(n[16]),r):$l(n,e.next)}}return null}function t_(n,e){return null!==e?n[16][6].projection[e.projection]:null}function $d(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return $l(r,i)}return e[7]}function Gd(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&cn(Ht(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Gd(n,e,t.child,r,i,s,!1),Ls(e,n,i,a,s);else if(32&l){const c=Od(t,r);let d;for(;d=c();)Ls(e,n,i,d,s);Ls(e,n,i,a,s)}else 16&l?r_(n,e,r,t,i,s):Ls(e,n,i,a,s);t=o?t.projectionNext:t.next}}function na(n,e,t,r,i,s){Gd(t,r,n.firstChild,e,i,s,!1)}function r_(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ls(e,n,i,l[c],s);else Gd(n,e,l,o[3],i,s,!0)}function i_(n,e,t){Pt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Wd(n,e,t){Pt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function s_(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const o_="ng-template";function ZS(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==s_(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function a_(n){return 4===n.type&&n.value!==o_}function eT(n,e,t){return e===(4!==n.type||t?n.value:o_)}function tT(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(Yg(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!eT(n,l,t)||""===l&&1===e.length){if(pr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!ZS(n.attrs,c,t)){if(pr(r))return!1;o=!0}continue}const p=nT(8&r?"class":l,i,a_(n),t);if(-1===p){if(pr(r))return!1;o=!0;continue}if(""!==c){let _;_=p>s?"":i[p+1].toLowerCase();const D=8&r?_:null;if(D&&-1!==s_(D,c,0)||2&r&&c!==_){if(pr(r))return!1;o=!0}}}}else{if(!o&&!pr(r)&&!pr(l))return!1;if(o&&pr(l))continue;o=!1,r=l|1&r}}return pr(r)||o}function pr(n){return 0==(1&n)}function nT(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function l_(n,e,t=!1){for(let r=0;r<e.length;r++)if(tT(n,e[r],t))return!0;return!1}function oT(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function c_(n,e){return n?":not("+e.trim()+")":e}function aT(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!pr(o)&&(e+=c_(s,i),i=""),r=o,s=s||!pr(r);t++}return""!==i&&(e+=c_(s,i)),e}const ze={};function Re(n){u_(ct(),_e(),_n()+n,_l())}function u_(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&El(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Al(e,s,0,t)}Ei(t)}function Gl(n,e){return n<<17|e<<2}function gr(n){return n>>17&32767}function qd(n){return 2|n}function ii(n){return(131068&n)>>2}function zd(n,e){return-131069&n|e<<2}function Yd(n){return 1|n}function b_(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];ld(i),o.contentQueries(2,e[s],s)}}}function ra(n,e,t,r,i,s,o,a,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=140|r,Ng(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[16]=2==e.type?n[16]:d,d}function Vs(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=Vg(),o=id(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),Ge.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=Ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return kr(s,!0),s}function Bs(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ia(n,e,t){Cl(e);try{const r=n.viewQuery;null!==r&&uh(1,r,t);const i=n.template;null!==i&&v_(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&b_(n,e),n.staticViewQueries&&uh(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)jT(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,bl()}}function js(n,e,t,r){const i=e[2];if(256==(256&i))return;Cl(e);const s=_l();try{Ng(e),function(n){Ge.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&v_(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&El(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Al(e,c,0,null),cd(e,0)}if(function(n){for(let e=Nd(n);null!==e;e=Ld(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&rd(s,1),i[2]|=1024}}}(e),function(n){for(let e=Nd(n);null!==e;e=Ld(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];nd(r)&&js(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&b_(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&El(e,c)}else{const c=n.contentHooks;null!==c&&Al(e,c,1),cd(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ei(~i);else{const s=i,o=t[++r],a=t[++r];Xw(o,s),a(2,e[s])}}}finally{Ei(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)BT(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&uh(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&El(e,c)}else{const c=n.viewHooks;null!==c&&Al(e,c,2),cd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,rd(e[3],-1))}finally{bl()}}function bT(n,e,t,r){const i=e[10],s=!_l(),o=Og(e);try{s&&!o&&i.begin&&i.begin(),o&&ia(n,e,r),js(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function v_(n,e,t,r,i){const s=_n(),o=2&r;try{Ei(-1),o&&e.length>20&&u_(n,e,20,_l()),t(r,i)}finally{Ei(s)}}function E_(n,e,t){if(Qu(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function nh(n,e,t){!Lg()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Ho(t,e),cn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=fr(l);c&&kT(e,t,l);const d=$o(e,n,a,t);cn(d,e),null!==o&&OT(0,a-i,d,l,0,o),c&&(kn(t.index,e)[8]=d)}}(n,e,t,Yn(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=Ge.lFrame.currentDirectiveIndex;try{Ei(o);for(let l=r;l<i;l++){const c=n.data[l],d=e[l];od(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&I_(c,d)}}finally{Ei(-1),od(a)}}(n,e,t))}function rh(n,e,t=Yn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function A_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=zl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function zl(n,e,t,r,i,s,o,a,l,c){const d=20+r,p=d+i,_=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ze);return t}(d,p),D="function"==typeof c?c():c;return _[1]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1}}function S_(n,e,t,r){const i=N_(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&L_(n).push(r,i.length-1))}function T_(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Vn(n,e,t,r,i,s,o,a){const l=Yn(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(j_(n,t,d,r,i),pl(e)&&function(n,e){const t=kn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Pt(s)?s.setProperty(l,r,i):dd(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ih(n,e,t,r){let i=!1;if(Lg()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];l_(t,o.selectors,!1)&&(i||(i=[]),xl(Ho(t,e),n,o.type),fr(o)?(R_(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,P_(t,n.data.length,s.length);for(let d=0;d<s.length;d++){const p=s[d];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,c=Bs(n,e,s.length,null);for(let d=0;d<s.length;d++){const p=s[d];t.mergedAttrs=Dl(t.mergedAttrs,p.hostAttrs),F_(n,t,e,c,p),FT(c,p,o),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const _=p.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const d=i[c],p=d.inputs,_=null===s||a_(e)?null:NT(p,s);o.push(_),a=T_(p,c,a),l=T_(d.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new $n("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Dl(t.mergedAttrs,t.attrs),i}function M_(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function I_(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function R_(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function FT(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fr(e)&&(t[""]=n)}}function P_(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function F_(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=qi(i.type)),o=new jo(s,fr(i),null);n.blueprint[r]=o,t[r]=o,M_(n,e,0,r,Bs(n,t,i.hostVars,ze),i)}function kT(n,e,t){const r=Yn(e,n),i=A_(t),s=n[10],o=Yl(n,ra(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function jr(n,e,t,r,i,s){const o=Yn(n,e);!function(n,e,t,r,i,s,o){if(null==s)Pt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?$e(s):o(s,r||"",i);Pt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function OT(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],d=o[l++],p=o[l++];null!==a?r.setInput(t,p,c,d):t[d]=p}}}function NT(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function k_(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function BT(n,e){const t=kn(e,n);if(nd(t)){const r=t[1];80&t[2]?js(r,t,r.template,t[8]):t[5]>0&&oh(t)}}function oh(n){for(let r=Nd(n);null!==r;r=Ld(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];js(o,s,o.template,s[8])}else s[5]>0&&oh(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=kn(t[r],n);nd(i)&&i[5]>0&&oh(i)}}function jT(n,e){const t=kn(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ia(r,t,t[8])}function Yl(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ah(n){for(;n;){n[2]|=64;const e=ta(n);if(Pw(n)&&!e)return n;n=e}return null}function ch(n,e,t){const r=e[10];r.begin&&r.begin();try{js(n,e,n.template,t)}catch(i){throw B_(e,i),i}finally{r.end&&r.end()}}function O_(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Rd(t),i=r[1];bT(i,r,i.template,t)}}(n[8])}function uh(n,e,t){ld(0),e(n,t)}const WT=(()=>Promise.resolve(null))();function N_(n){return n[7]||(n[7]=[])}function L_(n){return n.cleanup||(n.cleanup=[])}function B_(n,e){const t=n[9],r=t?t.get(Ji,null):null;r&&r.handleError(e)}function j_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function oi(n,e,t){const r=ml(e,n);!function(n,e,t){Pt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Kl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=qe(i,a):2==s&&(r=qe(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Us=new Je("INJECTOR",-1);class U_{get(e,t=zo){if(t===zo){const r=new Error(`NullInjectorError: No provider for ${pe(e)}!`);throw r.name="NullInjectorError",r}return t}}const sa=new Je("Set Injector scope."),oa={},YT={};let dh;function H_(){return void 0===dh&&(dh=new U_),dh}function $_(n,e=null,t=null,r){return new QT(n,t,e||H_(),r)}class QT{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Nr(t,a=>this.processProvider(a,e,t)),Nr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Us,Hs(void 0,this));const o=this.records.get(sa);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:pe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=zo,r=Oe.Default){this.assertNotDestroyed();const i=Ps(this),s=yi(void 0);try{if(!(r&Oe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Je}(e)&&ei(e);a=l&&this.injectableDefInScope(l)?Hs(hh(e),oa):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Oe.Self?H_():this.parent).get(e,t=r&Oe.Optional&&t===zo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Rs]=o[Rs]||[]).unshift(pe(e)),i)throw o;return um(o,e,"R3InjectorError",this.source)}throw o}finally{yi(s),Ps(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(pe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=we(e)))return!1;let i=Cg(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Cg(s)),null==i)return!1;if(null!=i.imports&&!a){let d;r.push(o);try{Nr(i.imports,p=>{this.processInjectorType(p,t,r)&&(void 0===d&&(d=[]),d.push(p))})}finally{}if(void 0!==d)for(let p=0;p<d.length;p++){const{ngModule:_,providers:D}=d[p];Nr(D,k=>this.processProvider(k,_,D||yt))}}this.injectorDefTypes.add(o);const l=qi(o)||(()=>new o);this.records.set(o,Hs(l,oa));const c=i.providers;if(null!=c&&!a){const d=e;Nr(c,p=>this.processProvider(p,d,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=$s(e=we(e))?e:we(e&&e.provide);const s=function(n,e,t){return W_(n)?Hs(void 0,n.useValue):Hs(G_(n),oa)}(e);if($s(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Hs(void 0,oa,!0),o.factory=()=>Qi(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===oa&&(t.value=YT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=we(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function hh(n){const e=ei(n),t=null!==e?e.factory:qi(n);if(null!==t)return t;if(n instanceof Je)throw new Error(`Token ${pe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=wi(e,"?");throw new Error(`Can't resolve all parameters for ${pe(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[cl]||n[bg]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function G_(n,e,t){let r;if($s(n)){const i=we(n);return qi(i)||hh(i)}if(W_(n))r=()=>we(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Qi(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Ce(we(n.useExisting));else{const i=we(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return qi(i)||hh(i);r=()=>new i(...Qi(n.deps))}return r}function Hs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function W_(n){return null!==n&&"object"==typeof n&&vd in n}function $s(n){return"function"==typeof n}const q_=function(n,e,t){return function(n,e=null,t=null,r){const i=$_(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};class at{static create(e,t){return Array.isArray(e)?q_(e,t,""):q_(e.providers,e.parent,e.name||"")}}function _1(n,e){vl(Rd(n)[1],Yt())}function wt(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(fr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=yh(n.inputs),o.declaredInputs=yh(n.declaredInputs),o.outputs=yh(n.outputs);const a=i.hostBindings;a&&v1(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&C1(n,l),c&&b1(n,c),se(n.inputs,i.inputs),se(n.declaredInputs,i.declaredInputs),se(n.outputs,i.outputs),fr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===wt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Dl(i.hostAttrs,t=Dl(t,i.hostAttrs))}}(r)}function yh(n){return n===_s?{}:n===yt?[]:n}function C1(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function b1(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function v1(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}at.THROW_IF_NOT_FOUND=zo,at.NULL=new U_,at.\u0275prov=ke({token:at,providedIn:"any",factory:()=>Ce(Us)}),at.__NG_ELEMENT_ID__=-1;let Ql=null;function Gs(){if(!Ql){const n=mt.Symbol;if(n&&n.iterator)Ql=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ql=r)}}}return Ql}function la(n){return!!Ch(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gs()in n)}function Ch(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ur(n,e,t){return n[e]=t}function un(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function es(n,e,t,r){const i=un(n,e,t);return un(n,e+1,r)||i}function Bn(n,e,t,r){const i=_e();return un(i,As(),e)&&(ct(),jr(Ft(),i,n,e,t,r)),Bn}function qs(n,e,t,r){return un(n,As(),t)?e+$e(t)+r:ze}function zs(n,e,t,r,i,s){const a=es(n,Ge.lFrame.bindingIndex,t,i);return ri(2),a?e+$e(t)+r+$e(i)+s:ze}function et(n,e,t,r,i,s,o,a){const l=_e(),c=ct(),d=n+20,p=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,d=Vs(e,n,4,o||null,vi(c,a));ih(e,t,d,vi(c,l)),vl(e,d);const p=d.tViews=zl(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}(d,c,l,e,t,r,i,s,o):c.data[d];kr(p,!1);const _=l[11].createComment("");Hl(c,l,_,p),cn(_,l),Yl(l,l[d]=k_(_,l,_,p)),gl(p)&&nh(c,l,p),null!=o&&rh(l,p,a)}function Zn(n){return function(n,e){return n[e]}(Ge.lFrame.contextLView,20+n)}function ue(n,e=Oe.Default){const t=_e();return null===t?Ce(n,e):tm(Yt(),t,we(n),e)}function Ve(n,e,t){const r=_e();return un(r,As(),e)&&Vn(ct(),Ft(),r,n,e,r[11],t,!1),Ve}function wh(n,e,t,r,i){const o=i?"class":"style";j_(n,t,e.inputs[o],o,r)}function ge(n,e,t,r){const i=_e(),s=ct(),o=20+n,a=i[11],l=i[o]=Bd(a,e,Ge.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=Vs(e,n,2,i,vi(a,s));return ih(e,t,c,vi(a,o)),null!==c.attrs&&Kl(c,c.attrs,!1),null!==c.mergedAttrs&&Kl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];kr(c,!0);const d=c.mergedAttrs;null!==d&&wl(a,l,d);const p=c.classes;null!==p&&Wd(a,l,p);const _=c.styles;null!==_&&i_(a,l,_),64!=(64&c.flags)&&Hl(s,i,l,c),0===Ge.lFrame.elementDepthCount&&cn(l,i),Ge.lFrame.elementDepthCount++,gl(c)&&(nh(s,i,c),E_(s,c,i)),null!==r&&rh(i,c)}function me(){let n=Yt();id()?sd():(n=n.parent,kr(n,!1));const e=n;Ge.lFrame.elementDepthCount--;const t=ct();t.firstCreatePass&&(vl(t,n),Qu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&wh(t,e,_e(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&wh(t,e,_e(),e.stylesWithoutHost,!1)}function Ct(n,e,t,r){ge(n,e,t,r),me()}function Hr(n,e,t){const r=_e(),i=ct(),s=n+20,o=i.firstCreatePass?function(n,e,t,r,i){const s=e.consts,o=vi(s,r),a=Vs(e,n,8,"ng-container",o);return null!==o&&Kl(a,o,!0),ih(e,t,a,vi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];kr(o,!0);const a=r[s]=r[11].createComment("");Hl(i,r,a,o),cn(a,r),gl(o)&&(nh(i,r,o),E_(i,o,r)),null!=t&&rh(r,o)}function $r(){let n=Yt();const e=ct();id()?sd():(n=n.parent,kr(n,!1)),e.firstCreatePass&&(vl(e,n),Qu(n)&&e.queries.elementEnd(n))}function Dh(n,e,t){Hr(n,e,t),$r()}function er(){return _e()}function ua(n){return!!n&&"function"==typeof n.then}const Zl=function(n){return!!n&&"function"==typeof n.subscribe};function ut(n,e,t,r){const i=_e(),s=ct(),o=Yt();return function(n,e,t,r,i,s,o,a){const l=gl(r),d=n.firstCreatePass&&L_(n),p=e[8],_=N_(e);let D=!0;if(3&r.type||a){const K=Yn(r,e),de=a?a(K):K,ae=_.length,Ae=a?Ie=>a(Ht(Ie[r.index])):r.index;if(Pt(t)){let Ie=null;if(!a&&l&&(Ie=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==Ie)(Ie.__ngLastListenerFn__||Ie).__ngNextListenerFn__=s,Ie.__ngLastListenerFn__=s,D=!1;else{s=Sh(r,e,p,s,!1);const nt=t.listen(de,i,s);_.push(s,nt),d&&d.push(i,Ae,ae,ae+1)}}else s=Sh(r,e,p,s,!0),de.addEventListener(i,s,o),_.push(s),d&&d.push(i,Ae,ae,o)}else s=Sh(r,e,p,s,!1);const k=r.outputs;let te;if(D&&null!==k&&(te=k[i])){const K=te.length;if(K)for(let de=0;de<K;de+=2){const Zt=e[te[de]][te[de+1]].subscribe(s),lr=_.length;_.push(s,Zt),d&&d.push(i,r.index,lr,-(lr+1))}}}(s,i,i[11],o,n,e,!!t,r),ut}function Fy(n,e,t,r){try{return!1!==t(r)}catch(i){return B_(n,i),!1}}function Sh(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?kn(n.index,e):e;0==(32&e[2])&&ah(a);let l=Fy(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Fy(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Te(n=1){return function(n){return(Ge.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,Ge.lFrame.contextLView))[8]}(n)}function tx(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?l_(n,s,!0):oT(r,s))return i}else t=i}return t}function Th(n){const e=_e()[16][6];if(!e.projection){const r=e.projection=wi(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?tx(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function xh(n,e=0,t){const r=_e(),i=ct(),s=Vs(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),sd(),64!=(64&s.flags)&&function(n,e,t){r_(e[11],0,e,t,zm(n,t,e),Xm(t.parent||e[6],t,e))}(i,r,s)}function Mh(n,e,t){return Ih(n,"",e,"",t),Mh}function Ih(n,e,t,r,i){const s=_e(),o=qs(s,e,t,r);return o!==ze&&Vn(ct(),Ft(),s,n,o,s[11],i,!1),Ih}function Hy(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?gr(s):ii(s),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];ix(n[a],e)&&(l=!0,n[a+1]=r?Yd(d):qd(d)),a=r?gr(d):ii(d)}l&&(n[t+1]=r?qd(s):Yd(s))}function ix(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Is(n,e)>=0}function tr(n,e){return function(n,e,t,r){const i=_e(),s=ct(),o=ri(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[_n()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=function(n){const e=Ge.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=da(t=Rh(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Rh(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ii(r))return n[gr(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Rh(null,n,e,l[1],r),l=da(l,e.attrs,r),function(n,e,t,r){n[gr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=da(r,n[s].hostAttrs,t);return da(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gr(o),l=ii(o);n[r]=t;let d,c=!1;if(Array.isArray(t)){const p=t;d=p[1],(null===d||Is(p,d)>0)&&(c=!0)}else d=t;if(i)if(0!==l){const _=gr(n[a+1]);n[r+1]=Gl(_,a),0!==_&&(n[_+1]=zd(n[_+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Gl(a,0),0!==a&&(n[a+1]=zd(n[a+1],r)),a=r;else n[r+1]=Gl(l,0),0===a?a=r:n[l+1]=zd(n[l+1],r),l=r;c&&(n[r+1]=qd(n[r+1])),Hy(n,d,r,!0),Hy(n,d,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Is(s,e)>=0&&(t[r+1]=Yd(t[r+1]))}(e,d,n,r,s),o=Gl(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ze&&un(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];ec(function(n){return 1==(1&n)}(c)?eC(l,e,t,i,ii(c),o):void 0)||(ec(s)||function(n){return 2==(2&n)}(c)&&(s=eC(l,null,t,i,a,o)),function(n,e,t,r,i){const s=Pt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Ln.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Ln.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,ml(_n(),t),i,s))}(s,s.data[_n()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=pe(function(n){return n instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),tr}function Rh(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=da(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function da(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),On(n,o,!!t||e[++s]))}return void 0===n?null:n}function eC(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let _=t[i+1];_===ze&&(_=p?yt:void 0);let D=p?_d(_,r):d===r?_:void 0;if(c&&!ec(D)&&(D=_d(l,r)),ec(D)&&(a=D,o))return a;const k=n[i+1];i=o?gr(k):ii(k)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=_d(l,r))}return a}function ec(n){return void 0!==n}function Ue(n,e=""){const t=_e(),r=ct(),i=n+20,s=r.firstCreatePass?Vs(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return Pt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Hl(r,t,o,s),kr(s,!1)}function br(n){return li("",n,""),br}function li(n,e,t){const r=_e(),i=qs(r,n,e,t);return i!==ze&&oi(r,_n(),i),li}function Ph(n,e,t,r,i){const s=_e(),o=zs(s,n,e,t,r,i);return o!==ze&&oi(s,_n(),o),Ph}const ts=void 0;var Bx=["en",[["a","p"],["AM","PM"],ts],[["AM","PM"],ts,ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ts,"{1} 'at' {0}",ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let no={};function bC(n){return n in no||(no[n]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[n]),no[n]}var De=(()=>((De=De||{})[De.LocaleId=0]="LocaleId",De[De.DayPeriodsFormat=1]="DayPeriodsFormat",De[De.DayPeriodsStandalone=2]="DayPeriodsStandalone",De[De.DaysFormat=3]="DaysFormat",De[De.DaysStandalone=4]="DaysStandalone",De[De.MonthsFormat=5]="MonthsFormat",De[De.MonthsStandalone=6]="MonthsStandalone",De[De.Eras=7]="Eras",De[De.FirstDayOfWeek=8]="FirstDayOfWeek",De[De.WeekendRange=9]="WeekendRange",De[De.DateFormat=10]="DateFormat",De[De.TimeFormat=11]="TimeFormat",De[De.DateTimeFormat=12]="DateTimeFormat",De[De.NumberSymbols=13]="NumberSymbols",De[De.NumberFormats=14]="NumberFormats",De[De.CurrencyCode=15]="CurrencyCode",De[De.CurrencySymbol=16]="CurrencySymbol",De[De.CurrencyName=17]="CurrencyName",De[De.Currencies=18]="Currencies",De[De.Directionality=19]="Directionality",De[De.PluralCase=20]="PluralCase",De[De.ExtraData=21]="ExtraData",De))();const tc="en-US";let vC=tc;function kh(n){Pn(n,"Expected localeId to be defined"),"string"==typeof n&&(vC=n.toLowerCase().replace(/_/g,"-"))}function Lh(n,e,t,r,i){if(n=we(n),Array.isArray(n))for(let s=0;s<n.length;s++)Lh(n[s],e,t,r,i);else{const s=ct(),o=_e();let a=$s(n)?n:we(n.provide),l=G_(n);const c=Yt(),d=1048575&c.providerIndexes,p=c.directiveStart,_=c.providerIndexes>>20;if($s(n)||!n.multi){const D=new jo(l,i,ue),k=Bh(a,e,i?d:d+_,p);-1===k?(xl(Ho(c,o),s,a),Vh(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(D),o.push(D)):(t[k]=D,o[k]=D)}else{const D=Bh(a,e,d+_,p),k=Bh(a,e,d,d+_),te=D>=0&&t[D],K=k>=0&&t[k];if(i&&!K||!i&&!te){xl(Ho(c,o),s,a);const de=function(n,e,t,r,i){const s=new jo(n,t,ue);return s.multi=[],s.index=e,s.componentProviders=0,WC(s,i,r&&!t),s}(i?NM:OM,t.length,i,r,l);!i&&K&&(t[k].providerFactory=de),Vh(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(de),o.push(de)}else Vh(s,n,D>-1?D:k,WC(t[i?k:D],l,!i&&r));!i&&r&&K&&t[k].componentProviders++}}}function Vh(n,e,t,r){const i=$s(e);if(i||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[r,o]):a[l+1].push(r,o)}else a.push(t,o)}}}function WC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Bh(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OM(n,e,t,r){return jh(this.multi,[])}function NM(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$o(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),jh(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],jh(i,s);return s}function jh(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Dt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=ct();if(r.firstCreatePass){const i=fr(n);Lh(t,r.data,r.blueprint,i,!0),Lh(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class qC{}const YC="ngComponent";class BM{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${pe(n)}. Did you add it to @NgModule.entryComponents?`);return e[YC]=n,e}(e)}}class xi{}function oc(...n){}function io(n,e){return new St(Yn(n,e))}xi.NULL=new BM;const HM=function(){return io(Yt(),_e())};let St=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=HM,n})();function KC(n){return n instanceof St?n.nativeElement:n}class ac{}let qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>GM(),n})();const GM=function(){const n=_e(),t=kn(Yt().index,n);return function(n){return n[11]}(Fr(t)?t:n)};let Hh=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>null}),n})();class ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QC=new ma("12.2.4");class XC{constructor(){}supports(e){return la(e)}create(e){return new YM(e)}}const zM=(n,e)=>e;class YM{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zM}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ZC(r,i,s)?t:r,a=ZC(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,d=l-i;if(c!=d){for(let _=0;_<c;_++){const D=_<s.length?s[_]:s[_]=0,k=D+_;d<=k&&k<c&&(s[_]=D+1)}s[o.previousIndex]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!la(e))throw new Error(`Error trying to diff '${pe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Gs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new KM(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new JC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class KM{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QM{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class JC{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new QM,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZC(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class eb{constructor(){}supports(e){return e instanceof Map||Ch(e)}create(){return new XM}}class XM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ch(e)))throw new Error(`Error trying to diff '${pe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new JM(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class JM{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tb(){return new _a([new XC])}let _a=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tb()),deps:[[n,new Di,new xn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=ke({token:n,providedIn:"root",factory:tb}),n})();function nb(){return new so([new eb])}let so=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nb()),deps:[[n,new Di,new xn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=ke({token:n,providedIn:"root",factory:nb}),n})();function lc(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ht(s)),hr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&lc(l[1],l,c,r)}const o=t.type;if(8&o)lc(n,e,t.child,r);else if(32&o){const a=Od(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=t_(e,t);if(Array.isArray(a))r.push(...a);else{const l=ta(e[16]);lc(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ya{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return lc(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(hr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(jd(e,r),Ki(t,r))}this._attachedToViewContainer=!1}qm(this._lView[1],this._lView)}onDestroy(e){S_(this._lView[1],this._lView,null,e)}markForCheck(){ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ch(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){yl(!0);try{ch(n,e,t)}finally{yl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){na(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class eI extends ya{constructor(e){super(e),this._view=e}detectChanges(){O_(this._view)}checkNoChanges(){!function(n){yl(!0);try{O_(n)}finally{yl(!1)}}(this._view)}get context(){return null}}const nI=function(n){return function(n,e,t){if(pl(n)&&!t){const r=kn(n.index,e);return new ya(r,r)}return 47&n.type?new ya(e[16],e):null}(Yt(),_e(),16==(16&n))};let cc=(()=>{class n{}return n.__NG_ELEMENT_ID__=nI,n})();const sI=[new eb],aI=new _a([new XC]),lI=new so(sI),uI=function(){return uc(Yt(),_e())};let gt=(()=>{class n{}return n.__NG_ELEMENT_ID__=uI,n})();const dI=gt,hI=class extends dI{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=ra(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),ia(t,r,e),new ya(r)}};function uc(n,e){return 4&n.type?new hI(e,n,io(n,e)):null}class zr{}class rb{}const gI=function(){return ob(Yt(),_e())};let vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();const _I=vr,ib=class extends _I{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return io(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tl(this._hostTNode,this._hostLView);if(Qg(e)){const t=Ds(e,this._hostLView),r=ws(e);return new Ss(t[1].data[r+8],t)}return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sb(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(zr,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return hr(n[3])}(r)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const p=r[3],_=new ib(p,p[6],p[3]);_.detach(_.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Pl(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=$d(s,o),l=r[11],c=Ul(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,na(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Pl($h(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sb(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=jd(this._lContainer,t);r&&(Ki($h(this._lContainer),t),qm(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=jd(this._lContainer,t);return r&&null!=Ki($h(this._lContainer),t)?new ya(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function sb(n){return n[8]}function $h(n){return n[8]||(n[8]=[])}function ob(n,e){let t;const r=e[n.index];if(hr(r))t=r;else{let i;if(8&n.type)i=Ht(r);else{const s=e[11];i=s.createComment("");const o=Yn(n,e);Zi(s,Ul(s,o),i,function(n,e){return Pt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=k_(r,e,i,n),Yl(e,t)}return new ib(t,n,e)}const co={};class Sb extends xi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=gn(e);return new xb(t,this.ngModule)}}function Tb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const fR=new Je("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vm});class xb extends qC{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(aT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Tb(this.componentDef.inputs)}get outputs(){return Tb(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,co,i);return s!==co||r===co?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(ac,kg),a=s.get(Hh,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function(n,e,t){if(Pt(n))return n.selectRootElement(e,t===zt.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Bd(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),p=this.componentDef.onPush?576:528,_=function(n,e){return{components:[],scheduler:n||Vm,clean:WT,playerHandler:e||null,flags:0}}(),D=zl(0,null,null,1,0,null,null,null,null,null),k=ra(null,D,_,p,null,null,o,l,a,s);let te,K;Cl(k);try{const de=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=Vs(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Kl(l,c,!0),null!==n&&(wl(i,n,c),null!==l.classes&&Wd(i,n,l.classes),null!==l.styles&&i_(i,n,l.styles)));const d=r.createRenderer(n,e),p=ra(t,A_(e),null,e.onPush?64:16,t[20],l,r,d,s||null,null);return o.firstCreatePass&&(xl(Ho(l,t),o,e.type),R_(o,l),P_(l,t.length,1)),Yl(t,p),t[20]=p}(d,this.componentDef,k,o,l);if(d)if(r)wl(l,d,["ng-version",QC.full]);else{const{attrs:ae,classes:Ae}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!pr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);ae&&wl(l,d,ae),Ae&&Ae.length>0&&Wd(l,d,Ae.join(" "))}if(K=td(D,20),void 0!==t){const ae=K.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const Ie=t[Ae];ae.push(null!=Ie?Array.from(Ie):null)}}te=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=Yt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),F_(n,r,e,Bs(n,e,1,null),t));const i=$o(e,n,r.directiveStart,r);cn(i,e);const s=Yn(r,e);return s&&cn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Yt();e.contentQueries(1,o,l.directiveStart)}const a=Yt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ei(a.index),M_(t[1],a,0,a.directiveStart,a.directiveEnd,e),I_(e,o)),o}(de,this.componentDef,k,_,[_1]),ia(D,k,null)}finally{bl()}return new mR(this.componentType,te,io(K,k),k,K)}}class mR extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new eI(i),this.componentType=e}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const uo=new Map;class CR extends zr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sb(this);const r=Wn(e),i=function(n){return n[ww]||null}(e);i&&kh(i),this._bootstrapComponents=Br(r.bootstrap),this._r3Injector=$_(e,t,[{provide:zr,useValue:this},{provide:xi,useValue:this.componentFactoryResolver}],pe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=at.THROW_IF_NOT_FOUND,r=Oe.Default){return e===at||e===zr||e===Us?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nf extends rb{constructor(e){super(),this.moduleType=e,null!==Wn(e)&&function(n){const e=new Set;!function t(r){const i=Wn(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${pe(e)} vs ${pe(e.name)}`)}(s,uo.get(s),r),uo.set(s,r));const o=Br(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new CR(this.moduleType,e)}}function ci(n,e,t,r){return function(n,e,t,r,i,s){const o=e+t;return un(n,o,i)?Ur(n,o+1,s?r.call(s,i):r(i)):Sa(n,o+1)}(_e(),mn(),n,e,t,r)}function Rb(n,e,t,r,i){return function(n,e,t,r,i,s,o){const a=e+t;return es(n,a,i,s)?Ur(n,a+2,o?r.call(o,i,s):r(i,s)):Sa(n,a+2)}(_e(),mn(),n,e,t,r,i)}function rf(n,e,t,r,i,s){return function(n,e,t,r,i,s,o,a){const l=e+t;return function(n,e,t,r,i){const s=es(n,e,t,r);return un(n,e+2,i)||s}(n,l,i,s,o)?Ur(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):Sa(n,l+3)}(_e(),mn(),n,e,t,r,i,s)}function sf(n,e,t,r,i,s,o){return function(n,e,t,r,i,s,o,a,l){const c=e+t;return function(n,e,t,r,i,s){const o=es(n,e,t,r);return es(n,e+2,i,s)||o}(n,c,i,s,o,a)?Ur(n,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):Sa(n,c+4)}(_e(),mn(),n,e,t,r,i,s,o)}function Sa(n,e){const t=n[e];return t===ze?void 0:t}function of(n){return e=>{setTimeout(n,void 0,e)}}const dt=class extends q{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const p=e;a=null===(i=p.next)||void 0===i?void 0:i.bind(p),l=null===(s=p.error)||void 0===s?void 0:s.bind(p),c=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}this.__isAsync&&(l=of(l),a&&(a=of(a)),c&&(c=of(c)));const d=super.subscribe({next:a,error:l,complete:c});return e instanceof j&&e.add(d),d}};function kR(){return this._results[Gs()]()}class gc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Gs(),r=gc.prototype;r[t]||(r[t]=kR)}get changes(){return this._changes||(this._changes=new dt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Qn(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class af{constructor(e){this.queryList=e,this.matches=null}clone(){return new af(this.queryList)}setDirty(){this.queryList.setDirty()}}class lf{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new lf(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ub(e,t).matches&&this.queries[t].setDirty()}}class Lb{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class cf{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new cf(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class uf{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new uf(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,LR(t,s)),this.matchTNodeWithReadOption(e,t,Ml(t,e,s,!1,!1))}else r===gt?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ml(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===St||i===vr||i===gt&&4&t.type)this.addMatch(t.index,-2);else{const s=Ml(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function LR(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function BR(n,e,t,r){return-1===t?function(n,e){return 11&n.type?io(n,e):4&n.type?uc(n,e):null}(e,n):-2===t?function(n,e,t){return t===St?io(e,n):t===gt?uc(e,n):t===vr?ob(e,n):void 0}(n,e,r):$o(n,n[1],t,e)}function Vb(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:BR(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function df(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Vb(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],d=e[-l];for(let p=10;p<d.length;p++){const _=d[p];_[17]===_[3]&&df(_[1],_,c,r)}if(null!==d[9]){const p=d[9];for(let _=0;_<p.length;_++){const D=p[_];df(D[1],D,c,r)}}}}}return r}function Ot(n){const e=_e(),t=ct(),r=Ug();ld(r+1);const i=Ub(t,r);if(n.dirty&&Og(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?df(t,e,r,[]):Vb(t,e,i,r);n.reset(s,KC),n.notifyOnChanges()}return!0}return!1}function Ii(n,e,t){const r=ct();r.firstCreatePass&&(jb(r,new Lb(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bb(r,_e(),e)}function bn(n,e,t,r){const i=ct();if(i.firstCreatePass){const s=Yt();jb(i,new Lb(e,t,r),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Bb(i,_e(),t)}function Nt(){return function(n,e){return n[19].queries[e].queryList}(_e(),Ug())}function Bb(n,e,t){const r=new gc(4==(4&t));S_(n,e,r,r.destroy),null===e[19]&&(e[19]=new lf),e[19].queries.push(new af(r))}function jb(n,e,t){null===n.queries&&(n.queries=new cf),n.queries.track(new uf(e,t))}function Ub(n,e){return n.queries.getByIndex(e)}function Yr(n,e){return uc(n,e)}const fo=new Je("Application Initializer");let po=(()=>{class n{constructor(t){this.appInits=t,this.resolve=oc,this.reject=oc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(ua(s))t.push(s);else if(Zl(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Ce(fo,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const Ia=new Je("AppId"),gP={provide:Ia,useFactory:function(){return`${_f()}${_f()}${_f()}`},deps:[]};function _f(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sv=new Je("Platform Initializer"),go=new Je("Platform ID"),ov=new Je("appBootstrapListener");let yc=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const Ri=new Je("LocaleId"),av=new Je("DefaultCurrencyCode");class _P{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const yf=function(n){return new nf(n)},yP=yf,CP=function(n){return Promise.resolve(yf(n))},lv=function(n){const e=yf(n),r=Br(Wn(n).declarations).reduce((i,s)=>{const o=gn(s);return o&&i.push(new xb(o)),i},[]);return new _P(e,r)},bP=lv,vP=function(n){return Promise.resolve(lv(n))};let is=(()=>{class n{constructor(){this.compileModuleSync=yP,this.compileModuleAsync=CP,this.compileModuleAndAllComponentsSync=bP,this.compileModuleAndAllComponentsAsync=vP}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const wP=(()=>Promise.resolve(0))();function Cf(n){"undefined"==typeof Zone?wP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dt(!1),this.onMicrotaskEmpty=new dt(!1),this.onStable=new dt(!1),this.onError=new dt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=mt.requestAnimationFrame,e=mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vf(n),n.isCheckStableRunning=!0,bf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return cv(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),uv(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return cv(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),uv(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,vf(n),bf(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SP,oc,oc);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const SP={};function bf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uv(n){n._nesting--,bf(n)}class MP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dt,this.onMicrotaskEmpty=new dt,this.onStable=new dt,this.onError=new dt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Ef=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),Cf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cf(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ce(Lt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),dv=(()=>{class n{constructor(){this._applications=new Map,Af.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Af.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class IP{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Af=new IP,hv=!0,fv=!1;let wr;const gv=new Je("AllowMultipleToken");class wf{constructor(e,t){this.name=e,this.token=t}}function mv(n,e,t=[]){const r=`Platform: ${e}`,i=new Je(r);return(s=[])=>{let o=_v();if(!o||o.injector.get(gv,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:sa,useValue:"platform"});!function(n){if(wr&&!wr.destroyed&&!wr.injector.get(gv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wr=n.get(yv);const e=n.get(sv,null);e&&e.forEach(t=>t())}(at.create({providers:a,name:r}))}return function(n){const e=_v();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function _v(){return wr&&!wr.destroyed?wr:null}let yv=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new MP:("zone.js"===n?void 0:n)||new Lt({enableLongStackTrace:(fv=!0,hv),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Lt,useValue:a}];return a.run(()=>{const c=at.create({providers:l,parent:this.injector,name:t.moduleType.name}),d=t.create(c),p=d.injector.get(Ji,null);if(!p)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const _=a.onError.subscribe({next:D=>{p.handleError(D)}});d.onDestroy(()=>{Df(this._modules,d),_.unsubscribe()})}),function(n,e,t){try{const r=t();return ua(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(p,a,()=>{const _=d.injector.get(po);return _.runInitializers(),_.donePromise.then(()=>(kh(d.injector.get(Ri,tc)||tc),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,r=[]){const i=Cv({},r);return function(n,e,t){const r=new nf(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ss);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${pe(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ce(at))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function Cv(n,e){return Array.isArray(e)?e.reduce(Cv,n):Object.assign(Object.assign({},n),e)}let ss=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new v(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new v(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),Cf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const p=this._zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}});this.isStable=ft(a,l.pipe(n=>Hn()(Po(Uu)(n))))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof qC?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(zr),a=i.create(at.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(Ef,null),d=c&&a.injector.get(dv);return c&&d&&d.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Df(this.components,a),d&&d.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Df(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ov,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Ce(Lt),Ce(at),Ce(Ji),Ce(xi),Ce(po))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function Df(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class bc{}class WP{}const qP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zP=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||qP}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),V(255)(r).then(s=>s[i]).then(s=>Av(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),V(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>Av(o,r,i))}}return n.\u0275fac=function(t){return new(t||n)(Ce(is),Ce(WP,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function Av(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const rF=mv(null,"core",[{provide:go,useValue:"unknown"},{provide:yv,deps:[at]},{provide:dv,deps:[]},{provide:yc,deps:[]}]),lF=[{provide:ss,useClass:ss,deps:[Lt,at,Ji,xi,po]},{provide:fR,deps:[Lt],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:po,useClass:po,deps:[[new xn,fo]]},{provide:is,useClass:is,deps:[]},gP,{provide:_a,useFactory:function(){return aI},deps:[]},{provide:so,useFactory:function(){return lI},deps:[]},{provide:Ri,useFactory:function(n){return kh(n=n||"undefined"!=typeof $localize&&$localize.locale||tc),n},deps:[[new Fs(Ri),new xn,new Di]]},{provide:av,useValue:"USD"}];let uF=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ce(ss))},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:lF}),n})(),Ic=null;function Kr(){return Ic}const Xt=new Je("DocumentToken");let ls=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({factory:ck,token:n,providedIn:"platform"}),n})();function ck(){return Ce(zv)}const uk=new Je("Location Initialized");let zv=(()=>{class n extends ls{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kr().getBaseHref(this._doc)}onPopState(t){const r=Kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Yv()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Yv()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Ce(Xt))},n.\u0275prov=ke({factory:dk,token:n,providedIn:"platform"}),n})();function Yv(){return!!window.history.pushState}function dk(){return new zv(Ce(Xt))}function jf(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Kv(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function di(n){return n&&"?"!==n[0]?"?"+n:n}let yo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({factory:hk,token:n,providedIn:"root"}),n})();function hk(n){const e=Ce(Xt).location;return new Qv(Ce(ls),e&&e.origin||"")}const Uf=new Je("appBaseHref");let Qv=(()=>{class n extends yo{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jf(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(ls),Ce(Uf,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),fk=(()=>{class n extends yo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(ls),Ce(Uf,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),Rc=(()=>{class n{constructor(t,r){this._subject=new dt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Kv(Xv(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Xv(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(Ce(yo),Ce(ls))},n.normalizeQueryParams=di,n.joinWithSlash=jf,n.stripTrailingSlash=Kv,n.\u0275prov=ke({factory:pk,token:n,providedIn:"root"}),n})();function pk(){return new Rc(Ce(yo),Ce(ls))}function Xv(n){return n.replace(/\/index.html$/,"")}var $t=(()=>(($t=$t||{})[$t.Zero=0]="Zero",$t[$t.One=1]="One",$t[$t.Two=2]="Two",$t[$t.Few=3]="Few",$t[$t.Many=4]="Many",$t[$t.Other=5]="Other",$t))();const Ek=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=bC(e);if(t)return t;const r=e.split("-")[0];if(t=bC(r),t)return t;if("en"===r)return Bx;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[De.PluralCase]};class Uc{}let Xk=(()=>{class n extends Uc{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ek(r||this.locale)(t)){case $t.Zero:return"zero";case $t.One:return"one";case $t.Two:return"two";case $t.Few:return"few";case $t.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Ce(Ri))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function o0(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Hc=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(la(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${pe(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(ue(_a),ue(so),ue(St),ue(qr))},n.\u0275dir=Se({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Zk{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let La=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new Zk(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new a0(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new a0(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ue(vr),ue(gt),ue(_a))},n.\u0275dir=Se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class a0{constructor(e,t){this.record=e,this.view=t}}let Va=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){l0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){l0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ue(vr),ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tO{constructor(){this.$implicit=null,this.ngIf=null}}function l0(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pe(e)}'.`)}let u0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(ue(St),ue(so),ue(qr))},n.\u0275dir=Se({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Jf=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(ue(vr))},n.\u0275dir=Se({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ut]}),n})(),h0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:[{provide:Uc,useClass:Xk}]}),n})();const f0="browser";function p0(n){return n===f0}let g0=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>new xO(Ce(Xt),window)}),n})();class xO{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=m0(this.window.history)||m0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function m0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _0{}class tp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Ic||(Ic=n)}(new tp)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null);return null==t?null:function(n){$c=$c||document.createElement("a"),$c.setAttribute("href",n);const e=$c.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return o0(document.cookie,e)}}let $c,Ba=null;const y0=new Je("TRANSITION_ID"),kO=[{provide:fo,useFactory:function(n,e,t){return()=>{t.get(po).donePromise.then(()=>{const r=Kr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[y0,Xt,at],multi:!0}];class np{static init(){!function(n){Af=n}(new np)}addToWindow(e){mt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements(),mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(r=>{const i=mt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Kr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let OO=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const ja=new Je("EventManagerPlugins");let Wc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Ce(ja),Ce(Lt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class rp{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Kr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let b0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),Ua=(()=>{class n extends b0{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(v0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(v0))}}return n.\u0275fac=function(t){return new(t||n)(Ce(Xt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function v0(n){Kr().remove(n)}const ip={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sp=/%COMP%/g;function qc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?qc(n,i,t):(i=i.replace(sp,n),t.push(i))}return t}function w0(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let op=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ap(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case zt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new QO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case zt.ShadowDom:return new XO(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=qc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Ce(Wc),Ce(Ua),Ce(Ia))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class ap{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ip[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ip[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ip[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ln.DashCase|Ln.Important)?e.style.setProperty(t,r,i&Ln.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,w0(r)):this.eventManager.addEventListener(e,t,w0(r))}}class QO extends ap{constructor(e,t,r,i){super(e),this.component=r;const s=qc(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(sp,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(sp,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class XO extends ap{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=qc(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let JO=(()=>{class n extends rp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Ce(Xt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const T0=["alt","control","meta","shift"],sN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aN=(()=>{class n extends rp{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(T0.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&x0.hasOwnProperty(e)&&(e=x0[e]))}return sN[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),T0.forEach(s=>{s!=i&&oN[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(Ce(Xt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const gN=mv(rF,"browser",[{provide:go,useValue:f0},{provide:sv,useValue:function(){tp.makeCurrent(),np.init()},multi:!0},{provide:Xt,useFactory:function(){return function(n){Zu=n}(document),document},deps:[]}]),mN=[[],{provide:sa,useValue:"root"},{provide:Ji,useFactory:function(){return new Ji},deps:[]},{provide:ja,useClass:JO,multi:!0,deps:[Xt,Lt,go]},{provide:ja,useClass:aN,multi:!0,deps:[Xt]},[],{provide:op,useClass:op,deps:[Wc,Ua,Ia]},{provide:ac,useExisting:op},{provide:b0,useExisting:Ua},{provide:Ua,useClass:Ua,deps:[Xt]},{provide:Ef,useClass:Ef,deps:[Lt]},{provide:Wc,useClass:Wc,deps:[ja,Lt]},{provide:_0,useClass:OO,deps:[]},[]];let _N=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ia,useValue:t.appId},{provide:y0,useExisting:Ia},kO]}}}return n.\u0275fac=function(t){return new(t||n)(Ce(n,12))},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:mN,imports:[h0,uF]}),n})();function He(...n){let e=n[n.length-1];return re(e)?(n.pop(),Pe(n,e)):Dn(n)}function Co(n,e){return Xe(n,e,1)}function jn(n,e){return function(r){return r.lift(new DN(n,e))}}"undefined"!=typeof window&&window;class DN{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new SN(e,this.predicate,this.thisArg))}}class SN extends L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}class I0{}class R0{}class fi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class TN{encodeKey(e){return P0(e)}encodeValue(e){return P0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const MN=/%(\d[a-f0-9])/gi,IN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function P0(n){return encodeURIComponent(n).replace(MN,(e,t)=>{var r;return null!==(r=IN[t])&&void 0!==r?r:e})}function F0(n){return`${n}`}class ki{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ki({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(F0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(F0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class RN{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function k0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function O0(n){return"undefined"!=typeof Blob&&n instanceof Blob}function N0(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ha{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new fi),this.context||(this.context=new RN),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ki,this.urlWithParams=t}serializeBody(){return null===this.body?null:k0(this.body)||O0(this.body)||N0(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ki?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||N0(this.body)?null:O0(this.body)?this.body.type||null:k0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const p=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((_,D)=>_.set(D,e.setHeaders[D]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((_,D)=>_.set(D,e.setParams[D]),d)),new Ha(r,i,o,{params:d,headers:c,context:p,reportProgress:l,responseType:s,withCredentials:a})}}var Wt=(()=>((Wt=Wt||{})[Wt.Sent=0]="Sent",Wt[Wt.UploadProgress=1]="UploadProgress",Wt[Wt.ResponseHeader=2]="ResponseHeader",Wt[Wt.DownloadProgress=3]="DownloadProgress",Wt[Wt.Response=4]="Response",Wt[Wt.User=5]="User",Wt))();class hp{constructor(e,t=200,r="OK"){this.headers=e.headers||new fi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fp extends hp{constructor(e={}){super(e),this.type=Wt.ResponseHeader}clone(e={}){return new fp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zc extends hp{constructor(e={}){super(e),this.type=Wt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class L0 extends hp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let V0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ha)s=t;else{let l,c;l=i.headers instanceof fi?i.headers:new fi(i.headers),i.params&&(c=i.params instanceof ki?i.params:new ki({fromObject:i.params})),s=new Ha(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=He(s).pipe(Co(l=>this.handler.handle(l)));if(t instanceof Ha||"events"===i.observe)return o;const a=o.pipe(jn(l=>l instanceof zc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(A(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(A(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(A(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(A(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ki).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,pp(i,r))}post(t,r,i={}){return this.request("POST",t,pp(i,r))}put(t,r,i={}){return this.request("PUT",t,pp(i,r))}}return n.\u0275fac=function(t){return new(t||n)(Ce(I0))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class B0{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const j0=new Je("HTTP_INTERCEPTORS");let kN=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const ON=/^\)\]\}',?\n/;let U0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((D,k)=>i.setRequestHeader(D,k.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const D=t.detectContentTypeHeader();null!==D&&i.setRequestHeader("Content-Type",D)}if(t.responseType){const D=t.responseType.toLowerCase();i.responseType="json"!==D?D:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const D=1223===i.status?204:i.status,k=i.statusText||"OK",te=new fi(i.getAllResponseHeaders()),K=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new fp({headers:te,status:D,statusText:k,url:K}),o},l=()=>{let{headers:D,status:k,statusText:te,url:K}=a(),de=null;204!==k&&(de=void 0===i.response?i.responseText:i.response),0===k&&(k=de?200:0);let ae=k>=200&&k<300;if("json"===t.responseType&&"string"==typeof de){const Ae=de;de=de.replace(ON,"");try{de=""!==de?JSON.parse(de):null}catch(Ie){de=Ae,ae&&(ae=!1,de={error:Ie,text:de})}}ae?(r.next(new zc({body:de,headers:D,status:k,statusText:te,url:K||void 0})),r.complete()):r.error(new L0({error:de,headers:D,status:k,statusText:te,url:K||void 0}))},c=D=>{const{url:k}=a(),te=new L0({error:D,status:i.status||0,statusText:i.statusText||"Unknown Error",url:k||void 0});r.error(te)};let d=!1;const p=D=>{d||(r.next(a()),d=!0);let k={type:Wt.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),"text"===t.responseType&&!!i.responseText&&(k.partialText=i.responseText),r.next(k)},_=D=>{let k={type:Wt.UploadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),r.next(k)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",p),null!==s&&i.upload&&i.upload.addEventListener("progress",_)),i.send(s),r.next({type:Wt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==s&&i.upload&&i.upload.removeEventListener("progress",_)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Ce(_0))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const gp=new Je("XSRF_COOKIE_NAME"),mp=new Je("XSRF_HEADER_NAME");class H0{}let LN=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=o0(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Ce(Xt),Ce(go),Ce(gp))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),_p=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(H0),Ce(mp))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),VN=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(j0,[]);this.chain=r.reduceRight((i,s)=>new B0(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(R0),Ce(at))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),BN=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:_p,useClass:kN}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:gp,useValue:t.cookieName}:[],t.headerName?{provide:mp,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:[_p,{provide:j0,useExisting:_p,multi:!0},{provide:H0,useClass:LN},{provide:gp,useValue:"XSRF-TOKEN"},{provide:mp,useValue:"X-XSRF-TOKEN"}]}),n})(),jN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:[V0,{provide:I0,useClass:VN},U0,{provide:R0,useExisting:U0}],imports:[[BN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function Yc(n,e){return new v(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=ht(n[a]);let c=!1;t.add(l.subscribe({next:d=>{c||(c=!0,o++),i[a]=d},error:d=>t.error(d),complete:()=>{s++,(s===r||!c)&&(o===r&&t.next(e?e.reduce((d,p,_)=>(d[p]=i[_],d),{}):i),t.complete())}}))}})}let $0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ue(qr),ue(St))},n.\u0275dir=Se({type:n}),n})(),cs=(()=>{class n extends $0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kn(n)))(r||n)}}(),n.\u0275dir=Se({type:n,features:[wt]}),n})();const Mr=new Je("NgValueAccessor"),$N={provide:Mr,useExisting:xe(()=>Kc),multi:!0},WN=new Je("CompositionEventMode");let Kc=(()=>{class n extends $0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Kr()?Kr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ue(qr),ue(St),ue(WN,8))},n.\u0275dir=Se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ut("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Dt([$N]),wt]}),n})();const fn=new Je("NgValidators"),Ni=new Je("NgAsyncValidators");function eE(n){return null!=n}function tE(n){const e=ua(n)?ht(n):n;return Zl(e),e}function nE(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function rE(n,e){return e.map(t=>t(n))}function iE(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function yp(n){return null!=n?function(n){if(!n)return null;const e=n.filter(eE);return 0==e.length?null:function(t){return nE(rE(t,e))}}(iE(n)):null}function Cp(n){return null!=n?function(n){if(!n)return null;const e=n.filter(eE);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(I(e))return Yc(e,null);if(B(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Yc(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Yc(n=1===n.length&&I(n[0])?n[0]:n,null).pipe(A(t=>e(...t)))}return Yc(n,null)}(rE(t,e).map(tE)).pipe(A(nE))}}(iE(n)):null}function aE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bp(n){return n?Array.isArray(n)?n:[n]:[]}function Qc(n,e){return Array.isArray(n)?n.includes(e):n===e}function uE(n,e){const t=bp(e);return bp(n).forEach(i=>{Qc(t,i)||t.push(i)}),t}function dE(n,e){return bp(e).filter(t=>!Qc(n,t))}let hE=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Se({type:n}),n})(),An=(()=>{class n extends hE{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kn(n)))(r||n)}}(),n.\u0275dir=Se({type:n,features:[wt]}),n})();class Vi extends hE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let pE=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ue(Vi,2))},n.\u0275dir=Se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&tr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[wt]}),n})();function $a(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(aE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(aE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eu(e._rawValidators,i),eu(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gE(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function eu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ga="VALID",ru="INVALID",bo="PENDING",Wa="DISABLED";function Sp(n){return(xp(n)?n.validators:n)||null}function yE(n){return Array.isArray(n)?yp(n):n||null}function Tp(n,e){return(xp(e)?e.asyncValidators:n)||null}function CE(n){return Array.isArray(n)?Cp(n):n||null}function xp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Mp{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=yE(this._rawValidators),this._composedAsyncValidatorFn=CE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ga}get invalid(){return this.status===ru}get pending(){return this.status==bo}get disabled(){return this.status===Wa}get enabled(){return this.status!==Wa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CE(e)}addValidators(e){this.setValidators(uE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dE(e,this._rawAsyncValidators))}hasValidator(e){return Qc(this._rawValidators,e)}hasAsyncValidator(e){return Qc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ga,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ga||this.status===bo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wa:Ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bo,this._hasOwnPendingAsyncValidator=!0;const t=tE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof Ip?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof oL&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?Wa:this.errors?ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bo)?bo:this._anyControlsHaveStatus(ru)?ru:Ga}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class iu extends Mp{constructor(e=null,t,r){super(Sp(t),Tp(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ip extends Mp{constructor(e,t,r){super(Sp(t),Tp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof iu?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class oL extends Mp{constructor(e,t,r){super(Sp(t),Tp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof iu?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cL={provide:Vi,useExisting:xe(()=>Pp)},EE=(()=>Promise.resolve(null))();let Pp=(()=>{class n extends Vi{constructor(t,r,i,s){super(),this.control=new iu,this._registered=!1,this.update=new dt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Kc?t=s:function(n){return Object.getPrototypeOf(n.constructor)===cs}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$a(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){EE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;EE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(ue(An,9),ue(fn,10),ue(Ni,10),ue(Mr,10))},n.\u0275dir=Se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dt([cL]),wt,Ut]}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({}),n})(),UE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({imports:[[wE]]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({imports:[UE]}),n})();const vo=new v(n=>n.complete());function su(n){return n?function(n){return new v(e=>n.schedule(()=>e.complete()))}(n):vo}function ou(n){return new v(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?ht(t):su()).subscribe(e)})}function HE(n,e){return new v(e?t=>e.schedule(NL,0,{error:n,subscriber:t}):t=>t.error(n))}function NL({error:n,subscriber:e}){e.error(n)}function us(n,e,t,r){return h(t)&&(r=t,t=void 0),r?us(n,e,t).pipe(A(i=>I(i)?r(...i):r(i))):new v(i=>{$E(n,e,function(o){i.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},i,t)})}function $E(n,e,t,r,i){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,i),s=()=>o.removeEventListener(e,t,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),s=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)$E(n[o],e,t,r,i)}r.add(s)}function au(...n){return jt(1)(He(...n))}function pi(){}const ds=new v(pi);function or(n,e){return"function"==typeof e?t=>t.pipe(or((r,i)=>ht(n(r,i)).pipe(A((s,o)=>e(r,s,i,o))))):t=>t.lift(new UL(n))}class UL{constructor(e){this.project=e}call(e,t){return t.subscribe(new HL(e,this.project))}}class HL extends Qe{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Mt(this),i=this.destination;i.add(r),this.innerSubscription=Tt(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const GE=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function gi(n){return e=>0===n?su():e.lift(new GL(n))}class GL{constructor(e){if(this.total=e,this.total<0)throw new GE}call(e,t){return t.subscribe(new WL(e,this.total))}}class WL extends L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function wn(n,e,t){return function(i){return i.lift(new qL(n,e,t))}}class qL{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new zL(e,this.nextOrObserver,this.error,this.complete))}}class zL extends L{constructor(e,t,r,i){super(e),this._tapNext=pi,this._tapError=pi,this._tapComplete=pi,this._tapError=r||pi,this._tapComplete=i||pi,h(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||pi,this._tapError=t.error||pi,this._tapComplete=t.complete||pi)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class YL extends j{constructor(e,t){super()}schedule(e,t=0){return this}}class jp extends YL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let WE=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class Qr extends WE{constructor(e,t=WE.now){super(e,()=>Qr.delegate&&Qr.delegate!==this?Qr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Qr.delegate&&Qr.delegate!==this?Qr.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const lu=new Qr(jp);class Ir{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return He(this.value);case"E":return HE(this.error);case"C":return su()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Ir("N",e):Ir.undefinedValueNotification}static createError(e){return new Ir("E",void 0,e)}static createComplete(){return Ir.completeNotification}}Ir.completeNotification=new Ir("C"),Ir.undefinedValueNotification=new Ir("N",void 0);class XL{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Up(e,this.delay,this.scheduler))}}class Up extends L{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,i=e.scheduler,s=e.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const o=Math.max(0,r[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Up.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new JL(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Ir.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Ir.createComplete()),this.unsubscribe()}}class JL{constructor(e,t){this.time=e,this.notification=t}}const za="Service workers are disabled or not supported by this browser";class cu{constructor(e){if(this.serviceWorker=e,e){const r=us(e,"controllerchange").pipe(A(()=>e.controller)),s=au(ou(()=>He(e.controller)),r);this.worker=s.pipe(jn(d=>!!d)),this.registration=this.worker.pipe(or(()=>e.getRegistration()));const c=us(e,"message").pipe(A(d=>d.data)).pipe(jn(d=>d&&d.type)).pipe(Po(new q));c.connect(),this.events=c}else this.worker=this.events=this.registration=ou(()=>HE(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe(gi(1),wn(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithStatus(e,t,r){const i=this.waitForStatus(r),s=this.postMessage(e,t);return Promise.all([i,s]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe(jn(r=>r.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe(gi(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe(jn(t=>t.nonce===e),gi(1),A(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let e2=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new q,!t.isEnabled)return this.messages=ds,this.notificationClicks=ds,void(this.subscription=ds);this.messages=this.sw.eventsOfType("PUSH").pipe(A(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(A(i=>i.data)),this.pushManager=this.sw.registration.pipe(A(i=>i.pushManager));const r=this.pushManager.pipe(or(i=>i.getSubscription()));this.subscription=ft(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(za));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(or(o=>o.subscribe(r)),gi(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(gi(1),or(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(za))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(cu))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),t2=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=ds,this.activated=ds,void(this.unrecoverable=ds);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(za));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(za));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(cu))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class Hp{}const qE=new Je("NGSW_REGISTER_SCRIPT");function n2(n,e,t,r){return()=>{if(!p0(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=He(null);break;case"registerWithDelay":s=zE(+l[0]||0);break;case"registerWhenStable":s=l[0]?ft(YE(n),zE(+l[0])):YE(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Lt).runOutsideAngular(()=>s.pipe(gi(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function zE(n){return He(null).pipe(function(n,e=lu){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return i=>i.lift(new XL(r,e))}(n))}function YE(n){return n.get(ss).isStable.pipe(jn(t=>t))}function r2(n,e){return new cu(p0(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let i2=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:qE,useValue:t},{provide:Hp,useValue:r},{provide:cu,useFactory:r2,deps:[Hp,go]},{provide:fo,useFactory:n2,deps:[at,qE,Hp,go],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:[e2,t2]}),n})();function Eo(n){return e=>e.lift(new s2(n))}class s2{constructor(e){this.notifier=e}call(e,t){const r=new o2(e),i=Tt(this.notifier,new Mt(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class o2 extends Qe{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class l2{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new c2(e,this.durationSelector))}}class c2 extends Qe{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=Tt(t,new Mt(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function KE(n){return!I(n)&&n-parseFloat(n)+1>=0}function d2(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function QE(...n){const e=n[n.length-1];return re(e)?(n.pop(),t=>au(n,t,e)):t=>au(n,t)}class p2{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new g2(e,this.dueTime,this.scheduler))}}class g2 extends L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m2,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function m2(n){n.debouncedNext()}const C2=new class extends Qr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let b2=1;const v2=Promise.resolve(),uu={};function XE(n){return n in uu&&(delete uu[n],!0)}const JE={setImmediate(n){const e=b2++;return uu[e]=!0,v2.then(()=>XE(e)&&n()),e},clearImmediate(n){XE(n)}},w2=new class extends Qr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=JE.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(JE.clearImmediate(t),e.scheduled=void 0)}}),D2=["content"],S2=["scroll"],T2=["padding"],Ya=function(n){return{searchTerm:n}};function x2(n,e){if(1&n&&(ge(0,"div",6),Dh(1,7),me()),2&n){const t=Te();Re(1),Ve("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",ci(2,Ya,t.filterValue))}}function M2(n,e){if(1&n&&(ge(0,"div",8),Dh(1,7),me()),2&n){const t=Te();Re(1),Ve("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",ci(2,Ya,t.filterValue))}}const ZE=["*"],I2=["searchInput"];function R2(n,e){if(1&n){const t=er();ge(0,"span",15),ut("click",function(){pt(t);const i=Te().$implicit;return Te(2).unselect(i)}),Ue(1,"\xd7"),me(),Ct(2,"span",16)}if(2&n){const t=Te().$implicit,r=Te(2);Re(2),Ve("ngItemLabel",t.label)("escape",r.escapeHTML)}}function P2(n,e){}const F2=function(n,e,t){return{item:n,clear:e,label:t}};function k2(n,e){if(1&n&&(ge(0,"div",12),et(1,R2,3,2,"ng-template",null,13,Yr),et(3,P2,0,0,"ng-template",14),me()),2&n){const t=e.$implicit,r=Zn(2),i=Te(2);tr("ng-value-disabled",t.disabled),Re(3),Ve("ngTemplateOutlet",i.labelTemplate||r)("ngTemplateOutletContext",rf(4,F2,t.value,i.clearItem,t.label))}}function O2(n,e){if(1&n&&(Hr(0),et(1,k2,4,8,"div",11),$r()),2&n){const t=Te();Re(1),Ve("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function N2(n,e){}const L2=function(n,e){return{items:n,clear:e}};function V2(n,e){if(1&n&&et(0,N2,0,0,"ng-template",14),2&n){const t=Te();Ve("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",Rb(2,L2,t.selectedValues,t.clearItem))}}function B2(n,e){1&n&&Ct(0,"div",19)}function j2(n,e){}function U2(n,e){if(1&n&&(Hr(0),et(1,B2,1,0,"ng-template",null,17,Yr),et(3,j2,0,0,"ng-template",18),$r()),2&n){const t=Zn(2),r=Te();Re(3),Ve("ngTemplateOutlet",r.loadingSpinnerTemplate||t)}}function H2(n,e){1&n&&(ge(0,"span",20),ge(1,"span",21),Ue(2,"\xd7"),me(),me()),2&n&&Mh("title",Te().clearAllText)}function $2(n,e){if(1&n&&Ct(0,"span",27),2&n){const t=Te().$implicit,r=Te(2);Ve("ngItemLabel",t.label)("escape",r.escapeHTML)}}function G2(n,e){}const W2=function(n,e,t,r){return{item:n,item$:e,index:t,searchTerm:r}};function q2(n,e){if(1&n){const t=er();ge(0,"div",25),ut("click",function(){const s=pt(t).$implicit;return Te(2).toggleItem(s)})("mouseover",function(){const s=pt(t).$implicit;return Te(2).onItemHover(s)}),et(1,$2,1,2,"ng-template",null,26,Yr),et(3,G2,0,0,"ng-template",14),me()}if(2&n){const t=e.$implicit,r=Zn(2),i=Te(2);tr("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===i.itemsList.markedItem),Bn("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),Re(3),Ve("ngTemplateOutlet",t.children?i.optgroupTemplate||r:i.optionTemplate||r)("ngTemplateOutletContext",sf(17,W2,t.value,t,t.index,i.searchTerm))}}function z2(n,e){if(1&n&&(ge(0,"span"),ge(1,"span",30),Ue(2),me(),Ue(3),me()),2&n){const t=Te(3);Re(2),br(t.addTagText),Re(1),li('"',t.searchTerm,'"')}}function Y2(n,e){}function K2(n,e){if(1&n){const t=er();ge(0,"div",28),ut("mouseover",function(){return pt(t),Te(2).itemsList.unmarkItem()})("click",function(){return pt(t),Te(2).selectTag()}),et(1,z2,4,2,"ng-template",null,29,Yr),et(3,Y2,0,0,"ng-template",14),me()}if(2&n){const t=Zn(2),r=Te(2);tr("ng-option-marked",!r.itemsList.markedItem),Re(3),Ve("ngTemplateOutlet",r.tagTemplate||t)("ngTemplateOutletContext",ci(4,Ya,r.searchTerm))}}function Q2(n,e){if(1&n&&(ge(0,"div",32),Ue(1),me()),2&n){const t=Te(3);Re(1),br(t.notFoundText)}}function X2(n,e){}function J2(n,e){if(1&n&&(Hr(0),et(1,Q2,2,1,"ng-template",null,31,Yr),et(3,X2,0,0,"ng-template",14),$r()),2&n){const t=Zn(2),r=Te(2);Re(3),Ve("ngTemplateOutlet",r.notFoundTemplate||t)("ngTemplateOutletContext",ci(2,Ya,r.searchTerm))}}function Z2(n,e){if(1&n&&(ge(0,"div",32),Ue(1),me()),2&n){const t=Te(3);Re(1),br(t.typeToSearchText)}}function eV(n,e){}function tV(n,e){if(1&n&&(Hr(0),et(1,Z2,2,1,"ng-template",null,33,Yr),et(3,eV,0,0,"ng-template",18),$r()),2&n){const t=Zn(2),r=Te(2);Re(3),Ve("ngTemplateOutlet",r.typeToSearchTemplate||t)}}function nV(n,e){if(1&n&&(ge(0,"div",32),Ue(1),me()),2&n){const t=Te(3);Re(1),br(t.loadingText)}}function rV(n,e){}function iV(n,e){if(1&n&&(Hr(0),et(1,nV,2,1,"ng-template",null,34,Yr),et(3,rV,0,0,"ng-template",14),$r()),2&n){const t=Zn(2),r=Te(2);Re(3),Ve("ngTemplateOutlet",r.loadingTextTemplate||t)("ngTemplateOutletContext",ci(2,Ya,r.searchTerm))}}function sV(n,e){if(1&n){const t=er();ge(0,"ng-dropdown-panel",22),ut("update",function(i){return pt(t),Te().viewPortItems=i})("scroll",function(i){return pt(t),Te().scroll.emit(i)})("scrollToEnd",function(i){return pt(t),Te().scrollToEnd.emit(i)})("outsideClick",function(){return pt(t),Te().close()}),Hr(1),et(2,q2,4,22,"div",23),et(3,K2,4,6,"div",24),$r(),et(4,J2,4,4,"ng-container",3),et(5,tV,4,1,"ng-container",3),et(6,iV,4,4,"ng-container",3),me()}if(2&n){const t=Te();tr("ng-select-multiple",t.multiple),Ve("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),Re(2),Ve("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),Re(1),Ve("ngIf",t.showAddTag),Re(1),Ve("ngIf",t.showNoItemsFound()),Re(1),Ve("ngIf",t.showTypeToSearch()),Re(1),Ve("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const eA=/[&<>"']/g,oV=RegExp(eA.source),aV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qt(n){return null!=n}function Ka(n){return"object"==typeof n&&qt(n)}function du(n){return n instanceof Function}let uV=(()=>{class n{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function(n){return n&&oV.test(n)?n.replace(eA,e=>aV[e]):n}(this.ngItemLabel):this.ngItemLabel}}return n.\u0275fac=function(t){return new(t||n)(ue(St))},n.\u0275dir=Se({type:n,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[Ut]}),n})(),tA=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-option-tmp",""]]}),n})(),dV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-optgroup-tmp",""]]}),n})(),hV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-label-tmp",""]]}),n})(),fV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-multi-label-tmp",""]]}),n})(),pV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-header-tmp",""]]}),n})(),gV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-footer-tmp",""]]}),n})(),mV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-notfound-tmp",""]]}),n})(),_V=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-typetosearch-tmp",""]]}),n})(),yV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-loadingtext-tmp",""]]}),n})(),CV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-tag-tmp",""]]}),n})(),bV=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ue(gt))},n.\u0275dir=Se({type:n,selectors:[["","ng-loadingspinner-tmp",""]]}),n})(),vV=(()=>{class n{warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({factory:function(){return new n},token:n,providedIn:"root"}),n})();function nA(){return"axxxxxxxxxxx".replace(/[x]/g,function(n){return(16*Math.random()|0).toString(16)})}const EV={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function hu(n){return n.replace(/[^\u0000-\u007E]/g,t=>EV[t]||t)}class AV{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){let t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((t,r)=>this.mapItem(t,r)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){!e.selected||(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&qt(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?r=>this._ngSelect.compareWith(r.value,e):this._ngSelect.bindValue?r=>!r.children&&this.resolveNested(r.value,this._ngSelect.bindValue)===e:r=>r.value===e||!r.children&&r.label&&r.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(r=>t(r))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=hu(e).toLocaleLowerCase(),this.filteredItems.find(t=>hu(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:hu(e).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected;for(const i of Array.from(this._groups.keys())){const s=[];for(const o of this._groups.get(i))r&&(o.parent&&o.parent.selected||o.selected)||t(e,this._ngSelect.searchFn?o.value:o)&&s.push(o);if(s.length>0){const[o]=s.slice(-1);if(o.parent){const a=this._items.find(l=>l===o.parent);this._filteredItems.push(a)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(r=>!r.disabled):-1}resolveNested(e,t){if(!Ka(e))return e;if(-1===t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}mapItem(e,t){const r=qt(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=qt(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:qt(r)?r.toString():"",value:i,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const r=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,i=qt(r)?this.findItem(r):null;this._selectionModel.unselect(t,e),this._selectionModel.select(i||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(i=>i===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,r)=>t.index-r.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(r=>r.selected)&&(this._filteredItems=this._filteredItems.filter(r=>r!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return hu(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const r=new Map;if(0===e.length)return r;if(Array.isArray(e[0].value[t])){for(const o of e){const a=(o.value[t]||[]).map((l,c)=>this.mapItem(l,c));r.set(o,a)}return r}const i=du(this._ngSelect.groupBy),s=o=>{let a=i?t(o.value):o.value[t];return qt(a)?a:void 0};for(const o of e){let a=s(o);const l=r.get(a);l?l.push(o):r.set(a,[o])}return r}_flatten(e){const t=du(this._ngSelect.groupBy),r=[];for(const i of Array.from(e.keys())){let s=r.length;if(void 0===i){const p=e.get(void 0)||[];r.push(...p.map(_=>(_.index=s++,_)));continue}const o=Ka(i),a={label:o?"":String(i),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:nA()},l=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>o?i.value:{[l]:i}),d=e.get(i).map(p=>(p.parent=a,p.children=void 0,p.index=s++,p));a.children=d,a.value=c(i,d.map(p=>p.value)),r.push(a),r.push(...d)}return r}}var Rr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace"}(Rr||(Rr={})),Rr))();let rA=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,r,i){const s=this._dimensions,o=s.itemHeight*r,l=Math.max(0,t)/o*r;let c=Math.min(r,Math.ceil(l)+(s.itemsPerViewport+1));const p=Math.max(0,c-s.itemsPerViewport);let _=Math.min(p,Math.floor(l)),D=s.itemHeight*Math.ceil(_)-s.itemHeight*Math.min(_,i);return D=isNaN(D)?0:D,_=isNaN(_)?-1:_,c=isNaN(c)?-1:c,_-=i,_=Math.max(0,_),c+=i,c=Math.min(r,c),{topPadding:D,scrollHeight:o,start:_,end:c}}setDimensions(t,r){const i=Math.max(1,Math.floor(r/t));this._dimensions={itemHeight:t,panelHeight:r,itemsPerViewport:i}}getScrollTo(t,r,i){const{panelHeight:s}=this.dimensions,o=t+r,l=i+s;return s>=o&&i===t?null:o>l?i+o-l:t<=i?t:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const fu="ng-select-top",pu="ng-select-bottom",wV="undefined"!=typeof requestAnimationFrame?C2:w2;let iA=(()=>{class n{constructor(t,r,i,s,o){this._renderer=t,this._zone=r,this._panelService=i,this._document=o,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new dt,this.scroll=new dt,this.scrollToEnd=new dt,this.outsideClick=new dt,this._destroy$=new q,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=s.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:r}=this._panelService.dimensions,i=this.markedItem.index*t;return r>i?0:i}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const r=t.items;this._onItemsChange(r.currentValue,r.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,r=!1){if(!t)return;const i=this.items.indexOf(t);if(i<0||i>=this.itemsLength)return;let s;if(this.virtualScroll){const o=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(i*o,o,this._lastScrollPosition)}else{const o=this._dropdown.querySelector(`#${t.htmlId}`);s=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,r?o.offsetTop:this._lastScrollPosition)}qt(s)&&(this._scrollablePanel.scrollTop=s)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,fu),this._renderer.removeClass(this._dropdown,pu),this._renderer.addClass(this._select,fu),this._renderer.removeClass(this._select,pu)):(this._renderer.addClass(this._dropdown,pu),this._renderer.removeClass(this._dropdown,fu),this._renderer.addClass(this._select,pu),this._renderer.removeClass(this._select,fu)),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_handleScroll(){this._zone.runOutsideAngular(()=>{us(this.scrollElementRef.nativeElement,"scroll").pipe(Eo(this._destroy$),function(n,e=lu){return function(n){return function(t){return t.lift(new l2(n))}}(()=>function(n=0,e,t){let r=-1;return KE(e)?r=Number(e)<1?1:Number(e):re(e)&&(t=e),re(t)||(t=lu),new v(i=>{const s=KE(n)?n:+n-t.now();return t.schedule(d2,s,{index:0,period:r,subscriber:i})})}(n,e))}(0,wV)).subscribe(t=>{const r=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(r&&0!==r.length?r[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{ft(us(this._document,"touchstart",{capture:!0}),us(this._document,"mousedown",{capture:!0})).pipe(Eo(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const r=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&r&&r[0]&&this._select.contains(r[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,r){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const r=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(r.scrollHeight),this._contentPanel.style.transform=`translateY(${r.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(r.start,r.end)),this.scroll.emit({start:r.start,end:r.end})}),qt(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const i=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=i*this.itemsLength+"px",this._panelService.setDimensions(i,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const r=this._select.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop;return r.top+window.pageYOffset+r.height+t.getBoundingClientRect().height>i+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-r.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),i=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=r.bottom-t.bottom+i+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-r.top+i+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{us(this._dropdown,"mousedown").pipe(Eo(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return n.\u0275fac=function(t){return new(t||n)(ue(qr),ue(Lt),ue(rA),ue(St),ue(Xt,8))},n.\u0275cmp=ni({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,r){if(1&t&&(Ii(D2,7,St),Ii(S2,7,St),Ii(T2,7,St)),2&t){let i;Ot(i=Nt())&&(r.contentElementRef=i.first),Ot(i=Nt())&&(r.scrollElementRef=i.first),Ot(i=Nt())&&(r.paddingElementRef=i.first)}},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Ut],ngContentSelectors:ZE,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,r){1&t&&(Th(),et(0,x2,2,4,"div",0),ge(1,"div",1,2),Ct(3,"div",null,3),ge(5,"div",null,4),xh(7),me(),me(),et(8,M2,2,4,"div",5)),2&t&&(Ve("ngIf",r.headerTemplate),Re(3),tr("total-padding",r.virtualScroll),Re(2),tr("scrollable-content",r.virtualScroll&&r.items.length),Re(3),Ve("ngIf",r.footerTemplate))},directives:[Va,Jf],encapsulation:2,changeDetection:0}),n})(),DV=(()=>{class n{constructor(t){this.elementRef=t,this.stateChange$=new q,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return n.\u0275fac=function(t){return new(t||n)(ue(St))},n.\u0275cmp=ni({type:n,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[Ut],ngContentSelectors:ZE,decls:1,vars:0,template:function(t,r){1&t&&(Th(),xh(0))},encapsulation:2,changeDetection:0}),n})(),SV=(()=>{class n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({factory:function(){return new n},token:n,providedIn:"root"}),n})();const sA=new Je("ng-select-selection-model");let TV=(()=>{class n{constructor(t,r,i,s,o,a,l){this.classes=t,this.autoFocus=r,this._cd=a,this._console=l,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=c=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new dt,this.focusEvent=new dt,this.changeEvent=new dt,this.openEvent=new dt,this.closeEvent=new dt,this.searchEvent=new dt,this.clearEvent=new dt,this.addEvent=new dt,this.removeEvent=new dt,this.scroll=new dt,this.scrollToEnd=new dt,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=nA(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new q,this._keyPress$=new q,this._onChange=c=>{},this._onTouched=()=>{},this.clearItem=c=>{const d=this.selectedItems.find(p=>p.value===c);this.unselect(d)},this.trackByOption=(c,d)=>this.trackByFn?this.trackByFn(d.value):d,this._mergeGlobalConfig(i),this.itemsList=new AV(this,s()),this.element=o.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!du(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return qt(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=qt(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),qt(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(Rr[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case Rr.ArrowDown:this._handleArrowDown(t);break;case Rr.ArrowUp:this._handleArrowUp(t);break;case Rr.Space:this._handleSpace(t);break;case Rr.Enter:this._handleEnter(t);break;case Rr.Tab:this._handleTab(t);break;case Rr.Esc:this.close(),t.preventDefault();break;case Rr.Backspace:this._handleBackspace()}}handleMousedown(t){const r=t.target;"INPUT"!==r.tagName&&t.preventDefault(),r.classList.contains("ng-clear-wrapper")?this.handleClearClick():r.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){!t||(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=du(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const r=i=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(i,null):this.itemsList.addItem(i);!function(n){return n instanceof Promise}(t)?t&&this.select(r(t)):t.then(i=>this.select(r(i))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(r=>r.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(r=>r.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(r=>r.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const r=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=qt(r)?!Ka(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&qt(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=i=>{this.items=i.map(s=>({$ngOptionValue:s.value,$ngOptionLabel:s.elementRef.nativeElement.innerHTML,disabled:s.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},r=()=>{const i=ft(this.ngOptions.changes,this._destroy$);ft(...this.ngOptions.map(s=>s.stateChange$)).pipe(Eo(i)).subscribe(s=>{const o=this.itemsList.findItem(s.value);o.disabled=s.disabled,o.label=s.label||o.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(QE(this.ngOptions),Eo(this._destroy$)).subscribe(i=>{this.bindLabel=this._defaultLabel,t(i),r()})}_isValidWriteValue(t){if(!qt(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const r=i=>!(!qt(this.compareWith)&&Ka(i)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(i)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(i=>r(i)):(this._console.warn("Multiple select ngModel should be array."),!1):r(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const r=i=>{let s=this.itemsList.findItem(i);if(s)this.itemsList.select(s);else{const o=Ka(i),a=!o&&!this.bindValue;o||a?this.itemsList.select(this.itemsList.mapItem(i,null)):this.bindValue&&(s={[this.bindLabel]:null,[this.bindValue]:i},this.itemsList.select(this.itemsList.mapItem(s,null)))}};this.multiple?t.forEach(i=>r(i)):r(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Eo(this._destroy$),wn(t=>this._pressedKeys.push(t)),function(n,e=lu){return t=>t.lift(new p2(n,e))}(200),jn(()=>this._pressedKeys.length>0),A(()=>this._pressedKeys.join(""))).subscribe(t=>{const r=this.itemsList.findByLabel(t);r&&(this.isOpen?(this.itemsList.markItem(r),this._scrollToMarked(),this._cd.markForCheck()):this.select(r)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,r=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const i of Object.keys(r))t.setAttribute(i,r[i])}_updateNgModel(){const t=[];for(const i of this.selectedItems)if(this.bindValue){let s=null;s=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),t.push(s)}else t.push(i.value);const r=this.selectedItems.map(i=>i.value);this.multiple?(this._onChange(t),this.changeEvent.emit(r)):(this._onChange(qt(t[0])?t[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const r=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=qt(this.virtualScroll)?this.virtualScroll:!!qt(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=qt(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return n.\u0275fac=function(t){return new(t||n)(zi("class"),zi("autofocus"),ue(SV),ue(sA),ue(St),ue(cc),ue(vV))},n.\u0275cmp=ni({type:n,selectors:[["ng-select"]],contentQueries:function(t,r,i){if(1&t&&(bn(i,tA,5,gt),bn(i,dV,5,gt),bn(i,hV,5,gt),bn(i,fV,5,gt),bn(i,pV,5,gt),bn(i,gV,5,gt),bn(i,mV,5,gt),bn(i,_V,5,gt),bn(i,yV,5,gt),bn(i,CV,5,gt),bn(i,bV,5,gt),bn(i,DV,5)),2&t){let s;Ot(s=Nt())&&(r.optionTemplate=s.first),Ot(s=Nt())&&(r.optgroupTemplate=s.first),Ot(s=Nt())&&(r.labelTemplate=s.first),Ot(s=Nt())&&(r.multiLabelTemplate=s.first),Ot(s=Nt())&&(r.headerTemplate=s.first),Ot(s=Nt())&&(r.footerTemplate=s.first),Ot(s=Nt())&&(r.notFoundTemplate=s.first),Ot(s=Nt())&&(r.typeToSearchTemplate=s.first),Ot(s=Nt())&&(r.loadingTextTemplate=s.first),Ot(s=Nt())&&(r.tagTemplate=s.first),Ot(s=Nt())&&(r.loadingSpinnerTemplate=s.first),Ot(s=Nt())&&(r.ngOptions=s)}},viewQuery:function(t,r){if(1&t&&(Ii(iA,5),Ii(I2,7)),2&t){let i;Ot(i=Nt())&&(r.dropdownPanel=i.first),Ot(i=Nt())&&(r.searchInput=i.first)}},hostVars:20,hostBindings:function(t,r){1&t&&ut("keydown",function(s){return r.handleKeyDown(s)}),2&t&&tr("ng-select",r.useDefaultClass)("ng-select-single",!r.multiple)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select-disabled",r.disabled)("ng-select-filtered",r.filtered)("ng-select-typeahead",r.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Dt([{provide:Mr,useExisting:xe(()=>n),multi:!0},rA]),Ut],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,r){if(1&t){const i=er();ge(0,"div",0),ut("mousedown",function(o){return r.handleMousedown(o)}),ge(1,"div",1),ge(2,"div",2),Ue(3),me(),et(4,O2,2,2,"ng-container",3),et(5,V2,1,5,void 0,3),ge(6,"div",4),ge(7,"input",5,6),ut("input",function(){pt(i);const o=Zn(8);return r.filter(o.value)})("compositionstart",function(){return r.onCompositionStart()})("compositionend",function(){pt(i);const o=Zn(8);return r.onCompositionEnd(o.value)})("focus",function(o){return r.onInputFocus(o)})("blur",function(o){return r.onInputBlur(o)})("change",function(o){return o.stopPropagation()}),me(),me(),me(),et(9,U2,4,1,"ng-container",3),et(10,H2,3,1,"span",7),ge(11,"span",8),Ct(12,"span",9),me(),me(),et(13,sV,7,19,"ng-dropdown-panel",10)}2&t&&(tr("ng-appearance-outline","outline"===r.appearance)("ng-has-value",r.hasValue),Re(3),br(r.placeholder),Re(1),Ve("ngIf",(!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0),Re(1),Ve("ngIf",r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0),Re(1),Bn("aria-expanded",r.isOpen)("aria-owns",r.isOpen?r.dropdownId:null),Re(1),Ve("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("disabled",r.disabled)("value",r.searchTerm?r.searchTerm:""),Bn("id",r.labelForId)("tabindex",r.tabIndex)("aria-activedescendant",r.isOpen?null==r.itemsList||null==r.itemsList.markedItem?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null),Re(2),Ve("ngIf",r.loading),Re(1),Ve("ngIf",r.showClear()),Re(3),Ve("ngIf",r.isOpen))},directives:[Va,La,Jf,uV,iA,Hc],styles:['.ng-select{position:relative;display:block}.ng-select,.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border:2px solid rgba(66,66,66,.2);border-left-color:#424242;transform:translateZ(0);-webkit-animation:load8 .8s linear infinite;animation:load8 .8s linear infinite}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup,.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}'],encapsulation:2,changeDetection:0}),n})();class MV{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,r){if(e.selected=!0,(!e.children||!t&&r)&&this._selected.push(e),t)if(e.parent){const i=e.parent.children.length,s=e.parent.children.filter(o=>o.selected).length;e.parent.selected=i===s}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=r&&this._activeChildren(e)?[...this._selected.filter(i=>i.parent!==e),e]:[...this._selected,...e.children.filter(i=>!i.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(r=>r!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const r=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...r.filter(i=>i!==e&&!i.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(const r of e)r.disabled||(r.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}}const IV=function(){return new MV};let RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({providers:[{provide:sA,useValue:IV}],imports:[[h0]]}),n})();class Pr extends q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new U;return this._value}next(e){super.next(this._value=e)}}class PV extends L{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class FV extends L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function kV(n,e,t,r,i=new FV(n,t,r)){if(!i.closed)return e instanceof v?e.subscribe(i):fe(e)(i)}const oA={};class NV{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new LV(e,this.resultSelector))}}class LV extends PV{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(oA),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(kV(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,o=this.toRespond?i[r]===oA?--this.toRespond:this.toRespond:0;i[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const mu=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function aA(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new VV(n,e,t))}}class VV{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new BV(e,this.accumulator,this.seed,this.hasSeed))}}class BV extends L{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function hs(n){return function(t){const r=new jV(n),i=t.lift(r);return r.caught=i}}class jV{constructor(e){this.selector=e}call(e,t){return t.subscribe(new UV(e,this.selector,this.caught))}}class UV extends Qe{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Mt(this);this.add(r);const i=Tt(t,r);i!==r&&this.add(i)}}}function $p(n){return function(t){return 0===n?su():t.lift(new HV(n))}}class HV{constructor(e){if(this.total=e,this.total<0)throw new GE}call(e,t){return t.subscribe(new $V(e,this.total))}}class $V extends L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=t++%r;e.next(i[o])}}e.complete()}}function lA(n=qV){return e=>e.lift(new GV(n))}class GV{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new WV(e,this.errorFactory))}}class WV extends L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function qV(){return new mu}function cA(n=null){return e=>e.lift(new zV(n))}class zV{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new YV(e,this.defaultValue))}}class YV extends L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ao(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jn((i,s)=>n(i,s,r)):g,gi(1),t?cA(e):lA(()=>new mu))}class XV{constructor(e){this.callback=e}call(e,t){return t.subscribe(new JV(e,this.callback))}}class JV extends L{constructor(e,t){super(e),this.add(new j(t))}}class mi{constructor(e,t){this.id=e,this.url=t}}class Gp extends mi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qa extends mi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uA extends mi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZV extends mi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eB extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tB extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nB extends mi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rB extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iB extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hA{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sB{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oB{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aB{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lB{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class cB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wo(n){return new cB(n)}const pA="ngNavigationCancelingError";function Wp(n){const e=Error("NavigationCancelingError: "+n);return e[pA]=!0,e}function dB(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gA(n[i],e[i]))return!1;return!0}function gA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function mA(n){return Array.prototype.concat.apply([],n)}function _A(n){return n.length>0?n[n.length-1]:null}function on(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Jr(n){return Zl(n)?n:ua(n)?ht(Promise.resolve(n)):He(n)}const pB={exact:function bA(n,e,t){if(!ps(n.segments,e.segments)||!_u(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bA(n.children[r],e.children[r],t))return!1;return!0},subset:vA},yA={exact:function(n,e){return Xr(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gA(n[t],e[t]))},ignored:()=>!0};function CA(n,e,t){return pB[t.paths](n.root,e.root,t.matrixParams)&&yA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vA(n,e,t){return EA(n,e,e.segments,t)}function EA(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ps(i,t)||e.hasChildren()||!_u(i,t,r))}if(n.segments.length===t.length){if(!ps(n.segments,t)||!_u(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vA(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ps(n.segments,i)&&_u(n.segments,i,r)&&n.children[it])&&EA(n.children[it],e,s,r)}}function _u(n,e,t){return e.every((r,i)=>yA[t](n[i].parameters,r.parameters))}class fs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wo(this.queryParams)),this._queryParamMap}toString(){return CB.serialize(this)}}class lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,on(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yu(this)}}class Xa{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wo(this.parameters)),this._parameterMap}toString(){return SA(this)}}function ps(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class qp{}class AA{parse(e){const t=new xB(e);return new fs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Ja(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Cu(t)}=${Cu(i)}`).join("&"):`${Cu(t)}=${Cu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const CB=new AA;function yu(n){return n.segments.map(e=>SA(e)).join("/")}function Ja(n,e){if(!n.hasChildren())return yu(n);if(e){const t=n.children[it]?Ja(n.children[it],!1):"",r=[];return on(n.children,(i,s)=>{s!==it&&r.push(`${s}:${Ja(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return on(n.children,(r,i)=>{i===it&&(t=t.concat(e(r,i)))}),on(n.children,(r,i)=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===it?[Ja(n.children[it],!1)]:[`${i}:${Ja(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${yu(n)}/${t[0]}`:`${yu(n)}/(${t.join("//")})`}}function wA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cu(n){return wA(n).replace(/%3B/gi,";")}function zp(n){return wA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(n){return decodeURIComponent(n)}function DA(n){return bu(n.replace(/\+/g,"%20"))}function SA(n){return`${zp(n.path)}${function(n){return Object.keys(n).map(e=>`;${zp(e)}=${zp(n[e])}`).join("")}(n.parameters)}`}const AB=/^[^\/()?;=#]+/;function vu(n){const e=n.match(AB);return e?e[0]:""}const wB=/^[^=?&#]+/,SB=/^[^?&#]+/;class xB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new lt(e,t)),r}parseSegment(){const e=vu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xa(bu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=vu(this.remaining);i&&(r=i,this.capture(r))}e[bu(t)]=bu(r)}parseQueryParam(e){const t=function(n){const e=n.match(wB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(SB);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DA(t),s=DA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=it);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[it]:new lt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class TA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Yp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Yp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Kp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kp(e,this._root).map(t=>t.value)}}function Yp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Yp(n,t);if(r)return r}return null}function Kp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Kp(n,t);if(r.length)return r.unshift(e),r}return[]}class _i{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Za(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xA extends TA{constructor(e,t){super(e),this.snapshot=t,Qp(this,e)}toString(){return this.snapshot.toString()}}function MA(n,e){const t=function(n,e){const o=new Eu([],{},{},"",{},it,e,null,n.root,-1,{});return new RA("",new _i(o,[]))}(n,e),r=new Pr([new Xa("",{})]),i=new Pr({}),s=new Pr({}),o=new Pr({}),a=new Pr(""),l=new Do(r,i,o,a,s,it,e,t.root);return l.snapshot=t.root,new xA(new _i(l,[]),t)}class Do{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(A(e=>wo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(A(e=>wo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IA(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Eu{constructor(e,t,r,i,s,o,a,l,c,d,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RA extends TA{constructor(e,t){super(t),this.url=e,Qp(this,t)}toString(){return PA(this._root)}}function Qp(n,e){e.value._routerState=n,e.children.forEach(t=>Qp(n,t))}function PA(n){const e=n.children.length>0?` { ${n.children.map(PA).join(", ")} } `:"";return`${n.value}${e}`}function Xp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xr(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jp(n,e){return Xr(n.params,e.params)&&function(n,e){return ps(n,e)&&n.every((t,r)=>Xr(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Jp(n.parent,e.parent))}function Au(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Au(n,r,i);return Au(n,r)})}(n,e,t);return new _i(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return FA(e,o),o}}const r=function(n){return new Do(new Pr(n.url),new Pr(n.params),new Pr(n.queryParams),new Pr(n.fragment),new Pr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Au(n,s));return new _i(r,i)}}function FA(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)FA(n.children[t],e.children[t])}function wu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function el(n){return"object"==typeof n&&null!=n&&n.outlets}function Zp(n,e,t,r,i){let s={};return r&&on(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new fs(t.root===n?e:kA(t.root,n,e),s,i)}function kA(n,e,t){const r={};return on(n.children,(i,s)=>{r[s]=i===e?t:kA(i,e,t)}),new lt(n.segments,r)}class OA{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wu(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(el);if(i&&i!==_A(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function NA(n,e,t){if(n||(n=new lt([],{})),0===n.segments.length&&n.hasChildren())return Du(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(el(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!VA(l,c,o))return s;r+=2}else{if(!VA(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new lt(n.segments.slice(0,r.pathIndex),{});return s.children[it]=new lt(n.segments.slice(r.pathIndex),n.children),Du(s,0,i)}return r.match&&0===i.length?new lt(n.segments,{}):r.match&&!n.hasChildren()?tg(n,e,t):r.match?Du(n,0,i):tg(n,e,t)}function Du(n,e,t){if(0===t.length)return new lt(n.segments,{});{const r=function(n){return el(n[0])?n[0].outlets:{[it]:n}}(t),i={};return on(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=NA(n.children[o],e,s))}),on(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new lt(n.segments,i)}}function tg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(el(s)){const l=jB(s.outlets);return new lt(r,l)}if(0===i&&wu(t[0])){r.push(new Xa(n.segments[e].path,LA(t[0]))),i++;continue}const o=el(s)?s.outlets[it]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&wu(a)?(r.push(new Xa(o,LA(a))),i+=2):(r.push(new Xa(o,{})),i++)}return new lt(r,{})}function jB(n){const e={};return on(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=tg(new lt([],{}),0,t))}),e}function LA(n){const e={};return on(n,(t,r)=>e[r]=`${t}`),e}function VA(n,e,t){return n==t.path&&Xr(e,t.parameters)}class HB{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Za(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),on(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Za(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lB(s.value.snapshot))}),e.children.length&&this.forwardEvent(new oB(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Xp(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),BA(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function BA(n){Xp(n.value),n.children.forEach(BA)}class ng{constructor(e,t){this.routes=e,this.module=t}}function Bi(n){return"function"==typeof n}function gs(n){return n instanceof fs}const tl=Symbol("INITIAL_VALUE");function nl(){return or(n=>function(...n){let e,t;return re(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&I(n[0])&&(n=n[0]),Dn(n,t).lift(new NV(e))}(n.map(e=>e.pipe(gi(1),QE(tl)))).pipe(aA((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==tl?i:(s===tl&&(r=!0),r||!1!==s&&o!==t.length-1&&!gs(s)?i:s),e)},tl),jn(e=>e!==tl),A(e=>gs(e)?e:!0===e),gi(1)))}let jA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ni({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Ct(0,"router-outlet")},directives:function(){return[rw]},encapsulation:2}),n})();function UA(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];KB(r,QB(e,r))}}function KB(n,e){n.children&&UA(n.children,e)}function QB(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function rg(n){const e=n.children&&n.children.map(rg),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=jA),t}function ar(n){return n.outlet||it}function HA(n,e){const t=n.filter(r=>ar(r)===e);return t.push(...n.filter(r=>ar(r)!==e)),t}const $A={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Su(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$A):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||dB)(t,n,e);if(!s)return Object.assign({},$A);const o={};on(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Tu(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>xu(n,e,r)&&ar(r)!==it)}(n,t,r)){const o=new lt(e,function(n,e,t,r){const i={};i[it]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ar(s)!==it){const o=new lt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ar(s)]=o}return i}(n,e,r,new lt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>xu(n,e,r))}(n,t,r)){const o=new lt(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(xu(n,t,a)&&!i[ar(a)]){const l=new lt([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[ar(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new lt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function xu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function GA(n,e,t,r){return!!(ar(n)===r||r!==it&&xu(e,t,n))&&("**"===n.path||Su(e,n,t).matched)}function WA(n,e,t){return 0===e.length&&!n.children[t]}class rl{constructor(e){this.segmentGroup=e||null}}class qA{constructor(e){this.urlTree=e}}function Mu(n){return new v(e=>e.error(new rl(n)))}function zA(n){return new v(e=>e.error(new qA(n)))}function tj(n){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class ij{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(zr)}apply(){const e=Tu(this.urlTree.root,[],[],this.config).segmentGroup,t=new lt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,it).pipe(A(s=>this.createUrlTree(ig(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hs(s=>{if(s instanceof qA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof rl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,it).pipe(A(i=>this.createUrlTree(ig(i),e.queryParams,e.fragment))).pipe(hs(i=>{throw i instanceof rl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new lt([],{[it]:e}):e;return new fs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(A(s=>new lt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ht(i).pipe(Co(s=>{const o=r.children[s],a=HA(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(A(l=>({segment:l,outlet:s})))}),aA((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jn((i,s)=>n(i,s,r)):g,$p(1),t?cA(e):lA(()=>new mu))}())}expandSegment(e,t,r,i,s,o){return ht(r).pipe(Co(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(hs(c=>{if(c instanceof rl)return He(null);throw c}))),Ao(a=>!!a),hs((a,l)=>{if(a instanceof mu||"EmptyError"===a.name){if(WA(t,i,s))return He(new lt([],{}));throw new rl(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return GA(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Mu(t):Mu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zA(s):this.lineralizeSegments(r,s).pipe(Xe(o=>{const a=new lt(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:d}=Su(t,i,s);if(!a)return Mu(t);const p=this.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?zA(p):this.lineralizeSegments(i,p).pipe(Xe(_=>this.expandSegment(e,t,r,_.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?He(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(A(_=>(r._loadedConfig=_,new lt(i,{})))):He(new lt(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=Su(t,r,i);if(!o)return Mu(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(Xe(p=>{const _=p.module,D=p.routes,{segmentGroup:k,slicedSegments:te}=Tu(t,a,c,D),K=new lt(k.segments,k.children);if(0===te.length&&K.hasChildren())return this.expandChildren(_,D,K).pipe(A(Ie=>new lt(a,Ie)));if(0===D.length&&0===te.length)return He(new lt(a,{}));const de=ar(r)===s;return this.expandSegment(_,K,D,te,de?it:s,!0).pipe(A(Ae=>new lt(a.concat(Ae.segments),Ae.children)))}))}getChildConfig(e,t,r){return t.children?He(new ng(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?He(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Xe(i=>i?this.configLoader.load(e.injector,t).pipe(A(s=>(t._loadedConfig=s,s))):function(n){return new v(e=>e.error(Wp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):He(new ng([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?He(i.map(o=>{const a=e.get(o);let l;if(function(n){return n&&Bi(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!Bi(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Jr(l)})).pipe(nl(),wn(o=>{if(!gs(o))return;const a=Wp(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),A(o=>!0===o)):He(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return He(r);if(i.numberOfChildren>1||!i.children[it])return tj(e.redirectTo);i=i.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new fs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return on(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return on(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new lt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function ig(n){const e={};for(const r of Object.keys(n.children)){const s=ig(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new lt(n.segments.concat(e.segments),e.children)}return n}(new lt(n.segments,e))}class YA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Iu{constructor(e,t){this.component=e,this.route=t}}function aj(n,e,t){const r=n._root;return il(r,e?e._root:null,t,[r.value])}function Ru(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function il(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Za(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ps(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ps(n.url,e.url)||!Xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jp(n,e)||!Xr(n.queryParams,e.queryParams);case"paramsChange":default:return!Jp(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new YA(r)):(s.data=o.data,s._resolvedData=o._resolvedData),il(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Iu(a.outlet.component,o))}else o&&sl(e,a,i),i.canActivateChecks.push(new YA(r)),il(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),on(s,(o,a)=>sl(o,t.getContext(a),i)),i}function sl(n,e,t){const r=Za(n),i=n.value;on(r,(s,o)=>{sl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Iu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class bj{}function KA(n){return new v(e=>e.error(n))}class Ej{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Tu(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,it);if(null===t)return null;const r=new Eu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _i(r,t),s=new RA(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=IA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=HA(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=QA(r);return function(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return WA(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!GA(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const D=r.length>0?_A(r).parameters:{};s=new Eu(r,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ZA(e),ar(e),e.component,e,XA(t),JA(t)+r.length,ew(e))}else{const D=Su(t,e,r);if(!D.matched)return null;o=D.consumedSegments,a=r.slice(D.lastChild),s=new Eu(o,D.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ZA(e),ar(e),e.component,e,XA(t),JA(t)+o.length,ew(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:d}=Tu(t,o,a,l.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution);if(0===d.length&&c.hasChildren()){const D=this.processChildren(l,c);return null===D?null:[new _i(s,D)]}if(0===l.length&&0===d.length)return[new _i(s,[])];const p=ar(e)===i,_=this.processSegment(l,c,d,p?it:i);return null===_?null:[new _i(s,_)]}}function Dj(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function QA(n){const e=[],t=new Set;for(const r of n){if(!Dj(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=QA(r.children);e.push(new _i(r.value,i))}return e.filter(r=>!t.has(r))}function XA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function JA(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ZA(n){return n.data||{}}function ew(n){return n.resolve||{}}function sg(n){return or(e=>{const t=n(e);return t?ht(t).pipe(A(()=>e)):He(e)})}class Fj extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const og=new Je("ROUTES");class tw{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(A(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new ng(mA(o.injector.get(og,void 0,Oe.Self|Oe.Optional)).map(rg),o)}),hs(s=>{throw t._loader$=void 0,s}));return t._loader$=new al(i,()=>new q).pipe(Hn()),t._loader$}loadModuleFactory(e){return"string"==typeof e?ht(this.loader.load(e)):Jr(e()).pipe(Xe(t=>t instanceof rb?He(t):ht(this.compiler.compileModuleAsync(t))))}}class kj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new So,this.attachRef=null}}class So{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new kj,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Nj{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Lj(n){throw n}function Vj(n,e,t){return e.parse("/")}function nw(n,e){return He(null)}const Bj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new q,this.errorHandler=Lj,this.malformedUriErrorHandler=Vj,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nw,afterPreactivation:nw},this.urlHandlingStrategy=new Nj,this.routeReuseStrategy=new Fj,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(zr),this.console=o.get(yc);const _=o.get(Lt);this.isNgZoneEnabled=_ instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new fs(new lt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tw(a,l,D=>this.triggerEvent(new dA(D)),D=>this.triggerEvent(new hA(D))),this.routerState=MA(this.currentUrlTree,this.rootComponentType),this.transitions=new Pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(jn(i=>0!==i.id),A(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),or(i=>{let s=!1,o=!1;return He(i).pipe(wn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),or(a=>{const l=!this.navigated||a.extractedUrl.toString()!==this.browserUrlTree.toString(),c=("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl);if(Pu(a.source)&&(this.browserUrlTree=a.rawUrl),c)return He(a).pipe(or(d=>{const p=this.transitions.getValue();return r.next(new Gp(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions.getValue()?vo:Promise.resolve(d)}),function(n,e,t,r){return or(i=>function(n,e,t,r,i){return new ij(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(A(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return Xe(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Ej(n,e,t,r,i,s).recognize();return null===o?KA(new bj):He(o)}catch(o){return KA(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(A(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),wn(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const p=new eB(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(p)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:p,extractedUrl:_,source:D,restoredState:k,extras:te}=a,K=new Gp(p,this.serializeUrl(_),D,k);r.next(K);const de=MA(_,this.rootComponentType).snapshot;return He(Object.assign(Object.assign({},a),{targetSnapshot:de,urlAfterRedirects:_,extras:Object.assign(Object.assign({},te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),vo}),sg(a=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:p,extras:{skipLocationChange:_,replaceUrl:D}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:p,skipLocationChange:!!_,replaceUrl:!!D})}),wn(a=>{const l=new tB(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),A(a=>Object.assign(Object.assign({},a),{guards:aj(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Xe(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?He(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return ht(n).pipe(Xe(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(a=>{const l=Ru(a,e,i);let c;if(function(n){return n&&Bi(n.canDeactivate)}(l))c=Jr(l.canDeactivate(n,e,t,r));else{if(!Bi(l))throw new Error("Invalid CanDeactivate guard");c=Jr(l(n,e,t,r))}return c.pipe(Ao())})).pipe(nl()):He(!0)}(i.component,i.route,t,e,r)),Ao(i=>!0!==i,!0))}(o,r,i,n).pipe(Xe(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return ht(e).pipe(Co(i=>au(function(n,e){return null!==n&&e&&e(new sB(n)),He(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new aB(n)),He(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ou(()=>He(o.guards.map(l=>{const c=Ru(l,o.node,t);let d;if(function(n){return n&&Bi(n.canActivateChild)}(c))d=Jr(c.canActivateChild(r,n));else{if(!Bi(c))throw new Error("Invalid CanActivateChild guard");d=Jr(c(r,n))}return d.pipe(Ao())})).pipe(nl())));return He(s).pipe(nl())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?He(r.map(s=>ou(()=>{const o=Ru(s,e,t);let a;if(function(n){return n&&Bi(n.canActivate)}(o))a=Jr(o.canActivate(e,n));else{if(!Bi(o))throw new Error("Invalid CanActivate guard");a=Jr(o(e,n))}return a.pipe(Ao())}))).pipe(nl()):He(!0)}(n,i.route,t))),Ao(i=>!0!==i,!0))}(r,s,n,e):He(a)),A(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),wn(a=>{if(gs(a.guardsResult)){const c=Wp(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new nB(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),jn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),sg(a=>{if(a.guards.canActivateChecks.length)return He(a).pipe(wn(l=>{const c=new rB(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),or(l=>{let c=!1;return He(l).pipe(function(n,e){return Xe(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return He(t);let s=0;return ht(i).pipe(Co(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return He({});const s={};return ht(i).pipe(Xe(o=>function(n,e,t,r){const i=Ru(n,e,r);return Jr(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(wn(a=>{s[o]=a}))),$p(1),Xe(()=>Object.keys(s).length===i.length?He(s):vo))}(n._resolve,n,e,r).pipe(A(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),IA(n,t).resolve),null)))}(o.route,r,n,e)),wn(()=>s++),$p(1),Xe(o=>s===i.length?He(t):vo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),wn(l=>{const c=new iB(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),sg(a=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:p,extras:{skipLocationChange:_,replaceUrl:D}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:p,skipLocationChange:!!_,replaceUrl:!!D})}),A(a=>{const l=function(n,e,t){const r=Au(n,e._root,t?t._root:void 0);return new xA(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),wn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>A(r=>(new HB(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),wn({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new XV(n))}(()=>{if(!s&&!o){const a=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,a)):this.cancelNavigationTransition(i,a)}this.currentNavigation=null}),hs(a=>{if(o=!0,function(n){return n&&n[pA]}(a)){const l=gs(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new uA(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pu(i.source)};this.scheduleNavigation(d,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new ZV(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return vo}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){UA(t),this.config=t.map(rg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,d=l?this.currentUrlTree.fragment:o;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}return null!==p&&(p=this.removeEmptyProps(p)),function(n,e,t,r,i){if(0===t.length)return Zp(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OA(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return on(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new OA(t,e,r)}(t);if(s.toRoot())return Zp(e.root,new lt([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new eg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new eg(s,s===e.root,0)}const r=wu(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new eg(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Du(o.segmentGroup,o.index,s.commands):NA(o.segmentGroup,o.index,s.commands);return Zp(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,p,null!=d?d:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=gs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Bj):!1===r?Object.assign({},jj):r,gs(t))return CA(this.currentUrlTree,t,i);const s=this.parseUrl(t);return CA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),d=Pu(r)&&c&&!Pu(c.source),D=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(d&&D)return Promise.resolve(!0);let k,te,K;o?(k=o.resolve,te=o.reject,K=o.promise):K=new Promise((Ae,Ie)=>{k=Ae,te=Ie});const de=++this.navigationId;let ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),ae=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):ae=0,this.setTransition({id:de,targetPageId:ae,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:k,reject:te,promise:K,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),K.catch(Ae=>Promise.reject(Ae))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new uA(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(Ce(Il),Ce(qp),Ce(So),Ce(Rc),Ce(at),Ce(bc),Ce(is),Ce(void 0))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function Pu(n){return"imperative"!==n}let rw=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new dt,this.deactivateEvents=new dt,this.name=s||it,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Gj(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(ue(So),ue(vr),ue(xi),zi("name"),ue(cc))},n.\u0275dir=Se({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Gj{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Do?this.route:e===So?this.childContexts:this.parent.get(e,t)}}class iw{}class sw{preload(e,t){return He(null)}}let ow=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new tw(r,i,c=>t.triggerEvent(new dA(c)),c=>t.triggerEvent(new hA(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(jn(t=>t instanceof Qa),Co(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(zr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return ht(i).pipe(jt(),A(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?He(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Xe(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Ce(In),Ce(bc),Ce(is),Ce(at),Ce(iw))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),cg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new fA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Ce(In),Ce(g0),Ce(void 0))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const ms=new Je("ROUTER_CONFIGURATION"),aw=new Je("ROUTER_FORROOT_GUARD"),qj=[Rc,{provide:qp,useClass:AA},{provide:In,useFactory:function(n,e,t,r,i,s,o,a={},l,c){const d=new In(null,n,e,t,r,i,s,mA(o));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,d),a.enableTracing&&d.events.subscribe(p=>{var _,D;null===(_=console.group)||void 0===_||_.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null===(D=console.groupEnd)||void 0===D||D.call(console)}),d},deps:[qp,So,Rc,at,bc,is,og,ms,[class{},new xn],[class{},new xn]]},So,{provide:Do,useFactory:function(n){return n.routerState.root},deps:[In]},{provide:bc,useClass:zP},ow,sw,class{preload(e,t){return t().pipe(hs(()=>He(null)))}},{provide:ms,useValue:{enableTracing:!1}}];function zj(){return new wf("Router",In)}let lw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[qj,cw(t),{provide:aw,useFactory:Qj,deps:[[In,new xn,new Di]]},{provide:ms,useValue:r||{}},{provide:yo,useFactory:Kj,deps:[ls,[new Fs(Uf),new xn],ms]},{provide:cg,useFactory:Yj,deps:[In,g0,ms]},{provide:iw,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:sw},{provide:wf,multi:!0,useFactory:zj},[ug,{provide:fo,multi:!0,useFactory:e3,deps:[ug]},{provide:uw,useFactory:t3,deps:[ug]},{provide:ov,multi:!0,useExisting:uw}]]}}static forChild(t){return{ngModule:n,providers:[cw(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Ce(aw,8),Ce(In,8))},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({}),n})();function Yj(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new cg(n,e,t)}function Kj(n,e,t={}){return t.useHash?new fk(n,e):new Qv(n,e)}function Qj(n){return"guarded"}function cw(n){return[{provide:ED,multi:!0,useValue:n},{provide:og,multi:!0,useValue:n}]}let ug=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new q}appInitializer(){return this.injector.get(uk,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(In),o=this.injector.get(ms);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?He(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ms),i=this.injector.get(ow),s=this.injector.get(cg),o=this.injector.get(In),a=this.injector.get(ss);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Ce(at))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function e3(n){return n.appInitializer.bind(n)}function t3(n){return n.bootstrapListener.bind(n)}const uw=new Je("Router Initializer"),r3=[];let i3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=sn({imports:[[lw.forRoot(r3)],lw]}),n})();function dw(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function ji(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){dw(s,r,i,o,a,"next",l)}function a(l){dw(s,r,i,o,a,"throw",l)}o(void 0)})}}var Fu=V(552);let dg=(()=>{class n{constructor(){this.docs=[{id:"nuijten2021preadolescent",doi:"10.2196/21202",authors:"Nuijten, R. C. Y., Van Gorp, P. M. E., Borghouts, T., Le Blanc, P. M., van den Berg, P. E. W., Kemperman, A. D. A. M., Hadian Haghighi, E., & Simons, M.",title:"Preadolescent students' engagement with an mhealth intervention fostering social comparison for health behavior change: Crossover experimental study",year:"2021",outlet:"Journal of Medical Internet Research, 23(7)",uri:"/assets/documents/nuijten2021preadolescent.pdf",annoturi:"/assets/documents/nuijten2021preadolescent-annot.json"},{id:"dhondt2019evaluation",doi:"10.1007/978-3-030-34974-5_11",authors:"D'Hondt, J. E., Nuijten, R. C. Y., & Van Gorp, P. M. E.",title:"Evaluation of computer-tailored motivational messaging in a health promotion context",year:"2019",outlet:"In G. Bella, & P. Bouquet (editors), Modeling and Using Context - 11th International and Interdisciplinary Conference, CONTEXT 2019, Proceedings",uri:"/assets/documents/dhondt2019evaluation.pdf",annoturi:"/assets/documents/dhondt2019evaluation-annot.json"},{id:"nuijten2019evaluation",doi:"10.1109/EMBC.2019.8856296",authors:"Nuijten, R. C. Y., Van Gorp, P., Kaymak, U., Simons, M., Kemperman, A. D. A. M., & van den Berg, P. E. W.",title:"Evaluation of the impact of extrinsic rewards on user engagement in a health promotion context",year:"2019",outlet:"In 2019 41st Annual International Conference of the IEEE Engineering in Medicine and Biology Society (EMBC)",uri:"/assets/documents/nuijten2019evaluation.pdf",annoturi:"/assets/documents/nuijten2019evaluation-annot.json"}],this.documentSubject=new q,this.document$=this.documentSubject.asObservable()}getDocuments(){return this.docs}getDocument(t){const r=this.docs.find(i=>i.doi===t);r&&this.documentSubject.next(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),ku=(()=>{class n{constructor(){this.dm={entities:[{entity:{ref:"Experiment",label:"Experiment"},attributes:[{ref:"description",label:"Description"},{ref:"pointOfInterest",label:"Point of interest"},{ref:"conclusion",label:"Conclusion"}]},{entity:{ref:"Context",label:"Context"},attributes:[{ref:"location",label:"Location"},{ref:"timing",label:"Timing"}]},{entity:{ref:"Treatment",label:"Treatment"},attributes:[{ref:"name",label:"Name"},{ref:"description",label:"Description"},{ref:"duration",label:"Duration"}]},{entity:{ref:"Intervention",label:"Intervention"},attributes:[{ref:"name",label:"Name"},{ref:"description",label:"Description"}]},{entity:{ref:"Platform",label:"Platform"},attributes:[{ref:"name",label:"Name"},{ref:"description",label:"Description"}]},{entity:{ref:"TreatmentAssignment",label:"Treatment Assignment"},attributes:[{ref:"orderNumber",label:"Order number"}]},{entity:{ref:"Population",label:"Population"},attributes:[{ref:"inExclusionCriteria",label:"In-/exclusion criteria"}]},{entity:{ref:"Demographic",label:"Demographic"},attributes:[{ref:"aggregationFunction",label:"Aggregation function"},{ref:"value",label:"Value"}]},{entity:{ref:"Sample",label:"Sample"},attributes:[{ref:"size",label:"Size"}]},{entity:{ref:"Group",label:"Group"},attributes:[{ref:"size",label:"Size"}]},{entity:{ref:"Outcome",label:"Outcome"},attributes:[{ref:"result",label:"Result"},{ref:"significance",label:"Significance"}]},{entity:{ref:"Variable",label:"Variable"},attributes:[{ref:"type",label:"Type"},{ref:"dimension",label:"Dimension"}]},{entity:{ref:"Classification",label:"Classification"},attributes:[{ref:"explanation",label:"Explanation"}]},{entity:{ref:"Source",label:"Source"},attributes:[{ref:"title",label:"Title"},{ref:"method",label:"Method"}]}],relations:[{entities:["Source","Experiment"],type:"PRESENTS_EXPERIMENT"},{entities:["Experiment","Treatment"],type:"EVALUATES_TREATMENT"},{entities:["Experiment","Context"],type:"EXECUTED_WITHIN_CONTEXT"},{entities:["Experiment","Variable"],type:"HAS_INTEREST_IN_VARIABLE"},{entities:["Treatment","TreatmentAssignment"],type:"AS_ASSIGNED_BY"},{entities:["Treatment","Outcome"],type:"HAS_OUTCOME"},{entities:["Classification","Treatment"],type:"OF_TREATMENT"},{entities:["Classification","Intervention"],type:"OF_INTERVENTION"},{entities:["Intervention","Treatment"],type:"DELIVERS_TREATMENT"},{entities:["Intervention","Platform"],type:"HOSTED_ON_PLATFORM"},{entities:["Context","Population"],type:"TARGETS_POPULATION"},{entities:["Population","Sample"],type:"CONTAINS_SAMPLE"},{entities:["Sample","Group"],type:"CONTAINS_GROUP"},{entities:["Demographic","Population"],type:"FOR_POPULATION"},{entities:["Demographic","Sample"],type:"FOR_SAMPLE"},{entities:["Demographic","Group"],type:"FOR_GROUP"},{entities:["Demographic","Variable"],type:"ON_VARIABLE"},{entities:["TreatmentAssignment","Group"],type:"TO_GROUP"},{entities:["Outcome","Variable"],type:"BASED_ON_VARIABLE"}],constructs:[{theory:"COM-B",name:"Capability"},{theory:"COM-B / SDT",name:"Motivation"},{theory:"COM-B",name:"Opportunity"},{theory:"SDT",name:"Autonomy"},{theory:"SDT",name:"Competence"},{theory:"SDT",name:"Relatedness"},{theory:"SDT",name:"Extrinsic goal"},{theory:"GST",name:"External incentive"}]}}getDataModel(){return this.dm}getSchemaEntities(){return this.dm.entities.map(t=>t.entity)}getSchemaAttributes(t){const r=this.dm.entities.find(i=>i.entity.ref===t);if(r)return r.attributes}getSchemaRelations(t){return this.dm.relations.filter(r=>r.entities.includes(t)).flatMap(r=>r.entities).filter(r=>r!==t)}getRelationType(t,r){const i=this.dm.relations.find(s=>s.entities.includes(t)&&s.entities.includes(r));if(i)return i.type}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),Ou=(()=>{class n{constructor(t,r){this.http=t,this.dm=r,this.studySubject=new q,this.study$=this.studySubject.asObservable(),this.highlightSubject=new q,this.highlight$=this.highlightSubject.asObservable()}getStudy(){return this.study}setStudy(t){var r=this;return ji(function*(){let i=null;t.annoturi&&(yield new Promise(s=>{t.annoturi&&r.http.get("https://gitcdn.link/repo/Louar/SciModeler-study-annotator/main/docs"+t.annoturi).subscribe(o=>{i=o,s()},o=>{console.warn(`${t.annoturi} was not found...`),s()})})),i||(i={document:t,source:{title:t.title,doi:t.doi},highlights:[],relations:[]}),r.study=i,r.studySubject.next(r.study)})()}selectHighlight(t){this.highlightSubject.next(t)}saveHighlight(t){let r=this.study.highlights.find(i=>i.id===t.id);r?r=t:this.study.highlights.push(t),this.studySubject.next(this.study)}removeHighlight(t){this.study.highlights=this.study.highlights.filter(r=>r.id!==t.id),this.studySubject.next(this.study)}updateRelations(t,r){"add"===t?this.study.relations.push({iids:r}):"remove"===t&&(this.study.relations=this.study.relations.filter(i=>!r.every(s=>i.iids.includes(s))))}getAllowedRelations(t,r){const i=t.tags.instance.ref;if(!i)return;const s=this.study.relations.filter(a=>a.iids.includes(i)).map(a=>a.iids).reduce((a,l)=>a.concat(l),[]).filter(a=>i!==a),o=[...new Map(this.study.highlights.filter(a=>!(!a.tags||!a.tags.entity)&&r.includes(a.tags.entity)).map(a=>({ref:`${i} ${a.tags.instance.ref}`,label:`${a.tags.entity}: ${a.tags.instance.label}`,iids:[i,a.tags.instance.ref],entities:[t.tags.entity,a.tags.entity],isSelected:s.includes(a.tags.instance.ref||"")})).map(a=>[a.ref,a])).values()];if("Classification"===t.tags.entity){const a=this.dm.getDataModel();for(const l of a.constructs)o.push({ref:`${i} ${l.name}`,label:`${l.theory}: ${l.name}`,iids:[i,l.name],entities:[t.tags.entity,"Classification"],isSelected:s.includes(l.name)})}return o}getInstancesOfEntity(t){let r=this.study.highlights.filter(i=>{var s;return(null===(s=i.tags)||void 0===s?void 0:s.entity)===t&&i.tags.instance.ref&&i.tags.instance.label}).map(i=>i.tags.instance);return r&&r.length>0?(r=[...new Map(r.map(i=>[i.ref,i])).values()],r):[]}}return n.\u0275fac=function(t){return new(t||n)(Ce(V0),Ce(ku))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const hw=function(n){return[n]};function s3(n,e){if(1&n&&(ge(0,"div",12),Ct(1,"div",13),Ue(2),me()),2&n){const t=e.item;Re(1),Ve("ngClass",ci(2,hw,t.label?"e-"+t.label:"")),Re(1),li(" ",t.label," ")}}function o3(n,e){if(1&n){const t=er();Hr(0),ge(1,"p",2),ge(2,"strong"),Ue(3,"Edit highlight"),me(),ge(4,"img",3),ut("click",function(){return pt(t),Te().highlight=null}),me(),me(),ge(5,"label"),ge(6,"p"),Ue(7,"Selected text"),me(),ge(8,"textarea",4),ut("ngModelChange",function(i){return pt(t),Te().highlight.selection=i}),me(),me(),ge(9,"label"),ge(10,"p"),Ue(11,"Entity"),me(),ge(12,"ng-select",5,6),ut("ngModelChange",function(i){return pt(t),Te().highlight.tags.entity=i})("change",function(){pt(t);const i=Te();return i.persistHighlight(),i.updateEntity()}),et(14,s3,3,4,"ng-template",7),me(),me(),ge(15,"label"),ge(16,"p"),Ue(17,"Instance"),me(),ge(18,"ng-select",8),ut("ngModelChange",function(i){return pt(t),Te().highlight.tags.instance=i})("change",function(){pt(t);const i=Te();return i.persistHighlight(),i.fetchDatamodel(i.highlight.tags.entity,["relations"])}),me(),me(),ge(19,"label"),ge(20,"p"),Ue(21,"Attribute"),me(),ge(22,"ng-select",9),ut("ngModelChange",function(i){return pt(t),Te().highlight.tags.attribute=i})("change",function(){return pt(t),Te().persistHighlight()}),me(),me(),ge(23,"label"),ge(24,"p"),Ue(25,"Relations"),me(),ge(26,"ng-select",10),ut("ngModelChange",function(i){return pt(t),Te().hrelations=i})("change",function(){return pt(t),Te().persistHighlight()})("add",function(i){return pt(t),Te().updateRelations("add",i)})("remove",function(i){return pt(t),Te().updateRelations("remove",i)}),me(),me(),ge(27,"label"),ge(28,"p"),Ue(29,"Notes"),me(),ge(30,"textarea",11),ut("ngModelChange",function(i){return pt(t),Te().highlight.notes=i})("blur",function(){return pt(t),Te().persistHighlight()}),me(),me(),$r()}if(2&n){const t=Te();Re(8),Ve("ngModel",t.highlight.selection),Re(4),Ve("items",t.dm.entities)("ngModel",t.highlight.tags.entity),Re(6),Ve("disabled",!t.highlight.tags.entity)("items",t.dm.instances)("addTag",t.addInstanceFn)("ngModel",t.highlight.tags.instance),Re(4),Ve("disabled",!t.highlight.tags.entity)("items",t.dm.attributes)("ngModel",t.highlight.tags.attribute),Re(4),Ve("disabled",!t.highlight.tags.entity||!t.highlight.tags.instance.ref)("items",t.dm.relations)("multiple",!0)("ngModel",t.hrelations),Re(4),Ve("ngModel",t.highlight.notes)}}function a3(n,e){if(1&n){const t=er();ge(0,"li",17),ut("click",function(){const s=pt(t).$implicit;return Te(3).open(s)}),ge(1,"p",18),Ue(2),ge(3,"em",19),Ue(4),me(),me(),ge(5,"div",20),Ct(6,"div",21),ge(7,"p",22),Ue(8),ge(9,"span",23),Ue(10),me(),Ue(11),me(),me(),me()}if(2&n){const t=e.$implicit,r=Te(3);Re(2),li(" Page ",t.position.pnum," "),Re(2),li("\u201c",t.selection,"\u201d"),Re(2),Ve("ngClass",ci(7,hw,null!=t.tags&&t.tags.entity?"e-"+t.tags.entity:"")),Re(2),Ph(" ",null==t.tags?null:t.tags.entity,"",null!=t.tags&&t.tags.attribute?"."+t.tags.attribute:"[NO ATTR.]"," "),Re(2),br(null!=t.tags&&null!=t.tags.instance&&t.tags.instance.ref?t.tags.instance.ref+":"+t.tags.instance.label:"[NO INST.]"),Re(1),li(" ",t.tags.instance.ref&&r.nrelations[t.tags.instance.ref]?"nrel="+r.nrelations[t.tags.instance.ref]:"[NO REL.]"," ")}}function l3(n,e){if(1&n){const t=er();Hr(0),ge(1,"p",2),ge(2,"strong"),Ue(3,"Overview of highlights"),me(),ge(4,"img",3),ut("click",function(){return pt(t),Te(2).highlights=null}),me(),me(),ge(5,"ul",15),et(6,a3,12,9,"li",16),me(),$r()}if(2&n){const t=Te(2);Re(6),Ve("ngForOf",t.highlights)}}function c3(n,e){if(1&n){const t=er();ge(0,"img",43),ut("click",function(){return pt(t),Te(3).showAllHighlights()}),me()}}const u3=function(n){return{selected:n}};function d3(n,e){if(1&n){const t=er();ge(0,"li",44),ut("click",function(){const s=pt(t).$implicit;return Te(3).getDocument(s.doi)}),ge(1,"p",22),ge(2,"span",19),Ue(3),me(),ge(4,"span",45),Ue(5),me(),Ue(6),ge(7,"em"),Ue(8),me(),Ue(9,". "),me(),me()}if(2&n){const t=e.$implicit,r=Te(3);Ve("ngClass",ci(5,u3,t.doi===r.sdoi)),Re(3),br(t.authors),Re(2),br(t.title),Re(1),li(". ",t.year,". "),Re(2),br(t.outlet)}}function h3(n,e){if(1&n&&(ge(0,"div",24),ge(1,"div"),ge(2,"h1"),Ue(3,"Study annotator"),me(),ge(4,"h2"),Ue(5,"A "),ge(6,"em"),Ue(7,"SciModeler"),me(),Ue(8," tool"),me(),me(),ge(9,"a",25),Ct(10,"img",26),me(),me(),ge(11,"p",2),ge(12,"strong"),Ue(13,"Annotated studies"),me(),et(14,c3,1,0,"img",27),me(),ge(15,"ul"),et(16,d3,10,7,"li",28),me(),Ct(17,"br"),ge(18,"p"),ge(19,"strong"),Ue(20,"Annotation entities"),me(),me(),ge(21,"ul"),ge(22,"li"),Ct(23,"div",29),ge(24,"p"),Ue(25,"Experiment"),me(),me(),ge(26,"li"),Ct(27,"div",30),ge(28,"p"),Ue(29,"Context"),me(),me(),ge(30,"li"),Ct(31,"div",31),ge(32,"p"),Ue(33,"Treatment"),me(),me(),ge(34,"li"),Ct(35,"div",32),ge(36,"p"),Ue(37,"Intervention"),me(),me(),ge(38,"li"),Ct(39,"div",33),ge(40,"p"),Ue(41,"Platform"),me(),me(),ge(42,"li"),Ct(43,"div",34),ge(44,"p"),Ue(45,"Treatment assignment"),me(),me(),ge(46,"li"),Ct(47,"div",35),ge(48,"p"),Ue(49,"Population"),me(),me(),ge(50,"li"),Ct(51,"div",36),ge(52,"p"),Ue(53,"Sample"),me(),me(),ge(54,"li"),Ct(55,"div",37),ge(56,"p"),Ue(57,"Group"),me(),me(),ge(58,"li"),Ct(59,"div",38),ge(60,"p"),Ue(61,"Demographic"),me(),me(),ge(62,"li"),Ct(63,"div",39),ge(64,"p"),Ue(65,"Outcome"),me(),me(),ge(66,"li"),Ct(67,"div",40),ge(68,"p"),Ue(69,"Variable"),me(),me(),ge(70,"li"),Ct(71,"div",41),ge(72,"p"),Ue(73,"Classification"),me(),me(),ge(74,"li"),Ct(75,"div",42),ge(76,"p"),Ue(77,"Source"),me(),me(),me()),2&n){const t=Te(2);Re(14),Ve("ngIf",t.sdoi),Re(2),Ve("ngForOf",t.docs)}}function f3(n,e){if(1&n&&(et(0,l3,7,1,"ng-container",0),et(1,h3,78,2,"ng-template",null,14,Yr)),2&n){const t=Zn(2);Ve("ngIf",Te().highlights)("ngIfElse",t)}}let p3=(()=>{class n{constructor(t,r,i){this.ds=t,this.dms=r,this.hs=i,this.dm={},this.hrelations=[],this.highlights=null,this.nrelations={}}ngOnInit(){this.docs=this.ds.getDocuments(),this.dm.entities=this.dms.getSchemaEntities()}getDocument(t){t&&(this.sdoi=t,this.ds.getDocument(t))}ngAfterViewInit(){this.hs.highlight$.subscribe(t=>{this.open(t)})}open(t){var r,i;this.highlight&&this.persistHighlight(),this.highlight=t,this.persistHighlight(!0),(null===(i=null===(r=this.highlight)||void 0===r?void 0:r.tags)||void 0===i?void 0:i.entity)&&this.fetchDatamodel(this.highlight.tags.entity)}persistHighlight(t=!1){this.highlight&&(t||this.highlight.tags.entity?this.hs.saveHighlight(this.highlight):(this.hs.removeHighlight(this.highlight),this.highlight=null)),this.showAllHighlights()}updateEntity(){var t,r;(null===(r=null===(t=this.highlight)||void 0===t?void 0:t.tags)||void 0===r?void 0:r.entity)&&this.fetchDatamodel(this.highlight.tags.entity)}addInstanceFn(t){return{ref:"i-"+(+new Date).toString(36).slice(-5),label:t}}fetchDatamodel(t,r=["attributes","instances","relations"]){var i;if(t&&r.includes("attributes")&&(this.dm.attributes=this.dms.getSchemaAttributes(t)),t&&r.includes("instances")&&(this.dm.instances=this.hs.getInstancesOfEntity(t)),t&&r.includes("relations")&&(null===(i=this.highlight)||void 0===i?void 0:i.tags)&&this.dm.instances.length>0){const s=this.dms.getSchemaRelations(t);this.dm.relations=this.hs.getAllowedRelations(this.highlight,s),this.dm.relations&&(this.hrelations=this.dm.relations.filter(o=>o.isSelected).map(o=>o.ref))}}updateRelations(t,r){let i=[];"add"===t?i=r.iids:"remove"===t&&(i=r.value.iids),this.hs.updateRelations(t,i)}showAllHighlights(){var t=this;return ji(function*(){var r;if(!t.sdoi)return;const i=t.hs.getStudy();i&&i.highlights&&(t.highlights=i.highlights.sort((o,a)=>o.position.rects[0].t-a.position.rects[0].t).sort((o,a)=>o.position.pnum-a.position.pnum));const s=[...new Set(null===(r=t.highlights)||void 0===r?void 0:r.map(o=>o.tags.instance.ref))];t.nrelations={};for(const o of s)o&&(t.nrelations[o]=i.relations.filter(a=>a.iids.includes(o)).map(a=>a.iids).reduce((a,l)=>a.concat(l),[]).filter(a=>o!==a).length)})()}}return n.\u0275fac=function(t){return new(t||n)(ue(dg),ue(ku),ue(Ou))},n.\u0275cmp=ni({type:n,selectors:[["pdf-annotation-menu"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["overview",""],[2,"display","flex","align-items","center","justify-content","space-between"],["src","assets/icons/close.svg",2,"height","16px","width","16px","cursor","pointer",3,"click"],["rows","5",3,"ngModel","ngModelChange"],["bindValue","ref","bindLabel","label","appearance","outline",3,"items","ngModel","ngModelChange","change"],["entitySelect",""],["ng-option-tmp",""],["bindLabel","label","appearance","outline",3,"disabled","items","addTag","ngModel","ngModelChange","change"],["bindValue","ref","bindLabel","label","appearance","outline",3,"disabled","items","ngModel","ngModelChange","change"],["bindValue","ref","bindLabel","label","appearance","outline",3,"disabled","items","multiple","ngModel","ngModelChange","change","add","remove"],["rows","5",3,"ngModel","ngModelChange","blur"],[2,"display","flex","align-items","center"],[1,"e-label","e-Experiment",3,"ngClass"],["introduction",""],[2,"padding-left","0"],["class","highlightlink",3,"click",4,"ngFor","ngForOf"],[1,"highlightlink",3,"click"],[2,"font-size","1rem"],[2,"font-weight","300"],[2,"display","flex","align-items","center","margin-top","8px"],[1,"e-label",3,"ngClass"],[2,"font-size",".8rem"],[2,"margin","0 10px"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between"],["href","https://github.com/Louar/SciModeler-study-annotator","target","_blank"],["src","assets/icons/github.svg",2,"height","32px","width","32px"],["style","height: 18px; width: 18px; margin-right: 8px; cursor: pointer;","src","assets/icons/highlighter.svg",3,"click",4,"ngIf"],["class","doclink",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"e-label","e-Experiment"],[1,"e-label","e-Context"],[1,"e-label","e-Treatment"],[1,"e-label","e-Intervention"],[1,"e-label","e-Platform"],[1,"e-label","e-TreatmentAssignment"],[1,"e-label","e-Population"],[1,"e-label","e-Sample"],[1,"e-label","e-Group"],[1,"e-label","e-Demographic"],[1,"e-label","e-Outcome"],[1,"e-label","e-Variable"],[1,"e-label","e-Classification"],[1,"e-label","e-Source"],["src","assets/icons/highlighter.svg",2,"height","18px","width","18px","margin-right","8px","cursor","pointer",3,"click"],[1,"doclink",3,"ngClass","click"],[2,"font-weight","500"]],template:function(t,r){if(1&t&&(et(0,o3,31,15,"ng-container",0),et(1,f3,3,2,"ng-template",null,1,Yr)),2&t){const i=Zn(2);Ve("ngIf",r.highlight)("ngIfElse",i)}},directives:[Va,Kc,pE,Pp,TV,tA,Hc,La],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;overflow-y:scroll}label[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:8px;border-top:1px solid #ccc}label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:8px 0;font-weight:500}label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:42px;padding:4px 8px;border:1px solid #e0e0e0;border-radius:3px}label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #e0e0e0;border-radius:3px}h1[_ngcontent-%COMP%]{font-weight:600;margin:0}h2[_ngcontent-%COMP%]{margin-top:2px;font-style:italic;font-weight:400}h2[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;font-style:italic}.e-label[_ngcontent-%COMP%]{height:21px;width:21px;margin-right:12px;border-radius:3px;border-width:2px;border-style:solid}.e-label.e-Experiment[_ngcontent-%COMP%]{background-color:#37c9ba66;border-color:#37c9ba}.e-label.e-Treatment[_ngcontent-%COMP%]{background-color:#fd777766;border-color:#fd7777}.e-label.e-Context[_ngcontent-%COMP%]{background-color:#34ac7466;border-color:#34ac74}.e-label.e-Intervention[_ngcontent-%COMP%]{background-color:#fd7e5666;border-color:#fd7e56}.e-label.e-Platform[_ngcontent-%COMP%]{background-color:#fcd24466;border-color:#fcd244}.e-label.e-TreatmentAssignment[_ngcontent-%COMP%]{background-color:#f8b0a266;border-color:#f8b0a2}.e-label.e-Population[_ngcontent-%COMP%]{background-color:#7d64fb66;border-color:#7d64fb}.e-label.e-Sample[_ngcontent-%COMP%]{background-color:#a363e766;border-color:#a363e7}.e-label.e-Group[_ngcontent-%COMP%]{background-color:#cc87ed66;border-color:#cc87ed}.e-label.e-Demographic[_ngcontent-%COMP%]{background-color:#f5a5c166;border-color:#f5a5c1}.e-label.e-Outcome[_ngcontent-%COMP%]{background-color:#b8e89866;border-color:#b8e898}.e-label.e-Variable[_ngcontent-%COMP%]{background-color:#81ecbf66;border-color:#00cea1}.e-label.e-Classification[_ngcontent-%COMP%]{background-color:#74b9ff66;border-color:#0984e3}.e-label.e-Source[_ngcontent-%COMP%]{background-color:#19a0b866;border-color:#19a0b8}ul[_ngcontent-%COMP%]{margin:0;padding-left:16px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li.doclink[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]   li.doclink.selected[_ngcontent-%COMP%]{color:#54a0ff}ul[_ngcontent-%COMP%]   li.highlightlink[_ngcontent-%COMP%]{display:block;padding:12px 0;border-top:1px solid #ccc}ul[_ngcontent-%COMP%]   li.highlightlink[_ngcontent-%COMP%]   .e-label[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:6px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}']}),n})();const g3=["canvasEl"],m3=["textsEl"],_3=function(n,e,t){return[n,e,t]},y3=function(n,e,t,r){return{top:n,left:e,height:t,width:r}};function C3(n,e){if(1&n){const t=er();ge(0,"div",6),ut("click",function(){pt(t);const i=Te().$implicit;return Te().selectHighlight(i)}),me()}if(2&n){const t=e.$implicit,r=Te().$implicit,i=Te();Ve("ngClass",rf(2,_3,i.isHighlighting?"toback":"",i.shid===r.id?"selected":"",null!=r.tags&&r.tags.entity?"e-"+r.tags.entity:""))("ngStyle",sf(6,y3,t.t+"px",t.l+"px",t.h+"px",t.w+"px"))}}function b3(n,e){if(1&n&&(ge(0,"div"),et(1,C3,1,11,"div",5),me()),2&n){const t=e.$implicit;Re(1),Ve("ngForOf",t.position.rects)}}let v3=(()=>{class n{constructor(t){this.hs=t,this.isHighlighting=!1,this.cursor={x:NaN,y:NaN},this.shid=null}ngOnInit(){var t=this;return ji(function*(){t.study=t.hs.getStudy(),t.parseHighlights(),t.hs.study$.subscribe(r=>{var i;t.study=r,t.parseHighlights(),null===(i=document.getSelection())||void 0===i||i.removeAllRanges()})})()}parseHighlights(){this.study.highlights&&(this.highlights=this.study.highlights.filter(t=>t.position.pnum===this.pnum))}ngAfterViewInit(){this.canvasEl&&(this.ctx=this.canvasEl.nativeElement.getContext("2d")),this.pdf&&this.renderPage(this.pnum)}mousedown(t){this.cursor={x:t.pageX,y:t.pageY}}mouseover(t){!this.isHighlighting&&this.cursor.x&&this.cursor.y&&Math.abs(t.pageX-this.cursor.x)>5&&Math.abs(t.pageY-this.cursor.y)>1&&(this.isHighlighting=!0)}mouseup(t){var r=this;return ji(function*(){if(!r.canvasEl||!r.textsEl)return;r.cursor={x:NaN,y:NaN},r.isHighlighting=!1,r.shid=null;const i=document.getSelection();if(!i||0===i.toString().length)return void r.hs.selectHighlight(null);if(0===i.rangeCount)return;const s=i.getRangeAt(0),o=r.textsEl.nativeElement.getBoundingClientRect(),l=Array.from(s.getClientRects()).map(d=>({t:d.top-o.top,l:d.left-o.left,h:d.height,w:d.width})),c={id:(+new Date).toString(36).slice(-5),creator:{id:"RN",name:"Raoul Nuijten",image:""},timestamp:+new Date,position:{pnum:r.pnum,rects:l},selection:s.toString(),notes:"",tags:{instance:{}}};r.hs.saveHighlight(c),r.hs.selectHighlight(c)})()}renderPage(t){var r=this;return ji(function*(){if(!r.pdf||!r.canvasEl)return;let i;if(yield r.pdf.getPage(t).then(o=>i=o),!i)return;const s=i.getViewport({scale:1.5});r.canvasEl.nativeElement.height=s.height,r.canvasEl.nativeElement.width=s.width,yield i.render({canvasContext:r.ctx,viewport:s}).promise,yield i.getTextContent().then(o=>{!r.textsEl||(r.textsEl.nativeElement.style.left=r.canvasEl.nativeElement.offsetLeft+"px",r.textsEl.nativeElement.style.top=r.canvasEl.nativeElement.offsetTop+"px",r.textsEl.nativeElement.style.height=r.canvasEl.nativeElement.offsetHeight+"px",r.textsEl.nativeElement.style.width=r.canvasEl.nativeElement.offsetWidth+"px",(0,Fu.renderTextLayer)({textContent:o,container:r.textsEl.nativeElement,viewport:s,textDivs:[]}))})})()}selectHighlight(t){this.shid=t.id,this.hs.selectHighlight(t)}}return n.\u0275fac=function(t){return new(t||n)(ue(Ou))},n.\u0275cmp=ni({type:n,selectors:[["pdf-page"]],viewQuery:function(t,r){if(1&t&&(Ii(g3,5),Ii(m3,5)),2&t){let i;Ot(i=Nt())&&(r.canvasEl=i.first),Ot(i=Nt())&&(r.textsEl=i.first)}},inputs:{pdf:"pdf",pnum:"pnum"},decls:6,vars:1,consts:[["canvasEl",""],[1,"textLayer",3,"mousedown","mouseover","mouseup"],["textsEl",""],[1,"highlightLayer"],[4,"ngFor","ngForOf"],["class","highlight",3,"ngClass","ngStyle","click",4,"ngFor","ngForOf"],[1,"highlight",3,"ngClass","ngStyle","click"]],template:function(t,r){1&t&&(Ct(0,"canvas",null,0),ge(2,"div",1,2),ut("mousedown",function(s){return r.mousedown(s)})("mouseover",function(s){return r.mouseover(s)})("mouseup",function(s){return r.mouseup(s)}),ge(4,"div",3),et(5,b3,2,1,"div",4),me(),me()),2&t&&(Re(5),Ve("ngForOf",r.highlights))},directives:[La,Hc,u0],styles:[".textLayer[_ngcontent-%COMP%]{opacity:1}.textLayer[_ngcontent-%COMP%]  ::selection{background-color:#5765744d!important}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:0}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{position:absolute;z-index:99;background-color:#57657466;transition:background-color linear 125ms;cursor:pointer}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.toback[_ngcontent-%COMP%]{cursor:default;z-index:inherit}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Experiment[_ngcontent-%COMP%]{background-color:#37c9ba66}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Treatment[_ngcontent-%COMP%]{background-color:#fd777766}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Context[_ngcontent-%COMP%]{background-color:#34ac7466}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Intervention[_ngcontent-%COMP%]{background-color:#fd7e5666}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Platform[_ngcontent-%COMP%]{background-color:#fcd24466}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-TreatmentAssignment[_ngcontent-%COMP%]{background-color:#f8b0a266}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Population[_ngcontent-%COMP%]{background-color:#7d64fb66}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Sample[_ngcontent-%COMP%]{background-color:#a363e766}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Group[_ngcontent-%COMP%]{background-color:#cc87ed66}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Demographic[_ngcontent-%COMP%]{background-color:#f5a5c166}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Outcome[_ngcontent-%COMP%]{background-color:#b8e89866}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Variable[_ngcontent-%COMP%]{background-color:#81ecbf66}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Classification[_ngcontent-%COMP%]{background-color:#74b9ff66}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.e-Source[_ngcontent-%COMP%]{background-color:#19a0b866}.textLayer[_ngcontent-%COMP%]   .highlightLayer[_ngcontent-%COMP%]   .highlight.selected[_ngcontent-%COMP%]{background-color:#57657499!important}"]}),n})();function E3(n,e){if(1&n&&Ct(0,"pdf-page",3),2&n){const t=e.$implicit;Ve("pdf",Te(2).pdf)("pnum",t)}}function A3(n,e){if(1&n&&(ge(0,"div",1),et(1,E3,1,2,"pdf-page",2),me()),2&n){const t=Te();Re(1),Ve("ngForOf",t.pnums)}}Fu.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${Fu.version}/pdf.worker.min.js`;let w3=(()=>{class n{constructor(t,r,i){this.ds=t,this.dms=r,this.hs=i,this.isReady=!1,this.doc=null}saveAsJson(t){if(t.preventDefault(),this.doc&&this.pdf){let r=this.hs.getStudy();if(r){const i=JSON.stringify(r),s=document.createElement("a");s.setAttribute("href","data:text/json;charset=UTF-8,"+encodeURIComponent(i)),s.setAttribute("download",`${this.doc.id}-annot.json`),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}saveAsCypher(t){if(t.preventDefault(),this.doc&&this.pdf){let r=this.hs.getStudy();r&&this.convertToCypher(r)}}ngOnInit(){var t=this;return ji(function*(){t.dm=t.dms.getDataModel(),t.ds.document$.subscribe(function(){var r=ji(function*(i){t.isReady=!1,t.doc=i,t.doc.uri&&(yield t.getDocument(t.doc.uri)),yield t.hs.setStudy(t.doc),t.isReady=!0});return function(i){return r.apply(this,arguments)}}())})()}getDocument(t){var r=this;return ji(function*(){return yield(0,Fu.getDocument)("https://gitcdn.link/repo/Louar/SciModeler-study-annotator/main/docs"+t).promise.then(i=>{r.pdf=i}),r.pdf&&(r.nump=r.pdf.numPages,r.pnums=Array.from({length:r.nump},(i,s)=>s+1)),new Promise(i=>i())})()}convertToCypher(t){let r="";const i=t.document.id;if(!i)return void alert("`study.document.id` not found");if(t.highlights.filter(l=>!l.tags.instance.ref).length>0)return void alert("Highlights found without instance, see console!");const o=[...new Set(t.highlights.map(l=>l.tags.instance.ref))];for(const l of o){if(!l)continue;const c=t.highlights.filter(k=>k.tags.instance.ref===l),d=c[0].tags.entity,p={key:`${i}-${l.substring(2)}`};for(const k of c){const te=k.tags.attribute;te&&(p[te]||(p[te]=""),p[te]+=`"${k.selection}"`)}r+=`CREATE (n:${d} {${this.printObject(p)}});\n\n`}for(const l of t.relations){const[c,d]=l.iids,p=t.highlights.find(D=>D.tags.instance.ref===c),_=t.highlights.find(D=>D.tags.instance.ref===d);if(p&&_){const D=p.tags.entity,k=_.tags.entity;if(D&&k){const te=this.dms.getRelationType(D,k);te&&(r+=`MATCH (a:${D}),(b:${k}) WHERE a.key = '${i}-${c}' AND b.key = '${i}-${c}' CREATE (a)-[r:${te.substring(2)}]->(b) RETURN type(r);\n\n`)}}else p&&"Classification"===p.tags.entity&&this.dm.constructs.flatMap(k=>k.name).includes(d)&&(r+=`MATCH (a:Classification),(b:Construct) WHERE a.key = '${i}-${c}' AND b.name = '${i}-${c}' CREATE (a)-[r:AS_CONSTRUCT]->(b) RETURN type(r);\n\n`)}const a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=UTF-8,"+encodeURIComponent(r)),a.setAttribute("download",`${i}-import.txt`),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}printObject(t){let r="";const i=Object.entries(t).length;let s=0;for(const[o,a]of Object.entries(t))s++,r+=o+': "'+a.replace(/([^"\\]*(?:\\.[^"\\]*)*)"/g,'$1\\"')+'"',s!==i&&(r+=", ");return r}}return n.\u0275fac=function(t){return new(t||n)(ue(dg),ue(ku),ue(Ou))},n.\u0275cmp=ni({type:n,selectors:[["app-root"]],hostBindings:function(t,r){1&t&&ut("keydown.meta.s",function(s){return r.saveAsJson(s)},!1,Fd)("keydown.meta.e",function(s){return r.saveAsCypher(s)},!1,Fd)},decls:2,vars:1,consts:[["class","document",4,"ngIf"],[1,"document"],[3,"pdf","pnum",4,"ngFor","ngForOf"],[3,"pdf","pnum"]],template:function(t,r){1&t&&(et(0,A3,2,1,"div",0),Ct(1,"pdf-annotation-menu")),2&t&&Ve("ngIf",r.isReady)},directives:[Va,p3,La,v3],styles:[".document[_ngcontent-%COMP%]{width:1000px;background-color:#f1f2f6;display:flex;flex-direction:column;align-items:center;padding:12px 0}.document[_ngcontent-%COMP%]   pdf-page[_ngcontent-%COMP%]{margin:12px 0;background-color:#fff;border:1px solid #a4b0be}pdf-annotation-menu[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:calc(100vw - 1000px);height:100vh;padding:16px;background-color:#fff;border-left:1px solid #57606f}"]}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pn({type:n,bootstrap:[w3]}),n.\u0275inj=sn({providers:[dg,ku,Ou],imports:[[_N,i3,i2.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),jN,kL,RV]]}),n})();(function(){if(fv)throw new Error("Cannot enable prod mode after platform setup.");hv=!1})(),gN().bootstrapModule(D3).catch(n=>console.error(n))},52:ve=>{function f(h,F,G,ne,Y,I,B){try{var N=h[I](B),x=N.value}catch(j){return void G(j)}N.done?F(x):Promise.resolve(x).then(ne,Y)}ve.exports=function(h){return function(){var F=this,G=arguments;return new Promise(function(ne,Y){var I=h.apply(F,G);function B(x){f(I,ne,Y,B,N,"next",x)}function N(x){f(I,ne,Y,B,N,"throw",x)}B(void 0)})}},ve.exports.default=ve.exports,ve.exports.__esModule=!0},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{}},ve=>{ve(ve.s=719)}]);